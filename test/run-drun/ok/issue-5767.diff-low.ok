--- issue-5767.run
+++ issue-5767.run-low
@@ -1 +1,61165 @@
+(ActorU
+  (VarD @cycles Nat (LitE (NatLit 0)))
+  (VarD @timeout ?Nat32 (LitE NullLit))
+  (LetD
+    (VarP @add_cycles)
+    (FuncE
+      @add_cycles
+      Local
+      Returns
+      ($ Any)
+      ()
+      (BlockE
+        (LetD (VarP cycles) (VarE! @cycles))
+        (LetD WildP (PrimE (CallPrim) (VarE @reset_cycles) (PrimE TupPrim)))
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE (RelPrim Nat EqOp) (VarE cycles) (LitE (NatLit 0)))
+              (LitE (BoolLit false))
+            )
+            (PrimE SystemCyclesAddPrim (VarE cycles))
+            (PrimE TupPrim)
+          )
+        )
+        (SwitchE
+          (VarE! @timeout)
+          (case
+            (OptP (VarP timeout))
+            (BlockE
+              (LetD WildP (AssignE (VarLE @timeout) (LitE NullLit)))
+              (PrimE SystemTimeoutSetPrim (VarE timeout))
+            )
+          )
+          (case (LitP NullLit) (PrimE TupPrim))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @reset_cycles)
+    (FuncE
+      @reset_cycles
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @cycles) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @immut_array_get)
+    (FuncE
+      @immut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-45.49
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_get)
+    (FuncE
+      @mut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-46.51
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_size)
+    (FuncE
+      @immut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-47.51 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_size)
+    (FuncE
+      @mut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-48.53 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_put)
+    (FuncE
+      @mut_array_put
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      (Nat, A) -> ()
+      (FuncE
+        @anon-func-49.57
+        Local
+        Returns
+        (params n x)
+        ()
+        (AssignE (IdxLE (VarE xs) (VarE n)) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_keys)
+    (FuncE
+      @immut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-50.58
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_keys)
+    (FuncE
+      @mut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-55.60
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_vals)
+    (FuncE
+      @immut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-60.56
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_vals)
+    (FuncE
+      @mut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-67.58
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_size)
+    (FuncE
+      @blob_size
+      Local
+      Returns
+      (params b)
+      () -> Nat
+      (FuncE @anon-func-74.41 Local Returns Nat (PrimE blob_size (VarE b)))
+    )
+  )
+  (LetD
+    (VarP @blob_keys)
+    (FuncE
+      @blob_keys
+      Local
+      Returns
+      (params b)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-75.48
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE blob_size (VarE b)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_get)
+    (FuncE
+      @blob_get
+      Local
+      Returns
+      (params b)
+      Nat -> Nat8
+      (FuncE
+        @anon-func-80.42
+        Local
+        Returns
+        (params n)
+        Nat8
+        (PrimE IdxBlobPrim (VarE b) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_vals)
+    (FuncE
+      @blob_vals
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Nat8>
+      (FuncE
+        @anon-func-81.50
+        Local
+        Returns
+        @Iter<Nat8>
+        (BlockE
+          (LetD (VarP i) (PrimE blob_vals_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat8
+              (IfE
+                (PrimE blob_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE blob_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat8})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_size)
+    (FuncE
+      @text_size
+      Local
+      Returns
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-88.42 Local Returns Nat (PrimE text_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @text_chars)
+    (FuncE
+      @text_chars
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Char>
+      (FuncE
+        @anon-func-89.51
+        Local
+        Returns
+        @Iter<Char>
+        (BlockE
+          (LetD (VarP i) (PrimE text_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Char
+              (IfE
+                (PrimE text_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE text_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Char})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_num)
+    (FuncE
+      @text_of_num
+      Local
+      Returns
+      (params x base sep digits)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit )))
+        (VarD n Nat (VarE x))
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat EqOp) (VarE! n) (LitE (NatLit 0)))
+            (PrimE RetPrim (LitE (TextLit 0)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD
+          WildP
+          (LabelE
+            $done/2
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat GtOp) (VarE! n) (LitE (NatLit 0)))
+                (BlockE
+                  (LetD
+                    (VarP rem)
+                    (PrimE (BinPrim Nat ModOp) (VarE! n) (VarE base))
+                  )
+                  (LetD
+                    WildP
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat GtOp) (VarE sep) (LitE (NatLit 0)))
+                        (PrimE (RelPrim Nat EqOp) (VarE! i) (VarE sep))
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE text)
+                            (PrimE
+                              (BinPrim Text CatOp)
+                              (LitE (TextLit _))
+                              (VarE! text)
+                            )
+                          )
+                        )
+                        (AssignE (VarLE i) (LitE (NatLit 0)))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE text)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (PrimE (CallPrim) (VarE digits) (VarE rem))
+                        (VarE! text)
+                      )
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE n)
+                      (PrimE (BinPrim Nat DivOp) (VarE! n) (VarE base))
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/2) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (VarE! text)
+      )
+    )
+  )
+  (LetD
+    (VarP @left_pad)
+    (FuncE
+      @left_pad
+      Local
+      Returns
+      (params pad char t)
+      Text
+      (IfE
+        (PrimE (RelPrim Nat GtOp) (VarE pad) (PrimE text_len (VarE t)))
+        (BlockE
+          (VarD
+            i
+            Nat
+            (PrimE (BinPrim Nat SubOp) (VarE pad) (PrimE text_len (VarE t)))
+          )
+          (VarD text Text (VarE t))
+          (LetD
+            WildP
+            (LabelE
+              $done/3
+              ()
+              (LoopE
+                (IfE
+                  (PrimE (RelPrim Nat GtOp) (VarE! i) (LitE (NatLit 0)))
+                  (BlockE
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE text)
+                        (PrimE (BinPrim Text CatOp) (VarE char) (VarE! text))
+                      )
+                    )
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat SubOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE (BreakPrim $done/3) (PrimE TupPrim))
+                )
+              )
+            )
+          )
+          (VarE! text)
+        )
+        (VarE t)
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_dec)
+    (FuncE
+      @digits_dec
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE (BinPrim Int AddOp) (VarE x) (LitE (IntLit 48)))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat)
+    (FuncE
+      @text_of_Nat
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_num)
+        (PrimE
+          TupPrim
+          (VarE x)
+          (LitE (NatLit 10))
+          (LitE (NatLit 3))
+          (VarE @digits_dec)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int)
+    (FuncE
+      @text_of_Int
+      Local
+      Returns
+      (params x)
+      Text
+      (IfE
+        (PrimE (RelPrim Int EqOp) (VarE x) (LitE (IntLit 0)))
+        (LitE (TextLit 0))
+        (PrimE
+          (BinPrim Text CatOp)
+          (IfE
+            (PrimE (RelPrim Int LtOp) (VarE x) (LitE (IntLit 0)))
+            (LitE (TextLit -))
+            (LitE (TextLit +))
+          )
+          (PrimE (CallPrim) (VarE @text_of_Nat) (PrimE abs (VarE x)))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_hex)
+    (FuncE
+      @digits_hex
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE
+              (BinPrim Int AddOp)
+              (VarE x)
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE x) (LitE (NatLit 10)))
+                (LitE (IntLit 48))
+                (LitE (IntLit 55))
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @int64ToInt)
+    (FuncE
+      @int64ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int64 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int32ToInt)
+    (FuncE
+      @int32ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int32 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int16ToInt)
+    (FuncE
+      @int16ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int16 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int8ToInt)
+    (FuncE
+      @int8ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int8 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat64ToNat)
+    (FuncE
+      @nat64ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat64 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat32ToNat)
+    (FuncE
+      @nat32ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat32 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat16ToNat)
+    (FuncE
+      @nat16ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat16 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat8ToNat)
+    (FuncE
+      @nat8ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat8 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat8)
+    (FuncE
+      @text_of_Nat8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat8ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat16)
+    (FuncE
+      @text_of_Nat16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat16ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat32)
+    (FuncE
+      @text_of_Nat32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat32ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat64)
+    (FuncE
+      @text_of_Nat64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat64ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int8)
+    (FuncE
+      @text_of_Int8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int8ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int16)
+    (FuncE
+      @text_of_Int16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int16ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int32)
+    (FuncE
+      @text_of_Int32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int32ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int64)
+    (FuncE
+      @text_of_Int64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int64ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Float)
+    (FuncE
+      @text_of_Float
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE Float->Text (VarE x))
+    )
+  )
+  (LetD
+    (VarP @text_of_Bool)
+    (FuncE
+      @text_of_Bool
+      Local
+      Returns
+      (params b)
+      Text
+      (IfE (VarE b) (LitE (TextLit true)) (LitE (TextLit false)))
+    )
+  )
+  (LetD
+    (VarP @text_of_Text)
+    (FuncE
+      @text_of_Text
+      Local
+      Returns
+      (params t)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE (BinPrim Text CatOp) (LitE (TextLit ")) (VarE t))
+        (LitE (TextLit "))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Char)
+    (FuncE
+      @text_of_Char
+      Local
+      Returns
+      (params c)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE
+          (BinPrim Text CatOp)
+          (LitE (TextLit '))
+          (PrimE conv_Char_Text (VarE c))
+        )
+        (LitE (TextLit '))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Blob)
+    (FuncE
+      @text_of_Blob
+      Local
+      Returns
+      (params blob)
+      Text
+      (BlockE
+        (VarD t Text (LitE (TextLit ")))
+        (LetD
+          WildP
+          (BlockE
+            (LetD
+              (VarP $nxt/0)
+              (PrimE
+                (DotPrim next)
+                (PrimE
+                  (CallPrim)
+                  (PrimE (CallPrim) (VarE @blob_vals) (VarE blob))
+                  (PrimE TupPrim)
+                )
+              )
+            )
+            (LabelE
+              $done/4
+              ()
+              (LoopE
+                (SwitchE
+                  (PrimE (CallPrim) (VarE $nxt/0) (PrimE TupPrim))
+                  (case
+                    (LitP NullLit)
+                    (PrimE (BreakPrim $done/4) (PrimE TupPrim))
+                  )
+                  (case
+                    (OptP (VarP b))
+                    (AssignE
+                      (VarLE t)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (VarE! t)
+                        (PrimE
+                          (BinPrim Text CatOp)
+                          (LitE (TextLit \))
+                          (PrimE
+                            (CallPrim)
+                            (VarE @left_pad)
+                            (PrimE
+                              TupPrim
+                              (LitE (NatLit 2))
+                              (LitE (TextLit 0))
+                              (PrimE
+                                (CallPrim)
+                                (VarE @text_of_num)
+                                (PrimE
+                                  TupPrim
+                                  (PrimE (CallPrim) (VarE @nat8ToNat) (VarE b))
+                                  (LitE (NatLit 16))
+                                  (LitE (NatLit 0))
+                                  (VarE @digits_hex)
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE t)
+            (PrimE (BinPrim Text CatOp) (VarE! t) (LitE (TextLit ")))
+          )
+        )
+        (PrimE RetPrim (VarE! t))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_has_parens)
+    (FuncE
+      @text_has_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case (OptP (LitP (CharLit 40))) (LitE (BoolLit true)))
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_needs_parens)
+    (FuncE
+      @text_needs_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case
+          (OptP
+            (AltP
+              (AltP
+                (AltP (LitP (CharLit 43)) (LitP (CharLit 45)))
+                (LitP (CharLit 63))
+              )
+              (LitP (CharLit 35))
+            )
+          )
+          (LitE (BoolLit true))
+        )
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_option)
+    (FuncE
+      @text_of_option
+      Local
+      Returns
+      (T Any)
+      (params f x)
+      Text
+      (SwitchE
+        (VarE x)
+        (case
+          (OptP (VarP y))
+          (BlockE
+            (LetD (VarP fy) (PrimE (CallPrim) (VarE f) (VarE y)))
+            (IfE
+              (PrimE (CallPrim) (VarE @text_needs_parens) (VarE fy))
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE (BinPrim Text CatOp) (LitE (TextLit ?()) (VarE fy))
+                (LitE (TextLit )))
+              )
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit ?)) (VarE fy))
+            )
+          )
+        )
+        (case (LitP NullLit) (LitE (TextLit null)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_variant)
+    (FuncE
+      @text_of_variant
+      Local
+      Returns
+      (T Any)
+      (params l f x)
+      Text
+      (BlockE
+        (LetD (VarP fx) (PrimE (CallPrim) (VarE f) (VarE x)))
+        (IfE
+          (PrimE (RelPrim Text EqOp) (VarE fx) (LitE (TextLit ())))
+          (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+          (IfE
+            (PrimE (CallPrim) (VarE @text_has_parens) (VarE fx))
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+              (VarE fx)
+            )
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE
+                  (BinPrim Text CatOp)
+                  (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+                  (LitE (TextLit ())
+                )
+                (VarE fx)
+              )
+              (LitE (TextLit )))
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array)
+    (FuncE
+      @text_of_array
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/0) (VarE xs))
+            (LetD (VarP $last/0) (PrimE GetLastArrayOffset (VarE $arr/0)))
+            (VarD $indx/0 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/0) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/5
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/0) (VarE! $indx/0))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (AssignE (VarLE first) (LitE (BoolLit false)))
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/0) (VarE $last/0))
+                      (PrimE (BreakPrim $done/5) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/0)
+                        (PrimE NextArrayOffset (VarE! $indx/0))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array_mut)
+    (FuncE
+      @text_of_array_mut
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [var)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/1) (VarE xs))
+            (LetD (VarP $last/1) (PrimE GetLastArrayOffset (VarE $arr/1)))
+            (VarD $indx/1 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/1) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/6
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/1) (VarE! $indx/1))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE (VarLE first) (LitE (BoolLit false)))
+                              )
+                              (AssignE
+                                (VarLE text)
+                                (PrimE
+                                  (BinPrim Text CatOp)
+                                  (VarE! text)
+                                  (LitE (TextLit  ))
+                                )
+                              )
+                            )
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/1) (VarE $last/1))
+                      (PrimE (BreakPrim $done/6) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/1)
+                        (PrimE NextArrayOffset (VarE! $indx/1))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @equal_array)
+    (FuncE
+      @equal_array
+      Local
+      Returns
+      (T Any)
+      (params eq a b)
+      Bool
+      (BlockE
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE
+                (RelPrim Nat EqOp)
+                (PrimE array_len (VarE a))
+                (PrimE array_len (VarE b))
+              )
+              (LitE (BoolLit false))
+            )
+            (PrimE RetPrim (LitE (BoolLit false)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD (VarP s) (PrimE array_len (VarE a)))
+        (LetD
+          WildP
+          (LabelE
+            $done/7
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE! i) (VarE s))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE eq)
+                          (PrimE
+                            TupPrim
+                            (PrimE IdxPrim (VarE a) (VarE! i))
+                            (PrimE IdxPrim (VarE b) (VarE! i))
+                          )
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (PrimE RetPrim (LitE (BoolLit false)))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/7) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (PrimE RetPrim (LitE (BoolLit true)))
+      )
+    )
+  )
+  (VarD @refund Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @reset_refund)
+    (FuncE
+      @reset_refund
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @refund) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @getSystemRefund)
+    (FuncE
+      @getSystemRefund
+      Local
+      Returns
+      @Refund
+      (PrimE RetPrim (PrimE SystemCyclesRefundedPrim))
+    )
+  )
+  (LetD (VarP @cleanup) (FuncE @cleanup Local Returns () (PrimE TupPrim)))
+  (LetD
+    (VarP @new_async)
+    (FuncE
+      @new_async
+      Local
+      Returns
+      (T Any)
+      (@Async<T>, @Cont<T>, @Cont<Error>, @CleanCont)
+      (BlockE
+        (LetD
+          (VarP w_null)
+          (FuncE
+            @anon-func-293.16
+            Local
+            Returns
+            (params r t)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP r_null)
+          (FuncE
+            @anon-func-294.16
+            Local
+            Returns
+            (params $ignored0/0)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (VarD result ?@Result<T> (LitE NullLit))
+        (VarD ws (@Refund, T) -> () (VarE w_null))
+        (VarD rs Error -> () (VarE r_null))
+        (LetD
+          (VarP getRefund)
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE (RelPrim Nat EqOp) (VarE! @cycles) (LitE (NatLit 0)))
+            (LitE (BoolLit false))
+          )
+        )
+        (LetD
+          (VarP fulfill)
+          (FuncE
+            fulfill
+            Local
+            Returns
+            (params t)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP refund)
+                    (IfE
+                      (VarE getRefund)
+                      (PrimE (CallPrim) (VarE @getSystemRefund) (PrimE TupPrim))
+                      (LitE (NatLit 0))
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE
+                        OptPrim
+                        (PrimE (TagE ok) (PrimE TupPrim (VarE refund) (VarE t)))
+                      )
+                    )
+                  )
+                  (LetD (VarP ws_) (VarE! ws))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE
+                    (CallPrim)
+                    (VarE ws_)
+                    (PrimE TupPrim (VarE refund) (VarE t))
+                  )
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (LetD
+          (VarP fail)
+          (FuncE
+            fail
+            Local
+            Returns
+            (params e)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE OptPrim (PrimE (TagE error) (VarE e)))
+                    )
+                  )
+                  (LetD (VarP rs_) (VarE! rs))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE (CallPrim) (VarE rs_) (VarE e))
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (VarD cleanup () -> () (VarE @cleanup))
+        (LetD
+          (VarP enqueue)
+          (FuncE
+            enqueue
+            Local
+            Returns
+            (params k r b)
+            {#schedule : () -> (); #suspend}
+            (BlockE
+              (LetD WildP (AssignE (VarLE cleanup) (VarE b)))
+              (SwitchE
+                (VarE! result)
+                (case
+                  (LitP NullLit)
+                  (BlockE
+                    (LetD (VarP ws_) (VarE! ws))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE ws)
+                        (FuncE
+                          @anon-func-337.15
+                          Local
+                          Returns
+                          (params r t)
+                          ()
+                          (BlockE
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE ws_)
+                                (PrimE TupPrim (VarE r) (VarE t))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                            (PrimE (CallPrim) (VarE k) (VarE t))
+                          )
+                        )
+                      )
+                    )
+                    (LetD (VarP rs_) (VarE! rs))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE rs)
+                        (FuncE
+                          @anon-func-344.15
+                          Local
+                          Returns
+                          (params e)
+                          ()
+                          (BlockE
+                            (LetD WildP (PrimE (CallPrim) (VarE rs_) (VarE e)))
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_refund)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (PrimE (CallPrim) (VarE r) (VarE e))
+                          )
+                        )
+                      )
+                    )
+                    (PrimE (TagE suspend) (PrimE TupPrim))
+                  )
+                )
+                (case
+                  (OptP (TagP ok (TupP (VarP r) (VarP t))))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-353.19
+                      Local
+                      Returns
+                      ()
+                      (BlockE
+                        (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                        (PrimE (CallPrim) (VarE k) (VarE t))
+                      )
+                    )
+                  )
+                )
+                (case
+                  (OptP (TagP error (VarP e)))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-356.19
+                      Local
+                      Returns
+                      ()
+                      (PrimE (CallPrim) (VarE r) (VarE e))
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (VarE enqueue)
+          (VarE fulfill)
+          (VarE fail)
+          (FuncE
+            @anon-func-361.28
+            Local
+            Returns
+            ()
+            (PrimE (CallPrim) (VarE! cleanup) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @ManagementCanister)
+    (NewObjE
+      Module
+      module {type canister_settings = {compute_allocation : ?Nat; controllers : ?[Principal]; freezing_threshold : ?Nat; memory_allocation : ?Nat}; type wasm_module = Blob}
+    )
+  )
+  (LetD
+    (VarP @ic00)
+    (PrimE
+      (ActorOfIdBlob
+        actor {create_canister : shared {sender_canister_version : ?Nat64; settings : ?canister_settings} -> async {canister_id : Principal}; install_code : shared {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module} -> async ()}
+      )
+      (PrimE BlobOfIcUrl (LitE (TextLit aaaaa-aa)))
+    )
+  )
+  (LetD
+    (VarP @install_actor_helper)
+    (FuncE
+      @install_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params install_arg enhanced_orthogonal_persistence wasm_module arg)
+      async*<$> Principal
+      (AsyncE*
+        ($@anon-async*-416.24 Any)
+        (BlockE
+          (LetD
+            (TupP (VarP mode) (VarP canister_id))
+            (SwitchE
+              (VarE install_arg)
+              (case
+                (TagP new (VarP settings))
+                (BlockE
+                  (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+                  (LetD
+                    (VarP accepted)
+                    (PrimE SystemCyclesAcceptPrim (VarE available))
+                  )
+                  (LetD
+                    (VarP sender_canister_version)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE @cycles)
+                      (PrimE
+                        (BinPrim Nat AddOp)
+                        (VarE! @cycles)
+                        (VarE accepted)
+                      )
+                    )
+                  )
+                  (LetD
+                    (ObjP (canister_id (VarP canister_id)))
+                    (PrimE
+                      AwaitPrim
+                      (PrimE
+                        (CallPrim $@anon-async*-416.24)
+                        (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                        (BlockE
+                          (LetD (VarP $base/0) (VarE settings))
+                          (LetD
+                            (VarP $settings/0)
+                            (PrimE (DotPrim settings) (VarE $base/0))
+                          )
+                          (NewObjE
+                            Object
+                            (settings $settings/0)
+                            (sender_canister_version sender_canister_version)
+                            {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE install) (PrimE TupPrim))
+                    (VarE canister_id)
+                  )
+                )
+              )
+              (case
+                (TagP install (VarP principal1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE install) (PrimE TupPrim))
+                  (VarE principal1)
+                )
+              )
+              (case
+                (TagP reinstall (VarP actor1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE reinstall) (PrimE TupPrim))
+                  (PrimE principalOfActor (VarE actor1))
+                )
+              )
+              (case
+                (TagP upgrade (VarP actor2))
+                (BlockE
+                  (LetD
+                    (VarP wasm_memory_persistence)
+                    (IfE
+                      (VarE enhanced_orthogonal_persistence)
+                      (PrimE OptPrim (PrimE (TagE keep) (PrimE TupPrim)))
+                      (LitE NullLit)
+                    )
+                  )
+                  (LetD
+                    (VarP upgradeOptions)
+                    (NewObjE
+                      Object
+                      (wasm_memory_persistence wasm_memory_persistence)
+                      {wasm_memory_persistence : ?{#keep}}
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE actor2))
+                  )
+                )
+              )
+              (case
+                (TagP
+                  upgrade_with_persistence
+                  (ObjP
+                    (wasm_memory_persistence (VarP wasm_memory_persistence))
+                    (canister (VarP canister))
+                  )
+                )
+                (BlockE
+                  (LetD
+                    (VarP upgradeOptions)
+                    (BlockE
+                      (LetD
+                        (VarP $wasm_memory_persistence/0)
+                        (PrimE OptPrim (VarE wasm_memory_persistence))
+                      )
+                      (NewObjE
+                        Object
+                        (wasm_memory_persistence $wasm_memory_persistence/0)
+                        {wasm_memory_persistence : ?{#keep; #replace}}
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE canister))
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async*-416.24)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD
+                    (VarP $sender_canister_version/0)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/0)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode mode)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @create_actor_helper)
+    (FuncE
+      @create_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params wasm_module arg)
+      async<$> Principal
+      (AsyncE
+        ($@anon-async-464.79 Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD (VarP accepted) (PrimE SystemCyclesAcceptPrim (VarE available)))
+          (LetD
+            (VarP sender_canister_version)
+            (PrimE OptPrim (PrimE canister_version))
+          )
+          (LetD
+            WildP
+            (AssignE
+              (VarLE @cycles)
+              (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE accepted))
+            )
+          )
+          (LetD
+            (ObjP (canister_id (VarP canister_id)))
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $settings/1) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (sender_canister_version sender_canister_version)
+                    (settings $settings/1)
+                    {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $mode/0) (PrimE (TagE install) (PrimE TupPrim)))
+                  (LetD
+                    (VarP $sender_canister_version/1)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/1)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode $mode/0)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_raw)
+    (FuncE
+      @call_raw
+      Local
+      Returns
+      ($ Any)
+      (params p m a)
+      async<$> Blob
+      (AsyncE
+        ($@call_raw Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD
+            WildP
+            (IfE
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE (RelPrim Nat EqOp) (VarE available) (LitE (NatLit 0)))
+                (LitE (BoolLit false))
+              )
+              (AssignE
+                (VarLE @cycles)
+                (PrimE SystemCyclesAcceptPrim (VarE available))
+              )
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE AwaitPrim (PrimE call_raw (VarE p) (VarE m) (VarE a)))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_succeeded)
+    (FuncE
+      @call_succeeded
+      Local
+      Returns
+      Bool
+      (PrimE
+        (RelPrim Nat32 EqOp)
+        (PrimE call_perform_status)
+        (LitE (Nat32Lit 0))
+      )
+    )
+  )
+  (LetD
+    (VarP @call_error)
+    (FuncE
+      @call_error
+      Local
+      Returns
+      Error
+      (BlockE
+        (LetD (VarP status) (PrimE call_perform_status))
+        (LetD (VarP message) (PrimE call_perform_message))
+        (LetD
+          (VarP code)
+          (PrimE
+            (TagE call_error)
+            (NewObjE Object (err_code status) {err_code : Nat32})
+          )
+        )
+        (PrimE
+          (CastPrim ({#call_error : {err_code : Nat32}}, Text) Error)
+          (PrimE TupPrim (VarE code) (VarE message))
+        )
+      )
+    )
+  )
+  (VarD @timers ?@Node (LitE NullLit))
+  (LetD
+    (VarP @prune)
+    (FuncE
+      @prune
+      Local
+      Returns
+      (params n)
+      ?@Node
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE NullLit))
+        (case
+          (OptP (VarP n))
+          (IfE
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+              (LitE (Nat64Lit 0))
+            )
+            (PrimE (CallPrim) (VarE @prune) (PrimE (DotPrim post) (VarE n)))
+            (PrimE
+              OptPrim
+              (BlockE
+                (LetD (VarP $base/1) (VarE n))
+                (LetD
+                  (VarP $pre/0)
+                  (PrimE
+                    (CallPrim)
+                    (VarE @prune)
+                    (PrimE (DotPrim pre) (VarE n))
+                  )
+                )
+                (LetD (VarP $delay/0) (PrimE (DotPrim delay) (VarE $base/1)))
+                (LetD (VarP $expire/0) (PrimE (DotPrim expire) (VarE $base/1)))
+                (LetD (VarP $id/0) (PrimE (DotPrim id) (VarE $base/1)))
+                (LetD (VarP $job/0) (PrimE (DotPrim job) (VarE $base/1)))
+                (LetD (VarP $post/0) (PrimE (DotPrim post) (VarE $base/1)))
+                (NewObjE
+                  Object
+                  (post $post/0)
+                  (job $job/0)
+                  (id $id/0)
+                  (expire $expire/0)
+                  (delay $delay/0)
+                  (pre $pre/0)
+                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @nextExpiration)
+    (FuncE
+      @nextExpiration
+      Local
+      Returns
+      (params n)
+      Nat64
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE (Nat64Lit 0)))
+        (case
+          (OptP (VarP n))
+          (BlockE
+            (LetD
+              (VarP pivot)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+            )
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat64 EqOp) (VarE pivot) (LitE (Nat64Lit 0)))
+                (PrimE
+                  RetPrim
+                  (PrimE
+                    (CallPrim)
+                    (VarE @nextExpiration)
+                    (PrimE (DotPrim post) (VarE n))
+                  )
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              (VarP exp)
+              (PrimE
+                (CallPrim)
+                (VarE @nextExpiration)
+                (PrimE (DotPrim pre) (VarE n))
+              )
+            )
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (VarE pivot)
+              (VarE exp)
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @timer_helper)
+    (FuncE
+      @timer_helper
+      Local
+      Returns
+      ($ Any)
+      async<$> ()
+      (AsyncE
+        ($@timer_helper Any)
+        (BlockE
+          (LetD
+            (VarP Array_init)
+            (FuncE
+              Array_init
+              Local
+              Returns
+              (T Any)
+              (params len x)
+              [var T]
+              (PrimE Array.init (VarE len) (VarE x))
+            )
+          )
+          (LetD (VarP now) (PrimE SystemTimePrim))
+          (VarD gathered Nat (LitE (NatLit 0)))
+          (LetD
+            (VarP thunks)
+            (PrimE
+              (CallPrim ?(() -> async ()))
+              (VarE Array_init)
+              (PrimE TupPrim (LitE (NatLit 10)) (LitE NullLit))
+            )
+          )
+          (LetD
+            (VarP gatherExpired)
+            (FuncE
+              gatherExpired
+              Local
+              Returns
+              (params n)
+              ()
+              (SwitchE
+                (VarE n)
+                (case (LitP NullLit) (PrimE TupPrim))
+                (case
+                  (OptP (VarP n))
+                  (BlockE
+                    (LetD
+                      (VarP pivot)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (LetD
+                      WildP
+                      (IfE
+                        (PrimE
+                          (RelPrim Nat64 GtOp)
+                          (VarE pivot)
+                          (LitE (Nat64Lit 0))
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim pre) (VarE n))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat64 LeOp) (VarE pivot) (VarE now))
+                        (PrimE
+                          (RelPrim Nat LtOp)
+                          (VarE! gathered)
+                          (PrimE array_len (VarE thunks))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat64 GtOp)
+                              (VarE pivot)
+                              (LitE (Nat64Lit 0))
+                            )
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE
+                                  (IdxLE (VarE thunks) (VarE! gathered))
+                                  (PrimE OptPrim (PrimE (DotPrim job) (VarE n)))
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (SwitchE
+                                  (PrimE (DotPrim delay) (VarE n))
+                                  (case
+                                    (AltP
+                                      (LitP NullLit)
+                                      (OptP (LitP (Nat64Lit 0)))
+                                    )
+                                    (AssignE
+                                      (IdxLE
+                                        (PrimE (DotPrim expire) (VarE n))
+                                        (LitE (NatLit 0))
+                                      )
+                                      (LitE (Nat64Lit 0))
+                                    )
+                                  )
+                                  (case
+                                    (OptP (VarP delay))
+                                    (BlockE
+                                      (LetD
+                                        (VarP expire)
+                                        (PrimE
+                                          (BinPrim Nat64 AddOp)
+                                          (VarE pivot)
+                                          (PrimE
+                                            (BinPrim Nat64 MulOp)
+                                            (VarE delay)
+                                            (PrimE
+                                              (BinPrim Nat64 AddOp)
+                                              (LitE (Nat64Lit 1))
+                                              (PrimE
+                                                (BinPrim Nat64 DivOp)
+                                                (PrimE
+                                                  (BinPrim Nat64 SubOp)
+                                                  (VarE now)
+                                                  (VarE pivot)
+                                                )
+                                                (VarE delay)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE
+                                            (PrimE (DotPrim expire) (VarE n))
+                                            (LitE (NatLit 0))
+                                          )
+                                          (LitE (Nat64Lit 0))
+                                        )
+                                      )
+                                      (LetD
+                                        (VarP reinsert)
+                                        (FuncE
+                                          reinsert
+                                          Local
+                                          Returns
+                                          (params m)
+                                          @Node
+                                          (SwitchE
+                                            (VarE m)
+                                            (case
+                                              (LitP NullLit)
+                                              (BlockE
+                                                (LetD (VarP $base/2) (VarE n))
+                                                (LetD
+                                                  (VarP $expire/1)
+                                                  (PrimE
+                                                    (ArrayPrim Var Nat64)
+                                                    (VarE expire)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $pre/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $post/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $delay/1)
+                                                  (PrimE
+                                                    (DotPrim delay)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $id/1)
+                                                  (PrimE
+                                                    (DotPrim id)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $job/1)
+                                                  (PrimE
+                                                    (DotPrim job)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (NewObjE
+                                                  Object
+                                                  (job $job/1)
+                                                  (id $id/1)
+                                                  (delay $delay/1)
+                                                  (post $post/1)
+                                                  (pre $pre/1)
+                                                  (expire $expire/1)
+                                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                )
+                                              )
+                                            )
+                                            (case
+                                              (OptP (VarP m))
+                                              (BlockE
+                                                (LetD
+                                                  WildP
+                                                  (PrimE
+                                                    AssertPrim
+                                                    (PrimE
+                                                      (RelPrim Bool EqOp)
+                                                      (PrimE
+                                                        (RelPrim Nat64 EqOp)
+                                                        (PrimE
+                                                          IdxPrim
+                                                          (PrimE
+                                                            (DotPrim expire)
+                                                            (VarE m)
+                                                          )
+                                                          (LitE (NatLit 0))
+                                                        )
+                                                        (LitE (Nat64Lit 0))
+                                                      )
+                                                      (LitE (BoolLit false))
+                                                    )
+                                                  )
+                                                )
+                                                (IfE
+                                                  (PrimE
+                                                    (RelPrim Nat64 LtOp)
+                                                    (VarE expire)
+                                                    (PrimE
+                                                      IdxPrim
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE m)
+                                                      )
+                                                      (LitE (NatLit 0))
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/4)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/3)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim pre)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/3)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/3)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/3)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/3)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/3)
+                                                      (PrimE
+                                                        (DotPrim post)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (post $post/3)
+                                                      (job $job/3)
+                                                      (id $id/3)
+                                                      (expire $expire/3)
+                                                      (delay $delay/3)
+                                                      (pre $pre/3)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/3)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/2)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim post)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/2)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/2)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/2)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/2)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/2)
+                                                      (PrimE
+                                                        (DotPrim pre)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (pre $pre/2)
+                                                      (job $job/2)
+                                                      (id $id/2)
+                                                      (expire $expire/2)
+                                                      (delay $delay/2)
+                                                      (post $post/2)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (AssignE
+                                        (VarLE @timers)
+                                        (PrimE
+                                          OptPrim
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE reinsert)
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE @prune)
+                                              (VarE! @timers)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                              (AssignE
+                                (VarLE gathered)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! gathered)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE TupPrim)
+                          )
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim post) (VarE n))
+                        )
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (LetD WildP (PrimE (CallPrim) (VarE gatherExpired) (VarE! @timers)))
+          (LetD
+            (VarP exp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+          )
+          (LetD
+            WildP
+            (BlockE
+              (LetD WildP (PrimE global_timer_set (VarE exp)))
+              (PrimE TupPrim)
+            )
+          )
+          (LetD
+            WildP
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (AssignE (VarLE @timers) (LitE NullLit))
+              (PrimE TupPrim)
+            )
+          )
+          (VarD failed Nat64 (LitE (Nat64Lit 0)))
+          (LetD
+            (VarP reinsert)
+            (FuncE
+              reinsert
+              Local
+              Returns
+              (params job)
+              ()
+              (BlockE
+                (LetD
+                  WildP
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 EqOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 0))
+                    )
+                    (BlockE
+                      (LetD
+                        WildP
+                        (AssignE
+                          (VarLE @timers)
+                          (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+                        )
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (PrimE global_timer_set (LitE (Nat64Lit 1)))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (PrimE TupPrim)
+                  )
+                )
+                (LetD
+                  WildP
+                  (AssignE
+                    (VarLE failed)
+                    (PrimE
+                      (BinPrim Nat64 AddOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 1))
+                    )
+                  )
+                )
+                (AssignE
+                  (VarLE @timers)
+                  (PrimE
+                    OptPrim
+                    (SwitchE
+                      (VarE! @timers)
+                      (case
+                        (OptP
+                          (ObjP
+                            (id (LitP (IntLit 0)))
+                            (pre (VarP pre))
+                            (post (VarP post))
+                            (job (VarP j))
+                            (expire (VarP expire))
+                            (delay (VarP delay))
+                          )
+                        )
+                        (BlockE
+                          (LetD
+                            (VarP $expire/4)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/4) (LitE (NatLit 0)))
+                          (LetD
+                            (VarP $pre/4)
+                            (PrimE
+                              OptPrim
+                              (BlockE
+                                (LetD (VarP $id/5) (LitE (NatLit 0)))
+                                (LetD (VarP $post/4) (LitE NullLit))
+                                (NewObjE
+                                  Object
+                                  (job j)
+                                  (delay delay)
+                                  (post $post/4)
+                                  (pre pre)
+                                  (expire expire)
+                                  (id $id/5)
+                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                )
+                              )
+                            )
+                          )
+                          (NewObjE
+                            Object
+                            (pre $pre/4)
+                            (post post)
+                            (job job)
+                            (delay delay)
+                            (id $id/4)
+                            (expire $expire/4)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                      (case
+                        WildP
+                        (BlockE
+                          (LetD
+                            (VarP $expire/5)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/6) (LitE (NatLit 0)))
+                          (LetD (VarP $delay/4) (LitE NullLit))
+                          (LetD (VarP $pre/5) (LitE NullLit))
+                          (LetD (VarP $post/5) (VarE! @timers))
+                          (NewObjE
+                            Object
+                            (post $post/5)
+                            (pre $pre/5)
+                            (job job)
+                            (delay $delay/4)
+                            (id $id/6)
+                            (expire $expire/5)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (BlockE
+            (LetD (VarP $arr/2) (VarE thunks))
+            (LetD (VarP $last/2) (PrimE GetLastArrayOffset (VarE $arr/2)))
+            (VarD $indx/2 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/2) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/8
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP o)
+                      (PrimE DerefArrayOffset (VarE $arr/2) (VarE! $indx/2))
+                    )
+                    (LetD
+                      WildP
+                      (SwitchE
+                        (VarE o)
+                        (case
+                          (OptP (VarP thunk))
+                          (TryE
+                            (BlockE
+                              (LetD
+                                WildP
+                                (PrimE
+                                  (CallPrim $@timer_helper)
+                                  (VarE thunk)
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                            (case
+                              WildP
+                              (PrimE (CallPrim) (VarE reinsert) (VarE thunk))
+                            )
+                          )
+                        )
+                        (case WildP (PrimE RetPrim (PrimE TupPrim)))
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/2) (VarE $last/2))
+                      (PrimE (BreakPrim $done/8) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/2)
+                        (PrimE NextArrayOffset (VarE! $indx/2))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        $
+      )
+    )
+  )
+  (VarD @lastTimerId Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @setTimer)
+    (FuncE
+      @setTimer
+      Local
+      Returns
+      ($ Any)
+      (params delayNanos recurring job)
+      (id : Nat)
+      (BlockE
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @lastTimerId)
+            (PrimE (BinPrim Nat AddOp) (VarE! @lastTimerId) (LitE (NatLit 1)))
+          )
+        )
+        (LetD (VarP id) (VarE! @lastTimerId))
+        (LetD (VarP now) (PrimE SystemTimePrim))
+        (LetD
+          (VarP expire)
+          (PrimE (BinPrim Nat64 AddOp) (VarE now) (VarE delayNanos))
+        )
+        (LetD
+          (VarP delay)
+          (IfE
+            (VarE recurring)
+            (PrimE OptPrim (VarE delayNanos))
+            (LitE NullLit)
+          )
+        )
+        (LetD
+          (VarP insert)
+          (FuncE
+            insert
+            Local
+            Returns
+            (params n)
+            @Node
+            (SwitchE
+              (VarE n)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP $expire/6)
+                    (PrimE (ArrayPrim Var Nat64) (VarE expire))
+                  )
+                  (LetD (VarP $pre/6) (LitE NullLit))
+                  (LetD (VarP $post/6) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (post $post/6)
+                    (pre $pre/6)
+                    (job job)
+                    (delay delay)
+                    (id id)
+                    (expire $expire/6)
+                    {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                  )
+                )
+              )
+              (case
+                (OptP (VarP n))
+                (BlockE
+                  (LetD
+                    WildP
+                    (PrimE
+                      AssertPrim
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (PrimE
+                            IdxPrim
+                            (PrimE (DotPrim expire) (VarE n))
+                            (LitE (NatLit 0))
+                          )
+                          (LitE (Nat64Lit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                    )
+                  )
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 LtOp)
+                      (VarE expire)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/6) (VarE n))
+                      (LetD
+                        (VarP $pre/8)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim pre) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/6)
+                        (PrimE (DotPrim delay) (VarE $base/6))
+                      )
+                      (LetD
+                        (VarP $expire/8)
+                        (PrimE (DotPrim expire) (VarE $base/6))
+                      )
+                      (LetD (VarP $id/8) (PrimE (DotPrim id) (VarE $base/6)))
+                      (LetD (VarP $job/5) (PrimE (DotPrim job) (VarE $base/6)))
+                      (LetD
+                        (VarP $post/8)
+                        (PrimE (DotPrim post) (VarE $base/6))
+                      )
+                      (NewObjE
+                        Object
+                        (post $post/8)
+                        (job $job/5)
+                        (id $id/8)
+                        (expire $expire/8)
+                        (delay $delay/6)
+                        (pre $pre/8)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/5) (VarE n))
+                      (LetD
+                        (VarP $post/7)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/5)
+                        (PrimE (DotPrim delay) (VarE $base/5))
+                      )
+                      (LetD
+                        (VarP $expire/7)
+                        (PrimE (DotPrim expire) (VarE $base/5))
+                      )
+                      (LetD (VarP $id/7) (PrimE (DotPrim id) (VarE $base/5)))
+                      (LetD (VarP $job/4) (PrimE (DotPrim job) (VarE $base/5)))
+                      (LetD (VarP $pre/7) (PrimE (DotPrim pre) (VarE $base/5)))
+                      (NewObjE
+                        Object
+                        (pre $pre/7)
+                        (job $job/4)
+                        (id $id/7)
+                        (expire $expire/7)
+                        (delay $delay/5)
+                        (post $post/7)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE
+              OptPrim
+              (PrimE
+                (CallPrim)
+                (VarE insert)
+                (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP exp)
+          (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+            (AssignE (VarLE @timers) (LitE NullLit))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (BlockE
+            (LetD WildP (PrimE global_timer_set (VarE exp)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarE id)
+      )
+    )
+  )
+  (LetD
+    (VarP @cancelTimer)
+    (FuncE
+      @cancelTimer
+      Local
+      Returns
+      (params id)
+      ()
+      (BlockE
+        (LetD
+          (VarP graft)
+          (FuncE
+            graft
+            Local
+            Returns
+            (params onto branch)
+            ?@Node
+            (SwitchE
+              (PrimE TupPrim (VarE onto) (VarE branch))
+              (case (TupP (LitP NullLit) (LitP NullLit)) (LitE NullLit))
+              (case (TupP (LitP NullLit) WildP) (VarE branch))
+              (case (TupP WildP (LitP NullLit)) (VarE onto))
+              (case
+                (TupP (OptP (VarP onto)) WildP)
+                (PrimE
+                  OptPrim
+                  (BlockE
+                    (LetD (VarP $base/7) (VarE onto))
+                    (LetD
+                      (VarP $post/9)
+                      (PrimE
+                        (CallPrim)
+                        (VarE graft)
+                        (PrimE
+                          TupPrim
+                          (PrimE (DotPrim post) (VarE onto))
+                          (VarE branch)
+                        )
+                      )
+                    )
+                    (LetD
+                      (VarP $delay/7)
+                      (PrimE (DotPrim delay) (VarE $base/7))
+                    )
+                    (LetD
+                      (VarP $expire/9)
+                      (PrimE (DotPrim expire) (VarE $base/7))
+                    )
+                    (LetD (VarP $id/9) (PrimE (DotPrim id) (VarE $base/7)))
+                    (LetD (VarP $job/6) (PrimE (DotPrim job) (VarE $base/7)))
+                    (LetD (VarP $pre/9) (PrimE (DotPrim pre) (VarE $base/7)))
+                    (NewObjE
+                      Object
+                      (pre $pre/9)
+                      (job $job/6)
+                      (id $id/9)
+                      (expire $expire/9)
+                      (delay $delay/7)
+                      (post $post/9)
+                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP hunt)
+          (FuncE
+            hunt
+            Local
+            Returns
+            (params n)
+            ?@Node
+            (SwitchE
+              (VarE n)
+              (case (LitP NullLit) (VarE n))
+              (case
+                (OptP
+                  (ObjP (id (VarP node)) (pre (VarP pre)) (post (VarP post)))
+                )
+                (IfE
+                  (PrimE (RelPrim Nat EqOp) (VarE node) (VarE id))
+                  (PrimE
+                    (CallPrim)
+                    (VarE graft)
+                    (PrimE TupPrim (VarE pre) (VarE post))
+                  )
+                  (LabelE
+                    !
+                    ?@Node
+                    (PrimE
+                      OptPrim
+                      (BlockE
+                        (LetD
+                          (VarP $base/8)
+                          (SwitchE
+                            (VarE n)
+                            (case
+                              (LitP NullLit)
+                              (PrimE (BreakPrim !) (LitE NullLit))
+                            )
+                            (case (OptP (VarP $v/1)) (VarE $v/1))
+                          )
+                        )
+                        (LetD
+                          (VarP $pre/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE pre))
+                        )
+                        (LetD
+                          (VarP $post/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE post))
+                        )
+                        (LetD
+                          (VarP $delay/8)
+                          (PrimE (DotPrim delay) (VarE $base/8))
+                        )
+                        (LetD
+                          (VarP $expire/10)
+                          (PrimE (DotPrim expire) (VarE $base/8))
+                        )
+                        (LetD (VarP $id/10) (PrimE (DotPrim id) (VarE $base/8)))
+                        (LetD
+                          (VarP $job/7)
+                          (PrimE (DotPrim job) (VarE $base/8))
+                        )
+                        (NewObjE
+                          Object
+                          (job $job/7)
+                          (id $id/10)
+                          (expire $expire/10)
+                          (delay $delay/8)
+                          (post $post/10)
+                          (pre $pre/10)
+                          {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE (CallPrim) (VarE hunt) (VarE! @timers))
+          )
+        )
+        (IfE
+          (PrimE
+            (RelPrim Nat64 EqOp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+            (LitE (Nat64Lit 0))
+          )
+          (BlockE
+            (LetD
+              WildP
+              (BlockE
+                (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 0))))
+                (PrimE TupPrim)
+              )
+            )
+            (AssignE (VarLE @timers) (LitE NullLit))
+          )
+          (PrimE TupPrim)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @set_global_timer)
+    (FuncE
+      @set_global_timer
+      Local
+      Returns
+      (params time)
+      ()
+      (BlockE (LetD WildP (PrimE global_timer_set (VarE time))) (PrimE TupPrim))
+    )
+  )
+  (LetD
+    (VarP @dedup)
+    (FuncE
+      @dedup
+      Local
+      Returns
+      (params b)
+      Blob
+      (BlockE
+        (LetD
+          (VarP Array_tabulate)
+          (FuncE
+            Array_tabulate
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [T]
+            (PrimE Array.tabulate (VarE len) (VarE gen))
+          )
+        )
+        (LetD
+          (VarP Array_tabulateVar)
+          (FuncE
+            Array_tabulateVar
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [var T]
+            (PrimE Array.tabulateVar (VarE len) (VarE gen))
+          )
+        )
+        (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+        (LetD
+          (VarP debugPrint)
+          (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+        )
+        (LetD
+          (VarP hashBlob)
+          (FuncE
+            hashBlob
+            Local
+            Returns
+            (params b)
+            Nat32
+            (PrimE crc32Hash (VarE b))
+          )
+        )
+        (LetD
+          (VarP allocWeakRef)
+          (FuncE
+            allocWeakRef
+            Local
+            Returns
+            (T Any)
+            (params obj)
+            weak T
+            (PrimE alloc_weak_ref (VarE obj))
+          )
+        )
+        (LetD
+          (VarP weakGet)
+          (FuncE
+            weakGet
+            Local
+            Returns
+            (T Any)
+            (params w)
+            ?T
+            (PrimE weak_get (VarE w))
+          )
+        )
+        (LetD
+          (VarP getDedupTable)
+          (FuncE
+            getDedupTable
+            Local
+            Returns
+            ?[var List]
+            (PrimE get_dedup_table)
+          )
+        )
+        (LetD
+          (VarP setDedupTable)
+          (FuncE
+            setDedupTable
+            Local
+            Returns
+            (params dedupTable)
+            ()
+            (PrimE set_dedup_table (VarE dedupTable))
+          )
+        )
+        (LetD
+          (VarP arrayToBlob)
+          (FuncE
+            arrayToBlob
+            Local
+            Returns
+            (params a)
+            Blob
+            (PrimE arrayToBlob (VarE a))
+          )
+        )
+        (LetD
+          (VarP getOriginalBlob)
+          (FuncE
+            getOriginalBlob
+            Local
+            Returns
+            (params b)
+            Blob
+            (BlockE
+              (LetD
+                (VarP copiedArr)
+                (PrimE
+                  (CallPrim Nat8)
+                  (VarE Array_tabulate)
+                  (PrimE
+                    TupPrim
+                    (PrimE
+                      (BinPrim Nat SubOp)
+                      (PrimE blob_size (VarE b))
+                      (LitE (NatLit 5))
+                    )
+                    (FuncE
+                      @anon-func-744.50
+                      Local
+                      Returns
+                      (params i)
+                      Nat8
+                      (PrimE
+                        IdxBlobPrim
+                        (VarE b)
+                        (PrimE (BinPrim Nat AddOp) (VarE i) (LitE (NatLit 5)))
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP originalBlob)
+                (PrimE (CallPrim) (VarE arrayToBlob) (VarE copiedArr))
+              )
+              (VarE originalBlob)
+            )
+          )
+        )
+        (LetD
+          (VarP blobCompare)
+          (FuncE
+            blobCompare
+            Local
+            Returns
+            (params b1 b2)
+            Int8
+            (PrimE blob_compare (VarE b1) (VarE b2))
+          )
+        )
+        (LetD
+          (VarP addToList)
+          (FuncE
+            addToList
+            Local
+            Returns
+            (params list originalBlob weakRef)
+            List
+            (BlockE
+              (LetD
+                (VarP newList)
+                (BlockE
+                  (VarD
+                    $next/0
+                    ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                    (PrimE OptPrim (VarE list))
+                  )
+                  (LetD (VarP $value/0) (PrimE OptPrim (VarE weakRef)))
+                  (LetD
+                    (VarP $index/0)
+                    (PrimE
+                      (BinPrim Nat AddOp)
+                      (PrimE (DotPrim index) (VarE list))
+                      (LitE (NatLit 1))
+                    )
+                  )
+                  (NewObjE
+                    Object
+                    (index $index/0)
+                    (originalBlob originalBlob)
+                    (value $value/0)
+                    (next $next/0)
+                    {index : Nat; var next : ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}; originalBlob : Blob; value : ?{ref : weak Blob}}
+                  )
+                )
+              )
+              (VarE newList)
+            )
+          )
+        )
+        (LetD
+          (VarP getFromList)
+          (FuncE
+            getFromList
+            Local
+            Returns
+            (params list originalBlob)
+            ?WeakRef
+            (BlockE
+              (VarD
+                copy
+                {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                (VarE list)
+              )
+              (LoopE
+                (IfE
+                  (PrimE
+                    (RelPrim Int8 EqOp)
+                    (PrimE
+                      (CallPrim)
+                      (VarE blobCompare)
+                      (PrimE
+                        TupPrim
+                        (PrimE (DotPrim originalBlob) (VarE! copy))
+                        (VarE originalBlob)
+                      )
+                    )
+                    (LitE (Int8Lit 0))
+                  )
+                  (PrimE RetPrim (PrimE (DotPrim value) (VarE! copy)))
+                  (BlockE
+                    (LetD (VarP next) (PrimE (DotPrim next) (VarE! copy)))
+                    (SwitchE
+                      (VarE next)
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                      (case
+                        (OptP (VarP next))
+                        (AssignE (VarLE copy) (VarE next))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getListLen)
+          (FuncE
+            getListLen
+            Local
+            Returns
+            (params list)
+            Nat
+            (PrimE (DotPrim index) (VarE list))
+          )
+        )
+        (LetD
+          (VarP getHashArrayLen)
+          (FuncE
+            getHashArrayLen
+            Local
+            Returns
+            (params hashArray)
+            Nat
+            (BlockE
+              (VarD len Nat (LitE (NatLit 0)))
+              (VarD i Nat (LitE (NatLit 0)))
+              (LetD
+                WildP
+                (LabelE
+                  $done/9
+                  ()
+                  (LoopE
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat LtOp)
+                        (VarE! i)
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE len)
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (VarE! len)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getListLen)
+                                (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE i)
+                          (PrimE
+                            (BinPrim Nat AddOp)
+                            (VarE! i)
+                            (LitE (NatLit 1))
+                          )
+                        )
+                      )
+                      (PrimE (BreakPrim $done/9) (PrimE TupPrim))
+                    )
+                  )
+                )
+              )
+              (VarE! len)
+            )
+          )
+        )
+        (LetD
+          (VarP addToHashArray)
+          (FuncE
+            addToHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ()
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (LetD
+                (VarP weakRef)
+                (BlockE
+                  (LetD
+                    (VarP $ref/0)
+                    (PrimE (CallPrim Blob) (VarE allocWeakRef) (VarE b))
+                  )
+                  (NewObjE Object (ref $ref/0) {ref : weak Blob})
+                )
+              )
+              (AssignE
+                (IdxLE (VarE hashArray) (VarE index))
+                (PrimE
+                  (CallPrim)
+                  (VarE addToList)
+                  (PrimE
+                    TupPrim
+                    (VarE list)
+                    (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                    (VarE weakRef)
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getFromHashArray)
+          (FuncE
+            getFromHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ?WeakRef
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (PrimE
+                (CallPrim)
+                (VarE getFromList)
+                (PrimE
+                  TupPrim
+                  (VarE list)
+                  (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Nat LtOp)
+              (PrimE blob_size (VarE b))
+              (LitE (NatLit 5))
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (IfE
+              (IfE
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 0)))
+                        (LitE (Nat8Lit 33))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 1)))
+                        (LitE (Nat8Lit 99))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                  (LitE (BoolLit true))
+                  (PrimE
+                    (RelPrim Bool EqOp)
+                    (PrimE
+                      (RelPrim Nat8 EqOp)
+                      (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 2)))
+                      (LitE (Nat8Lit 97))
+                    )
+                    (LitE (BoolLit false))
+                  )
+                )
+                (LitE (BoolLit true))
+                (PrimE
+                  (RelPrim Bool EqOp)
+                  (PrimE
+                    (RelPrim Nat8 EqOp)
+                    (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 3)))
+                    (LitE (Nat8Lit 102))
+                  )
+                  (LitE (BoolLit false))
+                )
+              )
+              (LitE (BoolLit true))
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE
+                  (RelPrim Nat8 EqOp)
+                  (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 4)))
+                  (LitE (Nat8Lit 33))
+                )
+                (LitE (BoolLit false))
+              )
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP ptr)
+          (PrimE (CallPrim) (VarE getDedupTable) (PrimE TupPrim))
+        )
+        (LetD
+          (VarP hashArray)
+          (SwitchE
+            (VarE ptr)
+            (case (OptP (VarP dedupTable)) (VarE dedupTable))
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  (VarP arr)
+                  (PrimE
+                    (CallPrim List)
+                    (VarE Array_tabulateVar)
+                    (PrimE
+                      TupPrim
+                      (VarE HASH_ARRAY_SIZE)
+                      (FuncE
+                        @anon-func-830.58
+                        Local
+                        Returns
+                        (params i)
+                        List
+                        (BlockE
+                          (VarD $next/1 ?List (LitE NullLit))
+                          (LetD (VarP $value/1) (LitE NullLit))
+                          (LetD (VarP $originalBlob/0) (LitE (BlobLit "")))
+                          (LetD (VarP $index/1) (LitE (NatLit 0)))
+                          (NewObjE
+                            Object
+                            (index $index/1)
+                            (originalBlob $originalBlob/0)
+                            (value $value/1)
+                            (next $next/1)
+                            {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD WildP (PrimE (CallPrim) (VarE setDedupTable) (VarE arr)))
+                (VarE arr)
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP dedupedBlobWeakRef)
+          (PrimE
+            (CallPrim)
+            (VarE getFromHashArray)
+            (PrimE TupPrim (VarE hashArray) (VarE b))
+          )
+        )
+        (LetD
+          (VarP result)
+          (SwitchE
+            (VarE dedupedBlobWeakRef)
+            (case
+              (OptP (VarP weakRef))
+              (BlockE
+                (LetD
+                  (VarP derefed)
+                  (PrimE
+                    (CallPrim Blob)
+                    (VarE weakGet)
+                    (PrimE (DotPrim ref) (VarE weakRef))
+                  )
+                )
+                (SwitchE
+                  (VarE derefed)
+                  (case (OptP (VarP derefed)) (VarE derefed))
+                  (case
+                    (LitP NullLit)
+                    (BlockE
+                      (LetD
+                        WildP
+                        (PrimE
+                          (CallPrim)
+                          (VarE addToHashArray)
+                          (PrimE TupPrim (VarE hashArray) (VarE b))
+                        )
+                      )
+                      (VarE b)
+                    )
+                  )
+                )
+              )
+            )
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  WildP
+                  (PrimE
+                    (CallPrim)
+                    (VarE addToHashArray)
+                    (PrimE TupPrim (VarE hashArray) (VarE b))
+                  )
+                )
+                (VarE b)
+              )
+            )
+          )
+        )
+        (VarE result)
+      )
+    )
+  )
+  (LetD
+    (VarP file$@prim)
+    (BlockE
+      (LetD
+        (VarP Types)
+        (NewObjE
+          Module
+          module {type Any = Any; type Blob = Blob; type Bool = Bool; type Char = Char; type Error = Error; type Float = Float; type Int = Int; type Int16 = Int16; type Int32 = Int32; type Int64 = Int64; type Int8 = Int8; type Nat = Nat; type Nat16 = Nat16; type Nat32 = Nat32; type Nat64 = Nat64; type Nat8 = Nat8; type None = None; type Null = Null; type Principal = Principal; type Region = Region; type Text = Text}
+        )
+      )
+      (LetD
+        (VarP abs)
+        (FuncE abs Local Returns (params x) Nat (PrimE abs (VarE x)))
+      )
+      (LetD
+        (VarP shiftLeft)
+        (FuncE
+          shiftLeft
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE lsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP shiftRight)
+        (FuncE
+          shiftRight
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE rsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP idlHash)
+        (FuncE idlHash Local Returns (params x) Nat32 (PrimE idlHash (VarE x)))
+      )
+      (LetD
+        (VarP debugPrint)
+        (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+      )
+      (LetD
+        (VarP debugPrintNat)
+        (FuncE
+          debugPrintNat
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Nat) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintInt)
+        (FuncE
+          debugPrintInt
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Int) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintChar)
+        (FuncE
+          debugPrintChar
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE charToText) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP trap)
+        (FuncE trap Local Returns (params x) None (PrimE trap (VarE x)))
+      )
+      (LetD
+        (VarP rts_version)
+        (FuncE rts_version Local Returns Text (PrimE rts_version))
+      )
+      (LetD
+        (VarP rts_memory_size)
+        (FuncE rts_memory_size Local Returns Nat (PrimE rts_memory_size))
+      )
+      (LetD
+        (VarP rts_heap_size)
+        (FuncE rts_heap_size Local Returns Nat (PrimE rts_heap_size))
+      )
+      (LetD
+        (VarP rts_total_allocation)
+        (FuncE
+          rts_total_allocation
+          Local
+          Returns
+          Nat
+          (PrimE rts_total_allocation)
+        )
+      )
+      (LetD
+        (VarP rts_reclaimed)
+        (FuncE rts_reclaimed Local Returns Nat (PrimE rts_reclaimed))
+      )
+      (LetD
+        (VarP rts_max_live_size)
+        (FuncE rts_max_live_size Local Returns Nat (PrimE rts_max_live_size))
+      )
+      (LetD
+        (VarP rts_max_stack_size)
+        (FuncE rts_max_stack_size Local Returns Nat (PrimE rts_max_stack_size))
+      )
+      (LetD
+        (VarP rts_callback_table_count)
+        (FuncE
+          rts_callback_table_count
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_count)
+        )
+      )
+      (LetD
+        (VarP rts_callback_table_size)
+        (FuncE
+          rts_callback_table_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_size)
+        )
+      )
+      (LetD
+        (VarP rts_mutator_instructions)
+        (FuncE
+          rts_mutator_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_mutator_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_collector_instructions)
+        (FuncE
+          rts_collector_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_collector_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_lifetime_instructions)
+        (FuncE
+          rts_lifetime_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_lifetime_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_upgrade_instructions)
+        (FuncE
+          rts_upgrade_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_upgrade_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_stable_memory_size)
+        (FuncE
+          rts_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP rts_logical_stable_memory_size)
+        (FuncE
+          rts_logical_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_logical_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP allocWeakRef)
+        (FuncE
+          allocWeakRef
+          Local
+          Returns
+          (T Any)
+          (params obj)
+          weak T
+          (PrimE alloc_weak_ref (VarE obj))
+        )
+      )
+      (LetD
+        (VarP weakGet)
+        (FuncE
+          weakGet
+          Local
+          Returns
+          (T Any)
+          (params w)
+          ?T
+          (PrimE weak_get (VarE w))
+        )
+      )
+      (LetD
+        (VarP isLive)
+        (FuncE
+          isLive
+          Local
+          Returns
+          (params weak_ref)
+          Bool
+          (PrimE weak_ref_is_live (VarE weak_ref))
+        )
+      )
+      (LetD
+        (VarP envVarNames)
+        (FuncE envVarNames Local Returns ($ Any) [Text] (PrimE env_var_names))
+      )
+      (LetD
+        (VarP envVar)
+        (FuncE
+          envVar
+          Local
+          Returns
+          ($ Any)
+          (params name)
+          ?Text
+          (PrimE env_var (VarE name))
+        )
+      )
+      (LetD
+        (VarP __getDedupTable)
+        (FuncE
+          __getDedupTable
+          Local
+          Returns
+          ?[var __List]
+          (PrimE get_dedup_table)
+        )
+      )
+      (LetD
+        (VarP BlobIterator)
+        (FuncE
+          BlobIterator
+          Local
+          Returns
+          (params hash)
+          {isBlobLive : (b : Blob) -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : (confirmedDeadBlobs : [Blob]) -> (); size : () -> Nat}
+          (BlockE
+            (LetD
+              (VarP @anon-object-138.41)
+              (BlockE
+                (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+                (VarD currentIndex Nat (LitE (NatLit 0)))
+                (VarD currentList ?__List (LitE NullLit))
+                (LetD (VarP hashArray) (VarE hash))
+                (LetD
+                  (VarP size)
+                  (FuncE
+                    size
+                    Local
+                    Returns
+                    Nat
+                    (BlockE
+                      (VarD len Nat (LitE (NatLit 0)))
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LetD
+                        WildP
+                        (LabelE
+                          $done/0
+                          ()
+                          (LoopE
+                            (IfE
+                              (PrimE
+                                (RelPrim Nat LtOp)
+                                (VarE! i)
+                                (VarE HASH_ARRAY_SIZE)
+                              )
+                              (BlockE
+                                (VarD
+                                  list
+                                  {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                  (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                                )
+                                (LetD
+                                  WildP
+                                  (LabelE
+                                    countLoop
+                                    ()
+                                    (LoopE
+                                      (LabelE
+                                        continue countLoop
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (VarP weakRef)
+                                            (PrimE (DotPrim value) (VarE! list))
+                                          )
+                                          (LetD
+                                            WildP
+                                            (SwitchE
+                                              (VarE weakRef)
+                                              (case
+                                                (OptP (VarP weakRef))
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP deref)
+                                                    (PrimE
+                                                      (CallPrim Blob)
+                                                      (VarE weakGet)
+                                                      (PrimE
+                                                        (DotPrim ref)
+                                                        (VarE weakRef)
+                                                      )
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (VarE deref)
+                                                    (case
+                                                      (OptP (VarP deref))
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (LitP NullLit)
+                                                      (AssignE
+                                                        (VarLE len)
+                                                        (PrimE
+                                                          (BinPrim Nat AddOp)
+                                                          (VarE! len)
+                                                          (LitE (NatLit 1))
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            (VarP next)
+                                            (PrimE (DotPrim next) (VarE! list))
+                                          )
+                                          (SwitchE
+                                            (VarE next)
+                                            (case
+                                              (OptP (VarP next))
+                                              (AssignE (VarLE list) (VarE next))
+                                            )
+                                            (case
+                                              (LitP NullLit)
+                                              (PrimE
+                                                (BreakPrim countLoop)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (AssignE
+                                  (VarLE i)
+                                  (PrimE
+                                    (BinPrim Nat AddOp)
+                                    (VarE! i)
+                                    (LitE (NatLit 1))
+                                  )
+                                )
+                              )
+                              (PrimE (BreakPrim $done/0) (PrimE TupPrim))
+                            )
+                          )
+                        )
+                      )
+                      (VarE! len)
+                    )
+                  )
+                )
+                (LetD
+                  (VarP getDeadBlobFromListNode)
+                  (FuncE
+                    getDeadBlobFromListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?Blob
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP myList))
+                        (BlockE
+                          (LetD
+                            (VarP weakRef)
+                            (PrimE (DotPrim value) (VarE myList))
+                          )
+                          (SwitchE
+                            (VarE weakRef)
+                            (case
+                              (OptP (VarP weakRef))
+                              (BlockE
+                                (LetD
+                                  (VarP deref)
+                                  (PrimE
+                                    (CallPrim Blob)
+                                    (VarE weakGet)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                                (SwitchE
+                                  (VarE deref)
+                                  (case
+                                    (OptP (VarP deref))
+                                    (PrimE RetPrim (LitE NullLit))
+                                  )
+                                  (case
+                                    (LitP NullLit)
+                                    (PrimE
+                                      RetPrim
+                                      (PrimE
+                                        OptPrim
+                                        (PrimE
+                                          (DotPrim originalBlob)
+                                          (VarE myList)
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                          )
+                        )
+                      )
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP advanceListNode)
+                  (FuncE
+                    advanceListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?__List
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP list))
+                        (PrimE (DotPrim next) (VarE list))
+                      )
+                      (case (LitP NullLit) (LitE NullLit))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP nextDeadBlob)
+                  (FuncE
+                    nextDeadBlob
+                    Local
+                    Returns
+                    Blob
+                    (BlockE
+                      (LetD
+                        WildP
+                        (LoopE
+                          (BlockE
+                            (LetD
+                              (VarP blob)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getDeadBlobFromListNode)
+                                (VarE! currentList)
+                              )
+                            )
+                            (SwitchE
+                              (VarE blob)
+                              (case
+                                (OptP (VarP blob))
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (PrimE RetPrim (VarE blob))
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (SwitchE
+                                    (VarE! currentList)
+                                    (case (OptP WildP) (PrimE TupPrim))
+                                    (case
+                                      (LitP NullLit)
+                                      (BlockE
+                                        (LetD
+                                          WildP
+                                          (AssignE
+                                            (VarLE currentIndex)
+                                            (PrimE
+                                              (BinPrim Nat AddOp)
+                                              (VarE! currentIndex)
+                                              (LitE (NatLit 1))
+                                            )
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (IfE
+                                            (PrimE
+                                              (RelPrim Nat GeOp)
+                                              (VarE! currentIndex)
+                                              (VarE HASH_ARRAY_SIZE)
+                                            )
+                                            (PrimE RetPrim (LitE (BlobLit "")))
+                                            (PrimE TupPrim)
+                                          )
+                                        )
+                                        (AssignE
+                                          (VarLE currentList)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE
+                                              IdxPrim
+                                              (VarE hashArray)
+                                              (VarE! currentIndex)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LitE (BlobLit ""))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP computeIndex)
+                  (FuncE
+                    computeIndex
+                    Local
+                    Returns
+                    (params b)
+                    Nat
+                    (BlockE
+                      (LetD
+                        (VarP magicBytes)
+                        (PrimE
+                          (ArrayPrim Const Nat8)
+                          (LitE (Nat8Lit 33))
+                          (LitE (Nat8Lit 99))
+                          (LitE (Nat8Lit 97))
+                          (LitE (Nat8Lit 102))
+                          (LitE (Nat8Lit 33))
+                        )
+                      )
+                      (LetD
+                        (VarP originalBlob)
+                        (PrimE (CallPrim) (VarE blobToArray) (VarE b))
+                      )
+                      (LetD
+                        (VarP concat)
+                        (PrimE
+                          (CallPrim Nat8)
+                          (VarE Array_tabulate)
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (PrimE array_len (VarE magicBytes))
+                              (PrimE array_len (VarE originalBlob))
+                            )
+                            (FuncE
+                              @anon-func-240.74
+                              Local
+                              Returns
+                              (params i)
+                              Nat8
+                              (IfE
+                                (PrimE
+                                  (RelPrim Nat LtOp)
+                                  (VarE i)
+                                  (PrimE array_len (VarE magicBytes))
+                                )
+                                (PrimE IdxPrim (VarE magicBytes) (VarE i))
+                                (PrimE
+                                  IdxPrim
+                                  (VarE originalBlob)
+                                  (PrimE
+                                    (BinPrim Nat SubOp)
+                                    (VarE i)
+                                    (PrimE array_len (VarE magicBytes))
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP bWithMagic)
+                        (PrimE (CallPrim) (VarE arrayToBlob) (VarE concat))
+                      )
+                      (LetD
+                        (VarP hashValue)
+                        (PrimE (CallPrim) (VarE hashBlob) (VarE bWithMagic))
+                      )
+                      (PrimE
+                        (BinPrim Nat ModOp)
+                        (PrimE (CallPrim) (VarE nat32ToNat) (VarE hashValue))
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP isBlobLive)
+                  (FuncE
+                    isBlobLive
+                    Local
+                    Returns
+                    (params b)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP index)
+                        (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                      )
+                      (VarD
+                        list
+                        {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                        (PrimE IdxPrim (VarE hashArray) (VarE index))
+                      )
+                      (LoopE
+                        (IfE
+                          (PrimE
+                            (RelPrim Int8 EqOp)
+                            (PrimE
+                              (CallPrim)
+                              (VarE blobCompare)
+                              (PrimE
+                                TupPrim
+                                (PrimE (DotPrim originalBlob) (VarE! list))
+                                (VarE b)
+                              )
+                            )
+                            (LitE (Int8Lit 0))
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP weakRef)
+                              (PrimE (DotPrim value) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE weakRef)
+                              (case
+                                (OptP (VarP weakRef))
+                                (PrimE
+                                  RetPrim
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE isLive)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP next)
+                              (PrimE (DotPrim next) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE next)
+                              (case
+                                (OptP (VarP next))
+                                (AssignE (VarLE list) (VarE next))
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneFirstElement)
+                  (FuncE
+                    pruneFirstElement
+                    Local
+                    Returns
+                    (params list b index)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP deadBlob)
+                        (PrimE
+                          (CallPrim)
+                          (VarE getDeadBlobFromListNode)
+                          (PrimE OptPrim (VarE list))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (SwitchE
+                          (VarE deadBlob)
+                          (case
+                            (OptP (VarP deadBlob))
+                            (IfE
+                              (PrimE
+                                (RelPrim Int8 EqOp)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE blobCompare)
+                                  (PrimE TupPrim (VarE deadBlob) (VarE b))
+                                )
+                                (LitE (Int8Lit 0))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP nextElem)
+                                  (PrimE (DotPrim next) (VarE list))
+                                )
+                                (SwitchE
+                                  (VarE nextElem)
+                                  (case
+                                    (OptP (VarP next))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE (VarE hashArray) (VarE index))
+                                          (VarE next)
+                                        )
+                                      )
+                                      (PrimE RetPrim (LitE (BoolLit true)))
+                                    )
+                                  )
+                                  (case (LitP NullLit) (PrimE TupPrim))
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                          )
+                          (case (LitP NullLit) (PrimE TupPrim))
+                        )
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneDeadBlobs)
+                  (FuncE
+                    pruneDeadBlobs
+                    Local
+                    Returns
+                    (params confirmedDeadBlobs)
+                    ()
+                    (BlockE
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LabelE
+                        $done/1
+                        ()
+                        (LoopE
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat LtOp)
+                              (VarE! i)
+                              (PrimE array_len (VarE confirmedDeadBlobs))
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP b)
+                                (PrimE
+                                  IdxPrim
+                                  (VarE confirmedDeadBlobs)
+                                  (VarE! i)
+                                )
+                              )
+                              (LetD
+                                (VarP index)
+                                (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                              )
+                              (LetD
+                                (VarP list)
+                                (PrimE IdxPrim (VarE hashArray) (VarE index))
+                              )
+                              (LetD
+                                (VarP pruned)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE pruneFirstElement)
+                                  (PrimE
+                                    TupPrim
+                                    (VarE list)
+                                    (VarE b)
+                                    (VarE index)
+                                  )
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (IfE
+                                  (PrimE
+                                    (RelPrim Bool EqOp)
+                                    (VarE pruned)
+                                    (LitE (BoolLit false))
+                                  )
+                                  (BlockE
+                                    (VarD
+                                      prev
+                                      ?{index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                      (PrimE OptPrim (VarE list))
+                                    )
+                                    (VarD
+                                      crntNode
+                                      ?__List
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (PrimE OptPrim (VarE list))
+                                      )
+                                    )
+                                    (LabelE
+                                      findLoop
+                                      ()
+                                      (LoopE
+                                        (LabelE
+                                          continue findLoop
+                                          ()
+                                          (BlockE
+                                            (LetD
+                                              (VarP crntBlob)
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE getDeadBlobFromListNode)
+                                                (VarE! crntNode)
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (SwitchE
+                                                (VarE crntBlob)
+                                                (case
+                                                  (OptP (VarP crntBlob))
+                                                  (IfE
+                                                    (PrimE
+                                                      (RelPrim Int8 EqOp)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE blobCompare)
+                                                        (PrimE
+                                                          TupPrim
+                                                          (VarE crntBlob)
+                                                          (VarE b)
+                                                        )
+                                                      )
+                                                      (LitE (Int8Lit 0))
+                                                    )
+                                                    (SwitchE
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE! prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                      (case
+                                                        (TupP
+                                                          (OptP (VarP prev))
+                                                          (OptP (VarP crntNode))
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (AssignE
+                                                              (DotLE
+                                                                (VarE prev)
+                                                                next
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim next)
+                                                                (VarE crntNode)
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (BreakPrim findLoop)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                      (case
+                                                        WildP
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                                (case
+                                                  (LitP NullLit)
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (AssignE
+                                                        (VarLE prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                    (AssignE
+                                                      (VarLE crntNode)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE advanceListNode)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (SwitchE
+                                              (VarE! crntNode)
+                                              (case
+                                                (OptP (VarP crntNode))
+                                                (PrimE TupPrim)
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE
+                                                  (BreakPrim findLoop)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (AssignE
+                                (VarLE i)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! i)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE (BreakPrim $done/1) (PrimE TupPrim))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (NewObjE
+                  Object
+                  (size size)
+                  (pruneDeadBlobs pruneDeadBlobs)
+                  (nextDeadBlob nextDeadBlob)
+                  (isBlobLive isBlobLive)
+                  {isBlobLive : (b : Blob) -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : (confirmedDeadBlobs : [Blob]) -> (); size : () -> Nat}
+                )
+              )
+            )
+            (VarE @anon-object-138.41)
+          )
+        )
+      )
+      (LetD
+        (VarP getDeadBlobs)
+        (FuncE
+          getDeadBlobs
+          Local
+          Returns
+          ?[Blob]
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (LetD
+                    (VarP numDeadBlobs)
+                    (PrimE
+                      (CallPrim)
+                      (PrimE (DotPrim size) (VarE dedupTableIter))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    (VarP deadBlobs)
+                    (PrimE
+                      (CallPrim Blob)
+                      (VarE Array_tabulate)
+                      (PrimE
+                        TupPrim
+                        (VarE numDeadBlobs)
+                        (FuncE
+                          @anon-func-355.58
+                          Local
+                          Returns
+                          (params i)
+                          Blob
+                          (PrimE
+                            (CallPrim)
+                            (PrimE (DotPrim nextDeadBlob) (VarE dedupTableIter))
+                            (PrimE TupPrim)
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE RetPrim (PrimE OptPrim (VarE deadBlobs)))
+                )
+              )
+              (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP pruneConfirmedDeadBlobs)
+        (FuncE
+          pruneConfirmedDeadBlobs
+          Local
+          Returns
+          (params confirmedDeadBlobs)
+          ()
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim pruneDeadBlobs) (VarE dedupTableIter))
+                    (VarE confirmedDeadBlobs)
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP isStorageBlobLive)
+        (FuncE
+          isStorageBlobLive
+          Local
+          Returns
+          (params b)
+          Bool
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP iter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim isBlobLive) (VarE iter))
+                    (VarE b)
+                  )
+                )
+              )
+              (case (LitP NullLit) (LitE (BoolLit false)))
+            )
+          )
+        )
+      )
+      (LetD (VarP int64ToInt) (VarE @int64ToInt))
+      (LetD (VarP int32ToInt) (VarE @int32ToInt))
+      (LetD (VarP int16ToInt) (VarE @int16ToInt))
+      (LetD (VarP int8ToInt) (VarE @int8ToInt))
+      (LetD (VarP nat64ToNat) (VarE @nat64ToNat))
+      (LetD (VarP nat32ToNat) (VarE @nat32ToNat))
+      (LetD (VarP nat16ToNat) (VarE @nat16ToNat))
+      (LetD (VarP nat8ToNat) (VarE @nat8ToNat))
+      (LetD
+        (VarP intToInt64)
+        (FuncE
+          intToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32)
+        (FuncE
+          intToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16)
+        (FuncE
+          intToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8)
+        (FuncE
+          intToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat64)
+        (FuncE
+          natToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat32)
+        (FuncE
+          natToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat16)
+        (FuncE
+          natToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat8)
+        (FuncE
+          natToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt64Wrap)
+        (FuncE
+          intToInt64Wrap
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32Wrap)
+        (FuncE
+          intToInt32Wrap
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16Wrap)
+        (FuncE
+          intToInt16Wrap
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8Wrap)
+        (FuncE
+          intToInt8Wrap
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat64Wrap)
+        (FuncE
+          intToNat64Wrap
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat32Wrap)
+        (FuncE
+          intToNat32Wrap
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat16Wrap)
+        (FuncE
+          intToNat16Wrap
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat8Wrap)
+        (FuncE
+          intToNat8Wrap
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToNat64)
+        (FuncE
+          int64ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int64 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToInt64)
+        (FuncE
+          nat64ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Nat64 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToNat32)
+        (FuncE
+          int32ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int32 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToInt32)
+        (FuncE
+          nat32ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Nat32 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToNat16)
+        (FuncE
+          int16ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int16 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToInt16)
+        (FuncE
+          nat16ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Nat16 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToNat8)
+        (FuncE
+          int8ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int8 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToInt8)
+        (FuncE
+          nat8ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Nat8 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToNat16)
+        (FuncE
+          nat8ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat8 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat32)
+        (FuncE
+          nat16ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat16 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat64)
+        (FuncE
+          nat32ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat32 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToNat32)
+        (FuncE
+          nat64ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat64 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat16)
+        (FuncE
+          nat32ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat32 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat8)
+        (FuncE
+          nat16ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat16 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToInt16)
+        (FuncE
+          int8ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int8 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt32)
+        (FuncE
+          int16ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int16 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt64)
+        (FuncE
+          int32ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int32 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToInt32)
+        (FuncE
+          int64ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int64 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt16)
+        (FuncE
+          int32ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int32 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt8)
+        (FuncE
+          int16ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int16 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat16)
+        (FuncE
+          explodeNat16
+          Local
+          Returns
+          (params n)
+          (msb : Nat8, lsb : Nat8)
+          (PrimE explode_Nat16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt16)
+        (FuncE
+          explodeInt16
+          Local
+          Returns
+          (params n)
+          (msb : Nat8, lsb : Nat8)
+          (PrimE explode_Int16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat32)
+        (FuncE
+          explodeNat32
+          Local
+          Returns
+          (params n)
+          (msb : Nat8, Nat8, Nat8, lsb : Nat8)
+          (PrimE explode_Nat32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt32)
+        (FuncE
+          explodeInt32
+          Local
+          Returns
+          (params n)
+          (msb : Nat8, Nat8, Nat8, lsb : Nat8)
+          (PrimE explode_Int32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat64)
+        (FuncE
+          explodeNat64
+          Local
+          Returns
+          (params n)
+          (msb : Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, lsb : Nat8)
+          (PrimE explode_Nat64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt64)
+        (FuncE
+          explodeInt64
+          Local
+          Returns
+          (params n)
+          (msb : Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, lsb : Nat8)
+          (PrimE explode_Int64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP charToNat32)
+        (FuncE
+          charToNat32
+          Local
+          Returns
+          (params c)
+          Nat32
+          (PrimE (NumConvWrapPrim Char Nat32) (VarE c))
+        )
+      )
+      (LetD
+        (VarP nat32ToChar)
+        (FuncE
+          nat32ToChar
+          Local
+          Returns
+          (params w)
+          Char
+          (PrimE (NumConvTrapPrim Nat32 Char) (VarE w))
+        )
+      )
+      (LetD
+        (VarP charToText)
+        (FuncE
+          charToText
+          Local
+          Returns
+          (params c)
+          Text
+          (PrimE conv_Char_Text (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToUpper)
+        (FuncE
+          charToUpper
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_upper (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToLower)
+        (FuncE
+          charToLower
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_lower (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsWhitespace)
+        (FuncE
+          charIsWhitespace
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_whitespace (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsLowercase)
+        (FuncE
+          charIsLowercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_lowercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsUppercase)
+        (FuncE
+          charIsUppercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_uppercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsAlphabetic)
+        (FuncE
+          charIsAlphabetic
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_alphabetic (VarE c))
+        )
+      )
+      (LetD
+        (VarP blobCompare)
+        (FuncE
+          blobCompare
+          Local
+          Returns
+          (params b1 b2)
+          Int8
+          (PrimE blob_compare (VarE b1) (VarE b2))
+        )
+      )
+      (LetD
+        (VarP hashBlob)
+        (FuncE
+          hashBlob
+          Local
+          Returns
+          (params b)
+          Nat32
+          (PrimE crc32Hash (VarE b))
+        )
+      )
+      (LetD
+        (VarP decodeUtf8)
+        (FuncE
+          decodeUtf8
+          Local
+          Returns
+          (params b)
+          ?Text
+          (PrimE DecodeUtf8 (VarE b))
+        )
+      )
+      (LetD
+        (VarP encodeUtf8)
+        (FuncE
+          encodeUtf8
+          Local
+          Returns
+          (params t)
+          Blob
+          (PrimE EncodeUtf8 (VarE t))
+        )
+      )
+      (LetD
+        (VarP textCompare)
+        (FuncE
+          textCompare
+          Local
+          Returns
+          (params t1 t2)
+          Int8
+          (PrimE text_compare (VarE t1) (VarE t2))
+        )
+      )
+      (LetD
+        (VarP textLowercase)
+        (FuncE
+          textLowercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_lowercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP textUppercase)
+        (FuncE
+          textUppercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_uppercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP popcntNat8)
+        (FuncE
+          popcntNat8
+          Local
+          Returns
+          (params w)
+          Nat8
+          (PrimE popcnt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat8)
+        (FuncE clzNat8 Local Returns (params w) Nat8 (PrimE clz8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat8)
+        (FuncE ctzNat8 Local Returns (params w) Nat8 (PrimE ctz8 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat8)
+        (FuncE
+          btstNat8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat8 EqOp)
+              (PrimE btst8 (VarE w) (VarE amount))
+              (LitE (Nat8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat16)
+        (FuncE
+          popcntNat16
+          Local
+          Returns
+          (params w)
+          Nat16
+          (PrimE popcnt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat16)
+        (FuncE clzNat16 Local Returns (params w) Nat16 (PrimE clz16 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat16)
+        (FuncE ctzNat16 Local Returns (params w) Nat16 (PrimE ctz16 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat16)
+        (FuncE
+          btstNat16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat16 EqOp)
+              (PrimE btst16 (VarE w) (VarE amount))
+              (LitE (Nat16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat32)
+        (FuncE
+          popcntNat32
+          Local
+          Returns
+          (params w)
+          Nat32
+          (PrimE popcnt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat32)
+        (FuncE clzNat32 Local Returns (params w) Nat32 (PrimE clz32 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat32)
+        (FuncE ctzNat32 Local Returns (params w) Nat32 (PrimE ctz32 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat32)
+        (FuncE
+          btstNat32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat32 EqOp)
+              (PrimE btst32 (VarE w) (VarE amount))
+              (LitE (Nat32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat64)
+        (FuncE
+          popcntNat64
+          Local
+          Returns
+          (params w)
+          Nat64
+          (PrimE popcnt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat64)
+        (FuncE clzNat64 Local Returns (params w) Nat64 (PrimE clz64 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat64)
+        (FuncE ctzNat64 Local Returns (params w) Nat64 (PrimE ctz64 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat64)
+        (FuncE
+          btstNat64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE btst64 (VarE w) (VarE amount))
+              (LitE (Nat64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt8)
+        (FuncE
+          popcntInt8
+          Local
+          Returns
+          (params w)
+          Int8
+          (PrimE popcntInt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt8)
+        (FuncE clzInt8 Local Returns (params w) Int8 (PrimE clzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzInt8)
+        (FuncE ctzInt8 Local Returns (params w) Int8 (PrimE ctzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP btstInt8)
+        (FuncE
+          btstInt8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int8 EqOp)
+              (PrimE btstInt8 (VarE w) (VarE amount))
+              (LitE (Int8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt16)
+        (FuncE
+          popcntInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE popcntInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt16)
+        (FuncE
+          clzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE clzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt16)
+        (FuncE
+          ctzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE ctzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt16)
+        (FuncE
+          btstInt16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int16 EqOp)
+              (PrimE btstInt16 (VarE w) (VarE amount))
+              (LitE (Int16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt32)
+        (FuncE
+          popcntInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE popcntInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt32)
+        (FuncE
+          clzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE clzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt32)
+        (FuncE
+          ctzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE ctzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt32)
+        (FuncE
+          btstInt32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int32 EqOp)
+              (PrimE btstInt32 (VarE w) (VarE amount))
+              (LitE (Int32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt64)
+        (FuncE
+          popcntInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE popcntInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt64)
+        (FuncE
+          clzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE clzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt64)
+        (FuncE
+          ctzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE ctzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt64)
+        (FuncE
+          btstInt64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int64 EqOp)
+              (PrimE btstInt64 (VarE w) (VarE amount))
+              (LitE (Int64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP floatAbs)
+        (FuncE floatAbs Local Returns (params f) Float (PrimE fabs (VarE f)))
+      )
+      (LetD
+        (VarP floatSqrt)
+        (FuncE floatSqrt Local Returns (params f) Float (PrimE fsqrt (VarE f)))
+      )
+      (LetD
+        (VarP floatCeil)
+        (FuncE floatCeil Local Returns (params f) Float (PrimE fceil (VarE f)))
+      )
+      (LetD
+        (VarP floatFloor)
+        (FuncE
+          floatFloor
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ffloor (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatTrunc)
+        (FuncE
+          floatTrunc
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ftrunc (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatNearest)
+        (FuncE
+          floatNearest
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE fnearest (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatMin)
+        (FuncE
+          floatMin
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmin (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatMax)
+        (FuncE
+          floatMax
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmax (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatCopySign)
+        (FuncE
+          floatCopySign
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fcopysign (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatToInt)
+        (FuncE
+          floatToInt
+          Local
+          Returns
+          (params f)
+          Int
+          (PrimE (NumConvTrapPrim Float Int) (VarE f))
+        )
+      )
+      (LetD
+        (VarP intToFloat)
+        (FuncE
+          intToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int Float) (VarE n))
+        )
+      )
+      (LetD
+        (VarP floatToInt64)
+        (FuncE
+          floatToInt64
+          Local
+          Returns
+          (params f)
+          Int64
+          (PrimE (NumConvTrapPrim Float Int64) (VarE f))
+        )
+      )
+      (LetD
+        (VarP int64ToFloat)
+        (FuncE
+          int64ToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int64 Float) (VarE n))
+        )
+      )
+      (LetD (VarP floatToText) (VarE @text_of_Float))
+      (LetD
+        (VarP floatToFormattedText)
+        (FuncE
+          floatToFormattedText
+          Local
+          Returns
+          (params f prec mode)
+          Text
+          (PrimE fmtFloat->Text (VarE f) (VarE prec) (VarE mode))
+        )
+      )
+      (LetD
+        (VarP sin)
+        (FuncE sin Local Returns (params f) Float (PrimE fsin (VarE f)))
+      )
+      (LetD
+        (VarP cos)
+        (FuncE cos Local Returns (params f) Float (PrimE fcos (VarE f)))
+      )
+      (LetD
+        (VarP tan)
+        (FuncE tan Local Returns (params f) Float (PrimE ftan (VarE f)))
+      )
+      (LetD
+        (VarP arcsin)
+        (FuncE arcsin Local Returns (params f) Float (PrimE fasin (VarE f)))
+      )
+      (LetD
+        (VarP arccos)
+        (FuncE arccos Local Returns (params f) Float (PrimE facos (VarE f)))
+      )
+      (LetD
+        (VarP arctan)
+        (FuncE arctan Local Returns (params f) Float (PrimE fatan (VarE f)))
+      )
+      (LetD
+        (VarP arctan2)
+        (FuncE
+          arctan2
+          Local
+          Returns
+          (params y x)
+          Float
+          (PrimE fatan2 (VarE y) (VarE x))
+        )
+      )
+      (LetD
+        (VarP exp)
+        (FuncE exp Local Returns (params f) Float (PrimE fexp (VarE f)))
+      )
+      (LetD
+        (VarP log)
+        (FuncE log Local Returns (params f) Float (PrimE flog (VarE f)))
+      )
+      (LetD
+        (VarP Array_init)
+        (FuncE
+          Array_init
+          Local
+          Returns
+          (T Any)
+          (params len x)
+          [var T]
+          (PrimE Array.init (VarE len) (VarE x))
+        )
+      )
+      (LetD
+        (VarP Array_tabulate)
+        (FuncE
+          Array_tabulate
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [T]
+          (PrimE Array.tabulate (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP Array_tabulateVar)
+        (FuncE
+          Array_tabulateVar
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [var T]
+          (PrimE Array.tabulateVar (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP blobToArray)
+        (FuncE
+          blobToArray
+          Local
+          Returns
+          (params b)
+          [Nat8]
+          (PrimE blobToArray (VarE b))
+        )
+      )
+      (LetD
+        (VarP blobToArrayMut)
+        (FuncE
+          blobToArrayMut
+          Local
+          Returns
+          (params b)
+          [var Nat8]
+          (PrimE blobToArrayMut (VarE b))
+        )
+      )
+      (LetD
+        (VarP arrayToBlob)
+        (FuncE
+          arrayToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP arrayMutToBlob)
+        (FuncE
+          arrayMutToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayMutToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP error)
+        (FuncE
+          error
+          Local
+          Returns
+          (params message)
+          Error
+          (BlockE
+            (LetD
+              (VarP e)
+              (PrimE
+                TupPrim
+                (PrimE (TagE canister_reject) (PrimE TupPrim))
+                (VarE message)
+              )
+            )
+            (PrimE (CastPrim (ErrorCode, Text) Error) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorCode)
+        (FuncE
+          errorCode
+          Local
+          Returns
+          (params e)
+          ErrorCode
+          (PrimE
+            (ProjPrim 0)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorMessage)
+        (FuncE
+          errorMessage
+          Local
+          Returns
+          (params e)
+          Text
+          (PrimE
+            (ProjPrim 1)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP replyDeadline)
+        (FuncE replyDeadline Local Returns Nat64 (PrimE ICReplyDeadlinePrim))
+      )
+      (LetD (VarP time) (FuncE time Local Returns Nat64 (PrimE SystemTimePrim)))
+      (LetD
+        (VarP blobOfPrincipal)
+        (FuncE
+          blobOfPrincipal
+          Local
+          Returns
+          (params id)
+          Blob
+          (PrimE blobOfPrincipal (VarE id))
+        )
+      )
+      (LetD
+        (VarP principalOfBlob)
+        (FuncE
+          principalOfBlob
+          Local
+          Returns
+          (params act)
+          Principal
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE
+                  (RelPrim Nat GtOp)
+                  (PrimE blob_size (VarE act))
+                  (LitE (NatLit 29))
+                )
+                (PrimE
+                  (CallPrim)
+                  (VarE trap)
+                  (LitE (TextLit blob too long for principal))
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (PrimE principalOfBlob (VarE act))
+          )
+        )
+      )
+      (LetD
+        (VarP principalOfActor)
+        (FuncE
+          principalOfActor
+          Local
+          Returns
+          (params act)
+          Principal
+          (PrimE principalOfActor (VarE act))
+        )
+      )
+      (LetD
+        (VarP isController)
+        (FuncE
+          isController
+          Local
+          Returns
+          (params p)
+          Bool
+          (PrimE is_controller (VarE p))
+        )
+      )
+      (LetD
+        (VarP isReplicatedExecution)
+        (FuncE
+          isReplicatedExecution
+          Local
+          Returns
+          Bool
+          (PrimE replicated_execution)
+        )
+      )
+      (LetD
+        (VarP canisterVersion)
+        (FuncE canisterVersion Local Returns Nat64 (PrimE canister_version))
+      )
+      (LetD
+        (VarP canisterSubnet)
+        (FuncE canisterSubnet Local Returns Principal (PrimE canister_subnet))
+      )
+      (LetD (VarP rootKey) (FuncE rootKey Local Returns Blob (PrimE root_key)))
+      (LetD
+        (VarP getSelfPrincipal)
+        (FuncE
+          getSelfPrincipal
+          Local
+          Returns
+          ($ Any)
+          Principal
+          (PrimE canister_self)
+        )
+      )
+      (LetD (VarP createActor) (VarE @create_actor_helper))
+      (LetD
+        (VarP cyclesBalance)
+        (FuncE cyclesBalance Local Returns Nat (PrimE SystemCyclesBalancePrim))
+      )
+      (LetD
+        (VarP cyclesAvailable)
+        (FuncE
+          cyclesAvailable
+          Local
+          Returns
+          Nat
+          (PrimE SystemCyclesAvailablePrim)
+        )
+      )
+      (LetD
+        (VarP cyclesRefunded)
+        (FuncE cyclesRefunded Local Returns Nat (VarE! @refund))
+      )
+      (LetD
+        (VarP cyclesAccept)
+        (FuncE
+          cyclesAccept
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesAcceptPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP cyclesAdd)
+        (FuncE
+          cyclesAdd
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          ()
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat EqOp) (VarE amount) (LitE (NatLit 0)))
+                (PrimE RetPrim (PrimE TupPrim))
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              WildP
+              (AssignE
+                (VarLE @cycles)
+                (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE amount))
+              )
+            )
+            (IfE
+              (PrimE
+                (RelPrim Nat GtOp)
+                (VarE! @cycles)
+                (LitE
+                  (NatLit 340_282_366_920_938_463_463_374_607_431_768_211_455)
+                )
+              )
+              (PrimE
+                (CallPrim)
+                (VarE trap)
+                (LitE (TextLit cannot add more than 2^128 cycles))
+              )
+              (PrimE TupPrim)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP cyclesBurn)
+        (FuncE
+          cyclesBurn
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesBurnPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP costCall)
+        (FuncE
+          costCall
+          Local
+          Returns
+          (params methodNameSize payloadSize)
+          Nat
+          (PrimE costCall (VarE methodNameSize) (VarE payloadSize))
+        )
+      )
+      (LetD
+        (VarP costCreateCanister)
+        (FuncE costCreateCanister Local Returns Nat (PrimE costCreateCanister))
+      )
+      (LetD
+        (VarP costHttpRequest)
+        (FuncE
+          costHttpRequest
+          Local
+          Returns
+          (params requestSize maxResBytes)
+          Nat
+          (PrimE costHttpRequest (VarE requestSize) (VarE maxResBytes))
+        )
+      )
+      (LetD
+        (VarP costSignWithEcdsa)
+        (FuncE
+          costSignWithEcdsa
+          Local
+          Returns
+          (params keyName curveEncoding)
+          (resultCode : Nat32, costOrUndefined : Nat)
+          (PrimE costSignWithEcdsa (VarE keyName) (VarE curveEncoding))
+        )
+      )
+      (LetD
+        (VarP costSignWithSchnorr)
+        (FuncE
+          costSignWithSchnorr
+          Local
+          Returns
+          (params keyName algorithmEncoding)
+          (resultCode : Nat32, costOrUndefined : Nat)
+          (PrimE costSignWithSchnorr (VarE keyName) (VarE algorithmEncoding))
+        )
+      )
+      (LetD
+        (VarP setCertifiedData)
+        (FuncE
+          setCertifiedData
+          Local
+          Returns
+          (params data)
+          ()
+          (PrimE SetCertifiedData (VarE data))
+        )
+      )
+      (LetD
+        (VarP getCertificate)
+        (FuncE getCertificate Local Returns ?Blob (PrimE GetCertificate))
+      )
+      (LetD
+        (VarP stableMemorySize)
+        (FuncE stableMemorySize Local Returns Nat64 (PrimE stableMemorySize))
+      )
+      (LetD
+        (VarP stableMemoryGrow)
+        (FuncE
+          stableMemoryGrow
+          Local
+          Returns
+          (params pages)
+          Nat64
+          (PrimE stableMemoryGrow (VarE pages))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat32)
+        (FuncE
+          stableMemoryLoadNat32
+          Local
+          Returns
+          (params offset)
+          Nat32
+          (PrimE stableMemoryLoadNat32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat32)
+        (FuncE
+          stableMemoryStoreNat32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat8)
+        (FuncE
+          stableMemoryLoadNat8
+          Local
+          Returns
+          (params offset)
+          Nat8
+          (PrimE stableMemoryLoadNat8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat8)
+        (FuncE
+          stableMemoryStoreNat8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat16)
+        (FuncE
+          stableMemoryLoadNat16
+          Local
+          Returns
+          (params offset)
+          Nat16
+          (PrimE stableMemoryLoadNat16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat16)
+        (FuncE
+          stableMemoryStoreNat16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat64)
+        (FuncE
+          stableMemoryLoadNat64
+          Local
+          Returns
+          (params offset)
+          Nat64
+          (PrimE stableMemoryLoadNat64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat64)
+        (FuncE
+          stableMemoryStoreNat64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt32)
+        (FuncE
+          stableMemoryLoadInt32
+          Local
+          Returns
+          (params offset)
+          Int32
+          (PrimE stableMemoryLoadInt32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt32)
+        (FuncE
+          stableMemoryStoreInt32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt8)
+        (FuncE
+          stableMemoryLoadInt8
+          Local
+          Returns
+          (params offset)
+          Int8
+          (PrimE stableMemoryLoadInt8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt8)
+        (FuncE
+          stableMemoryStoreInt8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt16)
+        (FuncE
+          stableMemoryLoadInt16
+          Local
+          Returns
+          (params offset)
+          Int16
+          (PrimE stableMemoryLoadInt16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt16)
+        (FuncE
+          stableMemoryStoreInt16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt64)
+        (FuncE
+          stableMemoryLoadInt64
+          Local
+          Returns
+          (params offset)
+          Int64
+          (PrimE stableMemoryLoadInt64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt64)
+        (FuncE
+          stableMemoryStoreInt64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadFloat)
+        (FuncE
+          stableMemoryLoadFloat
+          Local
+          Returns
+          (params offset)
+          Float
+          (PrimE stableMemoryLoadFloat (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreFloat)
+        (FuncE
+          stableMemoryStoreFloat
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreFloat (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadBlob)
+        (FuncE
+          stableMemoryLoadBlob
+          Local
+          Returns
+          (params offset size)
+          Blob
+          (PrimE stableMemoryLoadBlob (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreBlob)
+        (FuncE
+          stableMemoryStoreBlob
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreBlob (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableVarQuery)
+        (FuncE
+          stableVarQuery
+          Local
+          Returns
+          shared query () -> async {size : Nat64}
+          (PrimE stableVarQuery)
+        )
+      )
+      (LetD
+        (VarP regionNew)
+        (FuncE regionNew Local Returns Region (PrimE regionNew))
+      )
+      (LetD
+        (VarP regionId)
+        (FuncE regionId Local Returns (params r) Nat (PrimE regionId (VarE r)))
+      )
+      (LetD
+        (VarP regionSize)
+        (FuncE
+          regionSize
+          Local
+          Returns
+          (params r)
+          Nat64
+          (PrimE regionSize (VarE r))
+        )
+      )
+      (LetD
+        (VarP regionGrow)
+        (FuncE
+          regionGrow
+          Local
+          Returns
+          (params r pages)
+          Nat64
+          (PrimE regionGrow (VarE r) (VarE pages))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat32)
+        (FuncE
+          regionLoadNat32
+          Local
+          Returns
+          (params r offset)
+          Nat32
+          (PrimE regionLoadNat32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat32)
+        (FuncE
+          regionStoreNat32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat8)
+        (FuncE
+          regionLoadNat8
+          Local
+          Returns
+          (params r offset)
+          Nat8
+          (PrimE regionLoadNat8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat8)
+        (FuncE
+          regionStoreNat8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat16)
+        (FuncE
+          regionLoadNat16
+          Local
+          Returns
+          (params r offset)
+          Nat16
+          (PrimE regionLoadNat16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat16)
+        (FuncE
+          regionStoreNat16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat64)
+        (FuncE
+          regionLoadNat64
+          Local
+          Returns
+          (params r offset)
+          Nat64
+          (PrimE regionLoadNat64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat64)
+        (FuncE
+          regionStoreNat64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt32)
+        (FuncE
+          regionLoadInt32
+          Local
+          Returns
+          (params r offset)
+          Int32
+          (PrimE regionLoadInt32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt32)
+        (FuncE
+          regionStoreInt32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt8)
+        (FuncE
+          regionLoadInt8
+          Local
+          Returns
+          (params r offset)
+          Int8
+          (PrimE regionLoadInt8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt8)
+        (FuncE
+          regionStoreInt8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt16)
+        (FuncE
+          regionLoadInt16
+          Local
+          Returns
+          (params r offset)
+          Int16
+          (PrimE regionLoadInt16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt16)
+        (FuncE
+          regionStoreInt16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt64)
+        (FuncE
+          regionLoadInt64
+          Local
+          Returns
+          (params r offset)
+          Int64
+          (PrimE regionLoadInt64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt64)
+        (FuncE
+          regionStoreInt64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadFloat)
+        (FuncE
+          regionLoadFloat
+          Local
+          Returns
+          (params r offset)
+          Float
+          (PrimE regionLoadFloat (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreFloat)
+        (FuncE
+          regionStoreFloat
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreFloat (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadBlob)
+        (FuncE
+          regionLoadBlob
+          Local
+          Returns
+          (params r offset size)
+          Blob
+          (PrimE regionLoadBlob (VarE r) (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP regionStoreBlob)
+        (FuncE
+          regionStoreBlob
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreBlob (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD (VarP call_raw) (VarE @call_raw))
+      (LetD
+        (VarP performanceCounter)
+        (FuncE
+          performanceCounter
+          Local
+          Returns
+          (params counter)
+          Nat64
+          (PrimE performanceCounter (VarE counter))
+        )
+      )
+      (LetD
+        (VarP setCandidLimits)
+        (FuncE
+          setCandidLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/0)
+          ()
+          (BlockE
+            (LetD
+              (ObjP
+                (numerator (VarP numerator))
+                (denominator (VarP denominator))
+                (bias (VarP bias))
+              )
+              (VarE $param/0)
+            )
+            (PrimE
+              setCandidLimits
+              (VarE numerator)
+              (VarE denominator)
+              (VarE bias)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidLimits)
+        (FuncE
+          getCandidLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; denominator : Nat32; numerator : Nat32}
+          (BlockE
+            (LetD
+              (TupP (VarP numerator) (VarP denominator) (VarP bias))
+              (PrimE getCandidLimits)
+            )
+            (NewObjE
+              Object
+              (bias bias)
+              (denominator denominator)
+              (numerator numerator)
+              {bias : Nat32; denominator : Nat32; numerator : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP setCandidTypeLimits)
+        (FuncE
+          setCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/1)
+          ()
+          (BlockE
+            (LetD
+              (ObjP (scalar (VarP scalar)) (bias (VarP bias)))
+              (VarE $param/1)
+            )
+            (PrimE setCandidTypeLimits (VarE scalar) (VarE bias))
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidTypeLimits)
+        (FuncE
+          getCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; scalar : Nat32}
+          (BlockE
+            (LetD (TupP (VarP scalar) (VarP bias)) (PrimE getCandidTypeLimits))
+            (NewObjE
+              Object
+              (bias bias)
+              (scalar scalar)
+              {bias : Nat32; scalar : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP forall)
+        (FuncE
+          forall
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE forall (VarE f))
+        )
+      )
+      (LetD
+        (VarP exists)
+        (FuncE
+          exists
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE exists (VarE f))
+        )
+      )
+      (LetD (VarP setTimer) (VarE @setTimer))
+      (LetD (VarP cancelTimer) (VarE @cancelTimer))
+      (NewObjE
+        Module
+        (weakGet weakGet)
+        (trap trap)
+        (time time)
+        (textUppercase textUppercase)
+        (textLowercase textLowercase)
+        (textCompare textCompare)
+        (tan tan)
+        (stableVarQuery stableVarQuery)
+        (stableMemoryStoreNat8 stableMemoryStoreNat8)
+        (stableMemoryStoreNat64 stableMemoryStoreNat64)
+        (stableMemoryStoreNat32 stableMemoryStoreNat32)
+        (stableMemoryStoreNat16 stableMemoryStoreNat16)
+        (stableMemoryStoreInt8 stableMemoryStoreInt8)
+        (stableMemoryStoreInt64 stableMemoryStoreInt64)
+        (stableMemoryStoreInt32 stableMemoryStoreInt32)
+        (stableMemoryStoreInt16 stableMemoryStoreInt16)
+        (stableMemoryStoreFloat stableMemoryStoreFloat)
+        (stableMemoryStoreBlob stableMemoryStoreBlob)
+        (stableMemorySize stableMemorySize)
+        (stableMemoryLoadNat8 stableMemoryLoadNat8)
+        (stableMemoryLoadNat64 stableMemoryLoadNat64)
+        (stableMemoryLoadNat32 stableMemoryLoadNat32)
+        (stableMemoryLoadNat16 stableMemoryLoadNat16)
+        (stableMemoryLoadInt8 stableMemoryLoadInt8)
+        (stableMemoryLoadInt64 stableMemoryLoadInt64)
+        (stableMemoryLoadInt32 stableMemoryLoadInt32)
+        (stableMemoryLoadInt16 stableMemoryLoadInt16)
+        (stableMemoryLoadFloat stableMemoryLoadFloat)
+        (stableMemoryLoadBlob stableMemoryLoadBlob)
+        (stableMemoryGrow stableMemoryGrow)
+        (sin sin)
+        (shiftRight shiftRight)
+        (shiftLeft shiftLeft)
+        (setTimer setTimer)
+        (setCertifiedData setCertifiedData)
+        (setCandidTypeLimits setCandidTypeLimits)
+        (setCandidLimits setCandidLimits)
+        (rts_version rts_version)
+        (rts_upgrade_instructions rts_upgrade_instructions)
+        (rts_total_allocation rts_total_allocation)
+        (rts_stable_memory_size rts_stable_memory_size)
+        (rts_reclaimed rts_reclaimed)
+        (rts_mutator_instructions rts_mutator_instructions)
+        (rts_memory_size rts_memory_size)
+        (rts_max_stack_size rts_max_stack_size)
+        (rts_max_live_size rts_max_live_size)
+        (rts_logical_stable_memory_size rts_logical_stable_memory_size)
+        (rts_lifetime_instructions rts_lifetime_instructions)
+        (rts_heap_size rts_heap_size)
+        (rts_collector_instructions rts_collector_instructions)
+        (rts_callback_table_size rts_callback_table_size)
+        (rts_callback_table_count rts_callback_table_count)
+        (rootKey rootKey)
+        (replyDeadline replyDeadline)
+        (regionStoreNat8 regionStoreNat8)
+        (regionStoreNat64 regionStoreNat64)
+        (regionStoreNat32 regionStoreNat32)
+        (regionStoreNat16 regionStoreNat16)
+        (regionStoreInt8 regionStoreInt8)
+        (regionStoreInt64 regionStoreInt64)
+        (regionStoreInt32 regionStoreInt32)
+        (regionStoreInt16 regionStoreInt16)
+        (regionStoreFloat regionStoreFloat)
+        (regionStoreBlob regionStoreBlob)
+        (regionSize regionSize)
+        (regionNew regionNew)
+        (regionLoadNat8 regionLoadNat8)
+        (regionLoadNat64 regionLoadNat64)
+        (regionLoadNat32 regionLoadNat32)
+        (regionLoadNat16 regionLoadNat16)
+        (regionLoadInt8 regionLoadInt8)
+        (regionLoadInt64 regionLoadInt64)
+        (regionLoadInt32 regionLoadInt32)
+        (regionLoadInt16 regionLoadInt16)
+        (regionLoadFloat regionLoadFloat)
+        (regionLoadBlob regionLoadBlob)
+        (regionId regionId)
+        (regionGrow regionGrow)
+        (pruneConfirmedDeadBlobs pruneConfirmedDeadBlobs)
+        (principalOfBlob principalOfBlob)
+        (principalOfActor principalOfActor)
+        (popcntNat8 popcntNat8)
+        (popcntNat64 popcntNat64)
+        (popcntNat32 popcntNat32)
+        (popcntNat16 popcntNat16)
+        (popcntInt8 popcntInt8)
+        (popcntInt64 popcntInt64)
+        (popcntInt32 popcntInt32)
+        (popcntInt16 popcntInt16)
+        (performanceCounter performanceCounter)
+        (natToNat8 natToNat8)
+        (natToNat64 natToNat64)
+        (natToNat32 natToNat32)
+        (natToNat16 natToNat16)
+        (nat8ToNat16 nat8ToNat16)
+        (nat8ToNat nat8ToNat)
+        (nat8ToInt8 nat8ToInt8)
+        (nat64ToNat32 nat64ToNat32)
+        (nat64ToNat nat64ToNat)
+        (nat64ToInt64 nat64ToInt64)
+        (nat32ToNat64 nat32ToNat64)
+        (nat32ToNat16 nat32ToNat16)
+        (nat32ToNat nat32ToNat)
+        (nat32ToInt32 nat32ToInt32)
+        (nat32ToChar nat32ToChar)
+        (nat16ToNat8 nat16ToNat8)
+        (nat16ToNat32 nat16ToNat32)
+        (nat16ToNat nat16ToNat)
+        (nat16ToInt16 nat16ToInt16)
+        (log log)
+        (isStorageBlobLive isStorageBlobLive)
+        (isReplicatedExecution isReplicatedExecution)
+        (isLive isLive)
+        (isController isController)
+        (intToNat8Wrap intToNat8Wrap)
+        (intToNat64Wrap intToNat64Wrap)
+        (intToNat32Wrap intToNat32Wrap)
+        (intToNat16Wrap intToNat16Wrap)
+        (intToInt8Wrap intToInt8Wrap)
+        (intToInt8 intToInt8)
+        (intToInt64Wrap intToInt64Wrap)
+        (intToInt64 intToInt64)
+        (intToInt32Wrap intToInt32Wrap)
+        (intToInt32 intToInt32)
+        (intToInt16Wrap intToInt16Wrap)
+        (intToInt16 intToInt16)
+        (intToFloat intToFloat)
+        (int8ToNat8 int8ToNat8)
+        (int8ToInt16 int8ToInt16)
+        (int8ToInt int8ToInt)
+        (int64ToNat64 int64ToNat64)
+        (int64ToInt32 int64ToInt32)
+        (int64ToInt int64ToInt)
+        (int64ToFloat int64ToFloat)
+        (int32ToNat32 int32ToNat32)
+        (int32ToInt64 int32ToInt64)
+        (int32ToInt16 int32ToInt16)
+        (int32ToInt int32ToInt)
+        (int16ToNat16 int16ToNat16)
+        (int16ToInt8 int16ToInt8)
+        (int16ToInt32 int16ToInt32)
+        (int16ToInt int16ToInt)
+        (idlHash idlHash)
+        (hashBlob hashBlob)
+        (getSelfPrincipal getSelfPrincipal)
+        (getDeadBlobs getDeadBlobs)
+        (getCertificate getCertificate)
+        (getCandidTypeLimits getCandidTypeLimits)
+        (getCandidLimits getCandidLimits)
+        (forall forall)
+        (floatTrunc floatTrunc)
+        (floatToText floatToText)
+        (floatToInt64 floatToInt64)
+        (floatToInt floatToInt)
+        (floatToFormattedText floatToFormattedText)
+        (floatSqrt floatSqrt)
+        (floatNearest floatNearest)
+        (floatMin floatMin)
+        (floatMax floatMax)
+        (floatFloor floatFloor)
+        (floatCopySign floatCopySign)
+        (floatCeil floatCeil)
+        (floatAbs floatAbs)
+        (explodeNat64 explodeNat64)
+        (explodeNat32 explodeNat32)
+        (explodeNat16 explodeNat16)
+        (explodeInt64 explodeInt64)
+        (explodeInt32 explodeInt32)
+        (explodeInt16 explodeInt16)
+        (exp exp)
+        (exists exists)
+        (errorMessage errorMessage)
+        (errorCode errorCode)
+        (error error)
+        (envVarNames envVarNames)
+        (envVar envVar)
+        (encodeUtf8 encodeUtf8)
+        (decodeUtf8 decodeUtf8)
+        (debugPrintNat debugPrintNat)
+        (debugPrintInt debugPrintInt)
+        (debugPrintChar debugPrintChar)
+        (debugPrint debugPrint)
+        (cyclesRefunded cyclesRefunded)
+        (cyclesBurn cyclesBurn)
+        (cyclesBalance cyclesBalance)
+        (cyclesAvailable cyclesAvailable)
+        (cyclesAdd cyclesAdd)
+        (cyclesAccept cyclesAccept)
+        (ctzNat8 ctzNat8)
+        (ctzNat64 ctzNat64)
+        (ctzNat32 ctzNat32)
+        (ctzNat16 ctzNat16)
+        (ctzInt8 ctzInt8)
+        (ctzInt64 ctzInt64)
+        (ctzInt32 ctzInt32)
+        (ctzInt16 ctzInt16)
+        (createActor createActor)
+        (costSignWithSchnorr costSignWithSchnorr)
+        (costSignWithEcdsa costSignWithEcdsa)
+        (costHttpRequest costHttpRequest)
+        (costCreateCanister costCreateCanister)
+        (costCall costCall)
+        (cos cos)
+        (clzNat8 clzNat8)
+        (clzNat64 clzNat64)
+        (clzNat32 clzNat32)
+        (clzNat16 clzNat16)
+        (clzInt8 clzInt8)
+        (clzInt64 clzInt64)
+        (clzInt32 clzInt32)
+        (clzInt16 clzInt16)
+        (charToUpper charToUpper)
+        (charToText charToText)
+        (charToNat32 charToNat32)
+        (charToLower charToLower)
+        (charIsWhitespace charIsWhitespace)
+        (charIsUppercase charIsUppercase)
+        (charIsLowercase charIsLowercase)
+        (charIsAlphabetic charIsAlphabetic)
+        (canisterVersion canisterVersion)
+        (canisterSubnet canisterSubnet)
+        (cancelTimer cancelTimer)
+        (call_raw call_raw)
+        (btstNat8 btstNat8)
+        (btstNat64 btstNat64)
+        (btstNat32 btstNat32)
+        (btstNat16 btstNat16)
+        (btstInt8 btstInt8)
+        (btstInt64 btstInt64)
+        (btstInt32 btstInt32)
+        (btstInt16 btstInt16)
+        (blobToArrayMut blobToArrayMut)
+        (blobToArray blobToArray)
+        (blobOfPrincipal blobOfPrincipal)
+        (blobCompare blobCompare)
+        (arrayToBlob arrayToBlob)
+        (arrayMutToBlob arrayMutToBlob)
+        (arctan2 arctan2)
+        (arctan arctan)
+        (arcsin arcsin)
+        (arccos arccos)
+        (allocWeakRef allocWeakRef)
+        (abs abs)
+        (__getDedupTable __getDedupTable)
+        (Types Types)
+        (BlobIterator BlobIterator)
+        (Array_tabulateVar Array_tabulateVar)
+        (Array_tabulate Array_tabulate)
+        (Array_init Array_init)
+        module {type BlobIterator = {isBlobLive : (b : Blob) -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : (confirmedDeadBlobs : [Blob]) -> (); size : () -> Nat}; type ErrorCode = {#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}; type __List = {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}; type __WeakRef = {ref : weak Blob}; Array_init : <T>(len : Nat, x : T) -> [var T]; Array_tabulate : <T>(len : Nat, gen : Nat -> T) -> [T]; Array_tabulateVar : <T>(len : Nat, gen : Nat -> T) -> [var T]; BlobIterator : (hash : [var __List]) -> BlobIterator; Types : module {type Any = Any; type Blob = Blob; type Bool = Bool; type Char = Char; type Error = Error; type Float = Float; type Int = Int; type Int16 = Int16; type Int32 = Int32; type Int64 = Int64; type Int8 = Int8; type Nat = Nat; type Nat16 = Nat16; type Nat32 = Nat32; type Nat64 = Nat64; type Nat8 = Nat8; type None = None; type Null = Null; type Principal = Principal; type Region = Region; type Text = Text}; __getDedupTable : () -> ?[var __List]; abs : (x : Int) -> Nat; allocWeakRef : <T>(obj : T) -> weak T; arccos : (f : Float) -> Float; arcsin : (f : Float) -> Float; arctan : (f : Float) -> Float; arctan2 : (y : Float, x : Float) -> Float; arrayMutToBlob : (a : [var Nat8]) -> Blob; arrayToBlob : (a : [Nat8]) -> Blob; blobCompare : (b1 : Blob, b2 : Blob) -> Int8; blobOfPrincipal : (id : Principal) -> Blob; blobToArray : (b : Blob) -> [Nat8]; blobToArrayMut : (b : Blob) -> [var Nat8]; btstInt16 : (w : Int16, amount : Int16) -> Bool; btstInt32 : (w : Int32, amount : Int32) -> Bool; btstInt64 : (w : Int64, amount : Int64) -> Bool; btstInt8 : (w : Int8, amount : Int8) -> Bool; btstNat16 : (w : Nat16, amount : Nat16) -> Bool; btstNat32 : (w : Nat32, amount : Nat32) -> Bool; btstNat64 : (w : Nat64, amount : Nat64) -> Bool; btstNat8 : (w : Nat8, amount : Nat8) -> Bool; call_raw : (p : Principal, m : Text, a : Blob) -> async Blob; cancelTimer : (id : Nat) -> (); canisterSubnet : () -> Principal; canisterVersion : () -> Nat64; charIsAlphabetic : (c : Char) -> Bool; charIsLowercase : (c : Char) -> Bool; charIsUppercase : (c : Char) -> Bool; charIsWhitespace : (c : Char) -> Bool; charToLower : (c : Char) -> Char; charToNat32 : (c : Char) -> Nat32; charToText : (c : Char) -> Text; charToUpper : (c : Char) -> Char; clzInt16 : (w : Int16) -> Int16; clzInt32 : (w : Int32) -> Int32; clzInt64 : (w : Int64) -> Int64; clzInt8 : (w : Int8) -> Int8; clzNat16 : (w : Nat16) -> Nat16; clzNat32 : (w : Nat32) -> Nat32; clzNat64 : (w : Nat64) -> Nat64; clzNat8 : (w : Nat8) -> Nat8; cos : (f : Float) -> Float; costCall : (methodNameSize : Nat64, payloadSize : Nat64) -> Nat; costCreateCanister : () -> Nat; costHttpRequest : (requestSize : Nat64, maxResBytes : Nat64) -> Nat; costSignWithEcdsa : (keyName : Text, curveEncoding : Nat32) -> (resultCode : Nat32, costOrUndefined : Nat); costSignWithSchnorr : (keyName : Text, algorithmEncoding : Nat32) -> (resultCode : Nat32, costOrUndefined : Nat); createActor : (wasm : Blob, argument : Blob) -> async Principal; ctzInt16 : (w : Int16) -> Int16; ctzInt32 : (w : Int32) -> Int32; ctzInt64 : (w : Int64) -> Int64; ctzInt8 : (w : Int8) -> Int8; ctzNat16 : (w : Nat16) -> Nat16; ctzNat32 : (w : Nat32) -> Nat32; ctzNat64 : (w : Nat64) -> Nat64; ctzNat8 : (w : Nat8) -> Nat8; cyclesAccept : <system>(amount : Nat) -> Nat; cyclesAdd : <system>(amount : Nat) -> (); cyclesAvailable : () -> Nat; cyclesBalance : () -> Nat; cyclesBurn : <system>(amount : Nat) -> Nat; cyclesRefunded : () -> Nat; debugPrint : (x : Text) -> (); debugPrintChar : (x : Char) -> (); debugPrintInt : (x : Int) -> (); debugPrintNat : (x : Nat) -> (); decodeUtf8 : (b : Blob) -> ?Text; encodeUtf8 : (t : Text) -> Blob; envVar : <system>(name : Text) -> ?Text; envVarNames : <system>() -> [Text]; error : (message : Text) -> Error; errorCode : (e : Error) -> ErrorCode; errorMessage : (e : Error) -> Text; exists : <T>(f : T -> Bool) -> Bool; exp : (f : Float) -> Float; explodeInt16 : (n : Int16) -> (msb : Nat8, lsb : Nat8); explodeInt32 : (n : Int32) -> (msb : Nat8, Nat8, Nat8, lsb : Nat8); explodeInt64 : (n : Int64) -> (msb : Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, lsb : Nat8); explodeNat16 : (n : Nat16) -> (msb : Nat8, lsb : Nat8); explodeNat32 : (n : Nat32) -> (msb : Nat8, Nat8, Nat8, lsb : Nat8); explodeNat64 : (n : Nat64) -> (msb : Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, lsb : Nat8); floatAbs : (f : Float) -> Float; floatCeil : (f : Float) -> Float; floatCopySign : (f : Float, g : Float) -> Float; floatFloor : (f : Float) -> Float; floatMax : (f : Float, g : Float) -> Float; floatMin : (f : Float, g : Float) -> Float; floatNearest : (f : Float) -> Float; floatSqrt : (f : Float) -> Float; floatToFormattedText : (f : Float, prec : Nat8, mode : Nat8) -> Text; floatToInt : (f : Float) -> Int; floatToInt64 : (f : Float) -> Int64; floatToText : (x : Float) -> Text; floatTrunc : (f : Float) -> Float; forall : <T>(f : T -> Bool) -> Bool; getCandidLimits : <system>() -> {bias : Nat32; denominator : Nat32; numerator : Nat32}; getCandidTypeLimits : <system>() -> {bias : Nat32; scalar : Nat32}; getCertificate : () -> ?Blob; getDeadBlobs : () -> ?[Blob]; getSelfPrincipal : <system>() -> Principal; hashBlob : (b : Blob) -> Nat32; idlHash : (x : Text) -> Nat32; int16ToInt : (n : Int16) -> Int; int16ToInt32 : (n : Int16) -> Int32; int16ToInt8 : (n : Int16) -> Int8; int16ToNat16 : (n : Int16) -> Nat16; int32ToInt : (n : Int32) -> Int; int32ToInt16 : (n : Int32) -> Int16; int32ToInt64 : (n : Int32) -> Int64; int32ToNat32 : (n : Int32) -> Nat32; int64ToFloat : (n : Int64) -> Float; int64ToInt : (n : Int64) -> Int; int64ToInt32 : (n : Int64) -> Int32; int64ToNat64 : (n : Int64) -> Nat64; int8ToInt : (n : Int8) -> Int; int8ToInt16 : (n : Int8) -> Int16; int8ToNat8 : (n : Int8) -> Nat8; intToFloat : (n : Int) -> Float; intToInt16 : (n : Int) -> Int16; intToInt16Wrap : (n : Int) -> Int16; intToInt32 : (n : Int) -> Int32; intToInt32Wrap : (n : Int) -> Int32; intToInt64 : (n : Int) -> Int64; intToInt64Wrap : (n : Int) -> Int64; intToInt8 : (n : Int) -> Int8; intToInt8Wrap : (n : Int) -> Int8; intToNat16Wrap : (n : Int) -> Nat16; intToNat32Wrap : (n : Int) -> Nat32; intToNat64Wrap : (n : Int) -> Nat64; intToNat8Wrap : (n : Int) -> Nat8; isController : (p : Principal) -> Bool; isLive : (weak_ref : weak Any) -> Bool; isReplicatedExecution : () -> Bool; isStorageBlobLive : (b : Blob) -> Bool; log : (f : Float) -> Float; nat16ToInt16 : (n : Nat16) -> Int16; nat16ToNat : (n : Nat16) -> Nat; nat16ToNat32 : (n : Nat16) -> Nat32; nat16ToNat8 : (n : Nat16) -> Nat8; nat32ToChar : (w : Nat32) -> Char; nat32ToInt32 : (n : Nat32) -> Int32; nat32ToNat : (n : Nat32) -> Nat; nat32ToNat16 : (n : Nat32) -> Nat16; nat32ToNat64 : (n : Nat32) -> Nat64; nat64ToInt64 : (n : Nat64) -> Int64; nat64ToNat : (n : Nat64) -> Nat; nat64ToNat32 : (n : Nat64) -> Nat32; nat8ToInt8 : (n : Nat8) -> Int8; nat8ToNat : (n : Nat8) -> Nat; nat8ToNat16 : (n : Nat8) -> Nat16; natToNat16 : (n : Nat) -> Nat16; natToNat32 : (n : Nat) -> Nat32; natToNat64 : (n : Nat) -> Nat64; natToNat8 : (n : Nat) -> Nat8; performanceCounter : (counter : Nat32) -> Nat64; popcntInt16 : (w : Int16) -> Int16; popcntInt32 : (w : Int32) -> Int32; popcntInt64 : (w : Int64) -> Int64; popcntInt8 : (w : Int8) -> Int8; popcntNat16 : (w : Nat16) -> Nat16; popcntNat32 : (w : Nat32) -> Nat32; popcntNat64 : (w : Nat64) -> Nat64; popcntNat8 : (w : Nat8) -> Nat8; principalOfActor : (act : actor {}) -> Principal; principalOfBlob : (act : Blob) -> Principal; pruneConfirmedDeadBlobs : (confirmedDeadBlobs : [Blob]) -> (); regionGrow : (r : Region, pages : Nat64) -> Nat64; regionId : (r : Region) -> Nat; regionLoadBlob : (r : Region, offset : Nat64, size : Nat) -> Blob; regionLoadFloat : (r : Region, offset : Nat64) -> Float; regionLoadInt16 : (r : Region, offset : Nat64) -> Int16; regionLoadInt32 : (r : Region, offset : Nat64) -> Int32; regionLoadInt64 : (r : Region, offset : Nat64) -> Int64; regionLoadInt8 : (r : Region, offset : Nat64) -> Int8; regionLoadNat16 : (r : Region, offset : Nat64) -> Nat16; regionLoadNat32 : (r : Region, offset : Nat64) -> Nat32; regionLoadNat64 : (r : Region, offset : Nat64) -> Nat64; regionLoadNat8 : (r : Region, offset : Nat64) -> Nat8; regionNew : () -> Region; regionSize : (r : Region) -> Nat64; regionStoreBlob : (r : Region, offset : Nat64, val : Blob) -> (); regionStoreFloat : (r : Region, offset : Nat64, val : Float) -> (); regionStoreInt16 : (r : Region, offset : Nat64, val : Int16) -> (); regionStoreInt32 : (r : Region, offset : Nat64, val : Int32) -> (); regionStoreInt64 : (r : Region, offset : Nat64, val : Int64) -> (); regionStoreInt8 : (r : Region, offset : Nat64, val : Int8) -> (); regionStoreNat16 : (r : Region, offset : Nat64, val : Nat16) -> (); regionStoreNat32 : (r : Region, offset : Nat64, val : Nat32) -> (); regionStoreNat64 : (r : Region, offset : Nat64, val : Nat64) -> (); regionStoreNat8 : (r : Region, offset : Nat64, val : Nat8) -> (); replyDeadline : () -> Nat64; rootKey : () -> Blob; rts_callback_table_count : () -> Nat; rts_callback_table_size : () -> Nat; rts_collector_instructions : () -> Nat; rts_heap_size : () -> Nat; rts_lifetime_instructions : () -> Nat; rts_logical_stable_memory_size : () -> Nat; rts_max_live_size : () -> Nat; rts_max_stack_size : () -> Nat; rts_memory_size : () -> Nat; rts_mutator_instructions : () -> Nat; rts_reclaimed : () -> Nat; rts_stable_memory_size : () -> Nat; rts_total_allocation : () -> Nat; rts_upgrade_instructions : () -> Nat; rts_version : () -> Text; setCandidLimits : <system>{bias : Nat32; denominator : Nat32; numerator : Nat32} -> (); setCandidTypeLimits : <system>{bias : Nat32; scalar : Nat32} -> (); setCertifiedData : (data : Blob) -> (); setTimer : <system>(delayNanos : Nat64, recurring : Bool, job : () -> async ()) -> (id : Nat); shiftLeft : (x : Nat, shift : Nat32) -> Nat; shiftRight : (x : Nat, shift : Nat32) -> Nat; sin : (f : Float) -> Float; stableMemoryGrow : (pages : Nat64) -> Nat64; stableMemoryLoadBlob : (offset : Nat64, size : Nat) -> Blob; stableMemoryLoadFloat : (offset : Nat64) -> Float; stableMemoryLoadInt16 : (offset : Nat64) -> Int16; stableMemoryLoadInt32 : (offset : Nat64) -> Int32; stableMemoryLoadInt64 : (offset : Nat64) -> Int64; stableMemoryLoadInt8 : (offset : Nat64) -> Int8; stableMemoryLoadNat16 : (offset : Nat64) -> Nat16; stableMemoryLoadNat32 : (offset : Nat64) -> Nat32; stableMemoryLoadNat64 : (offset : Nat64) -> Nat64; stableMemoryLoadNat8 : (offset : Nat64) -> Nat8; stableMemorySize : () -> Nat64; stableMemoryStoreBlob : (offset : Nat64, val : Blob) -> (); stableMemoryStoreFloat : (offset : Nat64, val : Float) -> (); stableMemoryStoreInt16 : (offset : Nat64, val : Int16) -> (); stableMemoryStoreInt32 : (offset : Nat64, val : Int32) -> (); stableMemoryStoreInt64 : (offset : Nat64, val : Int64) -> (); stableMemoryStoreInt8 : (offset : Nat64, val : Int8) -> (); stableMemoryStoreNat16 : (offset : Nat64, val : Nat16) -> (); stableMemoryStoreNat32 : (offset : Nat64, val : Nat32) -> (); stableMemoryStoreNat64 : (offset : Nat64, val : Nat64) -> (); stableMemoryStoreNat8 : (offset : Nat64, val : Nat8) -> (); stableVarQuery : () -> shared query () -> async {size : Nat64}; tan : (f : Float) -> Float; textCompare : (t1 : Text, t2 : Text) -> Int8; textLowercase : (t : Text) -> Text; textUppercase : (t : Text) -> Text; time : () -> Nat64; trap : (x : Text) -> None; weakGet : <T>(w : weak T) -> ?T}
+      )
+    )
+  )
+  (LetD
+    (VarP file$issue-5767/Region.mo)
+    (BlockE
+      (LetD (VarP Prim) (VarE file$@prim))
+      (BlockE
+        (LetD (VarP new) (PrimE (DotPrim regionNew) (VarE Prim)))
+        (LetD
+          (VarP grow)
+          (FuncE
+            grow
+            Local
+            Returns
+            (params self newPages)
+            (oldPages : Nat64)
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionGrow) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE newPages))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64)
+          (FuncE
+            loadNat64
+            Local
+            Returns
+            (params self offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE offset))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64Fn)
+          (FuncE
+            loadNat64Fn
+            Local
+            Returns
+            (params r offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE r) (VarE offset))
+            )
+          )
+        )
+        (NewObjE
+          Module
+          (new new)
+          (loadNat64Fn loadNat64Fn)
+          (loadNat64 loadNat64)
+          (grow grow)
+          module {type Region = Region; grow : (self : Region, newPages : Nat64) -> (oldPages : Nat64); loadNat64 : (self : Region, offset : Nat64) -> Nat64; loadNat64Fn : (r : Region, offset : Nat64) -> Nat64; new : () -> Region}
+        )
+      )
+    )
+  )
+  (LetD (VarP Region) (VarE file$issue-5767/Region.mo))
+  (LetD
+    (VarP $__motoko_stable_var_info)
+    (FuncE
+      $__motoko_stable_var_info
+      Shared Query
+      Promises
+      (T1 Any)
+      {size : Nat64}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/0) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (PrimE
+              AssertPrim
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/0)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/0))
+              )
+            )
+          )
+          (LetD
+            (VarP $size/0)
+            (PrimE (ICStableSize memory {}) (NewObjE Memory memory {}))
+          )
+          (NewObjE Object (size $size/0) {size : Nat64})
+        )
+        T1
+      )
+    )
+  )
+  (LetD
+    (VarP $__motoko_runtime_information)
+    (FuncE
+      $__motoko_runtime_information
+      Shared Query
+      Promises
+      (T1 Any)
+      {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/1) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (IfE
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/1)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/1))
+              )
+              (PrimE TupPrim)
+              (PrimE
+                trap
+                (LitE
+                  (TextLit Unauthorized call of __motoko_runtime_information)
+                )
+              )
+            )
+          )
+          (LetD
+            (VarP $compilerVersion/0)
+            (LitE (TextLit 1.0.0-77-g4d85e5c86-dirty))
+          )
+          (LetD (VarP $garbageCollector/0) (LitE (TextLit default force)))
+          (LetD (VarP $rtsVersion/0) (PrimE rts_version))
+          (LetD (VarP $sanityChecks/0) (LitE (BoolLit false)))
+          (LetD (VarP $memorySize/0) (PrimE rts_memory_size))
+          (LetD (VarP $heapSize/0) (PrimE rts_heap_size))
+          (LetD (VarP $totalAllocation/0) (PrimE rts_total_allocation))
+          (LetD (VarP $reclaimed/0) (PrimE rts_reclaimed))
+          (LetD (VarP $maxLiveSize/0) (PrimE rts_max_live_size))
+          (LetD (VarP $stableMemorySize/0) (PrimE rts_stable_memory_size))
+          (LetD
+            (VarP $logicalStableMemorySize/0)
+            (PrimE rts_logical_stable_memory_size)
+          )
+          (LetD (VarP $maxStackSize/0) (PrimE rts_max_stack_size))
+          (LetD (VarP $callbackTableCount/0) (PrimE rts_callback_table_count))
+          (LetD (VarP $callbackTableSize/0) (PrimE rts_callback_table_size))
+          (NewObjE
+            Object
+            (callbackTableSize $callbackTableSize/0)
+            (callbackTableCount $callbackTableCount/0)
+            (maxStackSize $maxStackSize/0)
+            (logicalStableMemorySize $logicalStableMemorySize/0)
+            (stableMemorySize $stableMemorySize/0)
+            (maxLiveSize $maxLiveSize/0)
+            (reclaimed $reclaimed/0)
+            (totalAllocation $totalAllocation/0)
+            (heapSize $heapSize/0)
+            (memorySize $memorySize/0)
+            (sanityChecks $sanityChecks/0)
+            (rtsVersion $rtsVersion/0)
+            (garbageCollector $garbageCollector/0)
+            (compilerVersion $compilerVersion/0)
+            {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+          )
+        )
+        T1
+      )
+    )
+  )
+  (LetD (VarP A) (PrimE (SelfRef actor {go : shared () -> async ()})))
+  (VarD $state/0 ?(memory {}) (PrimE OptPrim (PrimE (ICStableRead memory {}))))
+  (LetD
+    (VarP $getState/0)
+    (FuncE
+      $getState/0
+      Local
+      Returns
+      memory {}
+      (SwitchE
+        (VarE! $state/0)
+        (case (LitP NullLit) (LoopE (PrimE TupPrim)))
+        (case (OptP (VarP $v/0)) (VarE $v/0))
+      )
+    )
+  )
+  (LetD
+    (VarP r)
+    (PrimE (CallPrim) (PrimE (DotPrim new) (VarE Region)) (PrimE TupPrim))
+  )
+  (LetD
+    WildP
+    (PrimE
+      (CallPrim)
+      (PrimE (DotPrim grow) (VarE Region))
+      (PrimE TupPrim (VarE r) (LitE (Nat64Lit 1)))
+    )
+  )
+  (LetD
+    (VarP kermit)
+    (FuncE
+      kermit
+      Local
+      Returns
+      ()
+      (BlockE
+        (LetD
+          (VarP w1)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w2)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w3)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64Fn) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (PrimE TupPrim)
+      )
+    )
+  )
+  (LetD
+    (VarP go)
+    (FuncE
+      go
+      Shared
+      Promises
+      ($ Any)
+      ()
+      (AsyncE ($go Any) (PrimE (CallPrim) (VarE kermit) (PrimE TupPrim)) $)
+    )
+  )
+  (LetD WildP (AssignE (VarLE $state/0) (LitE NullLit)))
+  (go go)
+  (__motoko_runtime_information $__motoko_runtime_information)
+  (__motoko_stable_var_info $__motoko_stable_var_info)
+  (System
+    (Pre (PrimE (ICStableWrite memory {})))
+    (Post (PrimE TupPrim))
+    (Heartbeat (PrimE TupPrim))
+    (Timer
+      (BlockE
+        (LetD WildP (PrimE (CallPrim ()) (VarE @timer_helper) (PrimE TupPrim)))
+        (PrimE TupPrim)
+      )
+    )
+    (Inspect (PrimE TupPrim))
+    (LowMemory (PrimE TupPrim))
+    (StableRecord (NewObjE Memory memory {}))
+    (StableType memory {} memory {})
+  )
+  actor {go : shared () -> async ()}
+)
+(ActorU
+  (VarD @cycles Nat (LitE (NatLit 0)))
+  (VarD @timeout ?Nat32 (LitE NullLit))
+  (LetD
+    (VarP @add_cycles)
+    (FuncE
+      @add_cycles
+      Local
+      Returns
+      ($ Any)
+      ()
+      (BlockE
+        (LetD (VarP cycles) (VarE! @cycles))
+        (LetD WildP (PrimE (CallPrim) (VarE @reset_cycles) (PrimE TupPrim)))
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE (RelPrim Nat EqOp) (VarE cycles) (LitE (NatLit 0)))
+              (LitE (BoolLit false))
+            )
+            (PrimE SystemCyclesAddPrim (VarE cycles))
+            (PrimE TupPrim)
+          )
+        )
+        (SwitchE
+          (VarE! @timeout)
+          (case
+            (OptP (VarP timeout))
+            (BlockE
+              (LetD WildP (AssignE (VarLE @timeout) (LitE NullLit)))
+              (PrimE SystemTimeoutSetPrim (VarE timeout))
+            )
+          )
+          (case (LitP NullLit) (PrimE TupPrim))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @reset_cycles)
+    (FuncE
+      @reset_cycles
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @cycles) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @immut_array_get)
+    (FuncE
+      @immut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-45.49
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_get)
+    (FuncE
+      @mut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-46.51
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_size)
+    (FuncE
+      @immut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-47.51 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_size)
+    (FuncE
+      @mut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-48.53 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_put)
+    (FuncE
+      @mut_array_put
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      (Nat, A) -> ()
+      (FuncE
+        @anon-func-49.57
+        Local
+        Returns
+        (params n x)
+        ()
+        (AssignE (IdxLE (VarE xs) (VarE n)) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_keys)
+    (FuncE
+      @immut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-50.58
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_keys)
+    (FuncE
+      @mut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-55.60
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_vals)
+    (FuncE
+      @immut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-60.56
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_vals)
+    (FuncE
+      @mut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-67.58
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_size)
+    (FuncE
+      @blob_size
+      Local
+      Returns
+      (params b)
+      () -> Nat
+      (FuncE @anon-func-74.41 Local Returns Nat (PrimE blob_size (VarE b)))
+    )
+  )
+  (LetD
+    (VarP @blob_keys)
+    (FuncE
+      @blob_keys
+      Local
+      Returns
+      (params b)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-75.48
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE blob_size (VarE b)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_get)
+    (FuncE
+      @blob_get
+      Local
+      Returns
+      (params b)
+      Nat -> Nat8
+      (FuncE
+        @anon-func-80.42
+        Local
+        Returns
+        (params n)
+        Nat8
+        (PrimE IdxBlobPrim (VarE b) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_vals)
+    (FuncE
+      @blob_vals
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Nat8>
+      (FuncE
+        @anon-func-81.50
+        Local
+        Returns
+        @Iter<Nat8>
+        (BlockE
+          (LetD (VarP i) (PrimE blob_vals_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat8
+              (IfE
+                (PrimE blob_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE blob_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat8})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_size)
+    (FuncE
+      @text_size
+      Local
+      Returns
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-88.42 Local Returns Nat (PrimE text_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @text_chars)
+    (FuncE
+      @text_chars
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Char>
+      (FuncE
+        @anon-func-89.51
+        Local
+        Returns
+        @Iter<Char>
+        (BlockE
+          (LetD (VarP i) (PrimE text_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Char
+              (IfE
+                (PrimE text_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE text_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Char})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_num)
+    (FuncE
+      @text_of_num
+      Local
+      Returns
+      (params x base sep digits)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit )))
+        (VarD n Nat (VarE x))
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat EqOp) (VarE! n) (LitE (NatLit 0)))
+            (PrimE RetPrim (LitE (TextLit 0)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD
+          WildP
+          (LabelE
+            $done/2
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat GtOp) (VarE! n) (LitE (NatLit 0)))
+                (BlockE
+                  (LetD
+                    (VarP rem)
+                    (PrimE (BinPrim Nat ModOp) (VarE! n) (VarE base))
+                  )
+                  (LetD
+                    WildP
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat GtOp) (VarE sep) (LitE (NatLit 0)))
+                        (PrimE (RelPrim Nat EqOp) (VarE! i) (VarE sep))
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE text)
+                            (PrimE
+                              (BinPrim Text CatOp)
+                              (LitE (TextLit _))
+                              (VarE! text)
+                            )
+                          )
+                        )
+                        (AssignE (VarLE i) (LitE (NatLit 0)))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE text)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (PrimE (CallPrim) (VarE digits) (VarE rem))
+                        (VarE! text)
+                      )
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE n)
+                      (PrimE (BinPrim Nat DivOp) (VarE! n) (VarE base))
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/2) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (VarE! text)
+      )
+    )
+  )
+  (LetD
+    (VarP @left_pad)
+    (FuncE
+      @left_pad
+      Local
+      Returns
+      (params pad char t)
+      Text
+      (IfE
+        (PrimE (RelPrim Nat GtOp) (VarE pad) (PrimE text_len (VarE t)))
+        (BlockE
+          (VarD
+            i
+            Nat
+            (PrimE (BinPrim Nat SubOp) (VarE pad) (PrimE text_len (VarE t)))
+          )
+          (VarD text Text (VarE t))
+          (LetD
+            WildP
+            (LabelE
+              $done/3
+              ()
+              (LoopE
+                (IfE
+                  (PrimE (RelPrim Nat GtOp) (VarE! i) (LitE (NatLit 0)))
+                  (BlockE
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE text)
+                        (PrimE (BinPrim Text CatOp) (VarE char) (VarE! text))
+                      )
+                    )
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat SubOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE (BreakPrim $done/3) (PrimE TupPrim))
+                )
+              )
+            )
+          )
+          (VarE! text)
+        )
+        (VarE t)
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_dec)
+    (FuncE
+      @digits_dec
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE (BinPrim Int AddOp) (VarE x) (LitE (IntLit 48)))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat)
+    (FuncE
+      @text_of_Nat
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_num)
+        (PrimE
+          TupPrim
+          (VarE x)
+          (LitE (NatLit 10))
+          (LitE (NatLit 3))
+          (VarE @digits_dec)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int)
+    (FuncE
+      @text_of_Int
+      Local
+      Returns
+      (params x)
+      Text
+      (IfE
+        (PrimE (RelPrim Int EqOp) (VarE x) (LitE (IntLit 0)))
+        (LitE (TextLit 0))
+        (PrimE
+          (BinPrim Text CatOp)
+          (IfE
+            (PrimE (RelPrim Int LtOp) (VarE x) (LitE (IntLit 0)))
+            (LitE (TextLit -))
+            (LitE (TextLit +))
+          )
+          (PrimE (CallPrim) (VarE @text_of_Nat) (PrimE abs (VarE x)))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_hex)
+    (FuncE
+      @digits_hex
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE
+              (BinPrim Int AddOp)
+              (VarE x)
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE x) (LitE (NatLit 10)))
+                (LitE (IntLit 48))
+                (LitE (IntLit 55))
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @int64ToInt)
+    (FuncE
+      @int64ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int64 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int32ToInt)
+    (FuncE
+      @int32ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int32 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int16ToInt)
+    (FuncE
+      @int16ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int16 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int8ToInt)
+    (FuncE
+      @int8ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int8 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat64ToNat)
+    (FuncE
+      @nat64ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat64 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat32ToNat)
+    (FuncE
+      @nat32ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat32 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat16ToNat)
+    (FuncE
+      @nat16ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat16 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat8ToNat)
+    (FuncE
+      @nat8ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat8 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat8)
+    (FuncE
+      @text_of_Nat8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat8ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat16)
+    (FuncE
+      @text_of_Nat16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat16ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat32)
+    (FuncE
+      @text_of_Nat32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat32ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat64)
+    (FuncE
+      @text_of_Nat64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat64ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int8)
+    (FuncE
+      @text_of_Int8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int8ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int16)
+    (FuncE
+      @text_of_Int16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int16ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int32)
+    (FuncE
+      @text_of_Int32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int32ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int64)
+    (FuncE
+      @text_of_Int64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int64ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Float)
+    (FuncE
+      @text_of_Float
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE Float->Text (VarE x))
+    )
+  )
+  (LetD
+    (VarP @text_of_Bool)
+    (FuncE
+      @text_of_Bool
+      Local
+      Returns
+      (params b)
+      Text
+      (IfE (VarE b) (LitE (TextLit true)) (LitE (TextLit false)))
+    )
+  )
+  (LetD
+    (VarP @text_of_Text)
+    (FuncE
+      @text_of_Text
+      Local
+      Returns
+      (params t)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE (BinPrim Text CatOp) (LitE (TextLit ")) (VarE t))
+        (LitE (TextLit "))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Char)
+    (FuncE
+      @text_of_Char
+      Local
+      Returns
+      (params c)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE
+          (BinPrim Text CatOp)
+          (LitE (TextLit '))
+          (PrimE conv_Char_Text (VarE c))
+        )
+        (LitE (TextLit '))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Blob)
+    (FuncE
+      @text_of_Blob
+      Local
+      Returns
+      (params blob)
+      Text
+      (BlockE
+        (VarD t Text (LitE (TextLit ")))
+        (LetD
+          WildP
+          (BlockE
+            (LetD
+              (VarP $nxt/0)
+              (PrimE
+                (DotPrim next)
+                (PrimE
+                  (CallPrim)
+                  (PrimE (CallPrim) (VarE @blob_vals) (VarE blob))
+                  (PrimE TupPrim)
+                )
+              )
+            )
+            (LabelE
+              $done/4
+              ()
+              (LoopE
+                (SwitchE
+                  (PrimE (CallPrim) (VarE $nxt/0) (PrimE TupPrim))
+                  (case
+                    (LitP NullLit)
+                    (PrimE (BreakPrim $done/4) (PrimE TupPrim))
+                  )
+                  (case
+                    (OptP (VarP b))
+                    (AssignE
+                      (VarLE t)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (VarE! t)
+                        (PrimE
+                          (BinPrim Text CatOp)
+                          (LitE (TextLit \))
+                          (PrimE
+                            (CallPrim)
+                            (VarE @left_pad)
+                            (PrimE
+                              TupPrim
+                              (LitE (NatLit 2))
+                              (LitE (TextLit 0))
+                              (PrimE
+                                (CallPrim)
+                                (VarE @text_of_num)
+                                (PrimE
+                                  TupPrim
+                                  (PrimE (CallPrim) (VarE @nat8ToNat) (VarE b))
+                                  (LitE (NatLit 16))
+                                  (LitE (NatLit 0))
+                                  (VarE @digits_hex)
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE t)
+            (PrimE (BinPrim Text CatOp) (VarE! t) (LitE (TextLit ")))
+          )
+        )
+        (PrimE RetPrim (VarE! t))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_has_parens)
+    (FuncE
+      @text_has_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case (OptP (LitP (CharLit 40))) (LitE (BoolLit true)))
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_needs_parens)
+    (FuncE
+      @text_needs_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case
+          (OptP
+            (AltP
+              (AltP
+                (AltP (LitP (CharLit 43)) (LitP (CharLit 45)))
+                (LitP (CharLit 63))
+              )
+              (LitP (CharLit 35))
+            )
+          )
+          (LitE (BoolLit true))
+        )
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_option)
+    (FuncE
+      @text_of_option
+      Local
+      Returns
+      (T Any)
+      (params f x)
+      Text
+      (SwitchE
+        (VarE x)
+        (case
+          (OptP (VarP y))
+          (BlockE
+            (LetD (VarP fy) (PrimE (CallPrim) (VarE f) (VarE y)))
+            (IfE
+              (PrimE (CallPrim) (VarE @text_needs_parens) (VarE fy))
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE (BinPrim Text CatOp) (LitE (TextLit ?()) (VarE fy))
+                (LitE (TextLit )))
+              )
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit ?)) (VarE fy))
+            )
+          )
+        )
+        (case (LitP NullLit) (LitE (TextLit null)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_variant)
+    (FuncE
+      @text_of_variant
+      Local
+      Returns
+      (T Any)
+      (params l f x)
+      Text
+      (BlockE
+        (LetD (VarP fx) (PrimE (CallPrim) (VarE f) (VarE x)))
+        (IfE
+          (PrimE (RelPrim Text EqOp) (VarE fx) (LitE (TextLit ())))
+          (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+          (IfE
+            (PrimE (CallPrim) (VarE @text_has_parens) (VarE fx))
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+              (VarE fx)
+            )
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE
+                  (BinPrim Text CatOp)
+                  (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+                  (LitE (TextLit ())
+                )
+                (VarE fx)
+              )
+              (LitE (TextLit )))
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array)
+    (FuncE
+      @text_of_array
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/0) (VarE xs))
+            (LetD (VarP $last/0) (PrimE GetLastArrayOffset (VarE $arr/0)))
+            (VarD $indx/0 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/0) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/5
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/0) (VarE! $indx/0))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (AssignE (VarLE first) (LitE (BoolLit false)))
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/0) (VarE $last/0))
+                      (PrimE (BreakPrim $done/5) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/0)
+                        (PrimE NextArrayOffset (VarE! $indx/0))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array_mut)
+    (FuncE
+      @text_of_array_mut
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [var)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/1) (VarE xs))
+            (LetD (VarP $last/1) (PrimE GetLastArrayOffset (VarE $arr/1)))
+            (VarD $indx/1 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/1) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/6
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/1) (VarE! $indx/1))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE (VarLE first) (LitE (BoolLit false)))
+                              )
+                              (AssignE
+                                (VarLE text)
+                                (PrimE
+                                  (BinPrim Text CatOp)
+                                  (VarE! text)
+                                  (LitE (TextLit  ))
+                                )
+                              )
+                            )
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/1) (VarE $last/1))
+                      (PrimE (BreakPrim $done/6) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/1)
+                        (PrimE NextArrayOffset (VarE! $indx/1))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @equal_array)
+    (FuncE
+      @equal_array
+      Local
+      Returns
+      (T Any)
+      (params eq a b)
+      Bool
+      (BlockE
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE
+                (RelPrim Nat EqOp)
+                (PrimE array_len (VarE a))
+                (PrimE array_len (VarE b))
+              )
+              (LitE (BoolLit false))
+            )
+            (PrimE RetPrim (LitE (BoolLit false)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD (VarP s) (PrimE array_len (VarE a)))
+        (LetD
+          WildP
+          (LabelE
+            $done/7
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE! i) (VarE s))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE eq)
+                          (PrimE
+                            TupPrim
+                            (PrimE IdxPrim (VarE a) (VarE! i))
+                            (PrimE IdxPrim (VarE b) (VarE! i))
+                          )
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (PrimE RetPrim (LitE (BoolLit false)))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/7) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (PrimE RetPrim (LitE (BoolLit true)))
+      )
+    )
+  )
+  (VarD @refund Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @reset_refund)
+    (FuncE
+      @reset_refund
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @refund) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @getSystemRefund)
+    (FuncE
+      @getSystemRefund
+      Local
+      Returns
+      @Refund
+      (PrimE RetPrim (PrimE SystemCyclesRefundedPrim))
+    )
+  )
+  (LetD (VarP @cleanup) (FuncE @cleanup Local Returns () (PrimE TupPrim)))
+  (LetD
+    (VarP @new_async)
+    (FuncE
+      @new_async
+      Local
+      Returns
+      (T Any)
+      (@Async<T>, @Cont<T>, @Cont<Error>, @CleanCont)
+      (BlockE
+        (LetD
+          (VarP w_null)
+          (FuncE
+            @anon-func-293.16
+            Local
+            Returns
+            (params r t)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP r_null)
+          (FuncE
+            @anon-func-294.16
+            Local
+            Returns
+            (params $ignored0/0)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (VarD result ?@Result<T> (LitE NullLit))
+        (VarD ws (@Refund, T) -> () (VarE w_null))
+        (VarD rs Error -> () (VarE r_null))
+        (LetD
+          (VarP getRefund)
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE (RelPrim Nat EqOp) (VarE! @cycles) (LitE (NatLit 0)))
+            (LitE (BoolLit false))
+          )
+        )
+        (LetD
+          (VarP fulfill)
+          (FuncE
+            fulfill
+            Local
+            Returns
+            (params t)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP refund)
+                    (IfE
+                      (VarE getRefund)
+                      (PrimE (CallPrim) (VarE @getSystemRefund) (PrimE TupPrim))
+                      (LitE (NatLit 0))
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE
+                        OptPrim
+                        (PrimE (TagE ok) (PrimE TupPrim (VarE refund) (VarE t)))
+                      )
+                    )
+                  )
+                  (LetD (VarP ws_) (VarE! ws))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE
+                    (CallPrim)
+                    (VarE ws_)
+                    (PrimE TupPrim (VarE refund) (VarE t))
+                  )
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (LetD
+          (VarP fail)
+          (FuncE
+            fail
+            Local
+            Returns
+            (params e)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE OptPrim (PrimE (TagE error) (VarE e)))
+                    )
+                  )
+                  (LetD (VarP rs_) (VarE! rs))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE (CallPrim) (VarE rs_) (VarE e))
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (VarD cleanup () -> () (VarE @cleanup))
+        (LetD
+          (VarP enqueue)
+          (FuncE
+            enqueue
+            Local
+            Returns
+            (params k r b)
+            {#schedule : () -> (); #suspend}
+            (BlockE
+              (LetD WildP (AssignE (VarLE cleanup) (VarE b)))
+              (SwitchE
+                (VarE! result)
+                (case
+                  (LitP NullLit)
+                  (BlockE
+                    (LetD (VarP ws_) (VarE! ws))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE ws)
+                        (FuncE
+                          @anon-func-337.15
+                          Local
+                          Returns
+                          (params r t)
+                          ()
+                          (BlockE
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE ws_)
+                                (PrimE TupPrim (VarE r) (VarE t))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                            (PrimE (CallPrim) (VarE k) (VarE t))
+                          )
+                        )
+                      )
+                    )
+                    (LetD (VarP rs_) (VarE! rs))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE rs)
+                        (FuncE
+                          @anon-func-344.15
+                          Local
+                          Returns
+                          (params e)
+                          ()
+                          (BlockE
+                            (LetD WildP (PrimE (CallPrim) (VarE rs_) (VarE e)))
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_refund)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (PrimE (CallPrim) (VarE r) (VarE e))
+                          )
+                        )
+                      )
+                    )
+                    (PrimE (TagE suspend) (PrimE TupPrim))
+                  )
+                )
+                (case
+                  (OptP (TagP ok (TupP (VarP r) (VarP t))))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-353.19
+                      Local
+                      Returns
+                      ()
+                      (BlockE
+                        (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                        (PrimE (CallPrim) (VarE k) (VarE t))
+                      )
+                    )
+                  )
+                )
+                (case
+                  (OptP (TagP error (VarP e)))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-356.19
+                      Local
+                      Returns
+                      ()
+                      (PrimE (CallPrim) (VarE r) (VarE e))
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (VarE enqueue)
+          (VarE fulfill)
+          (VarE fail)
+          (FuncE
+            @anon-func-361.28
+            Local
+            Returns
+            ()
+            (PrimE (CallPrim) (VarE! cleanup) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD (VarP @ManagementCanister) (NewObjE Module module {}))
+  (LetD
+    (VarP @ic00)
+    (PrimE
+      (ActorOfIdBlob
+        actor {create_canister : shared {sender_canister_version : ?Nat64; settings : ?canister_settings} -> async {canister_id : Principal}; install_code : shared {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module} -> async ()}
+      )
+      (PrimE BlobOfIcUrl (LitE (TextLit aaaaa-aa)))
+    )
+  )
+  (LetD
+    (VarP @install_actor_helper)
+    (FuncE
+      @install_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params install_arg enhanced_orthogonal_persistence wasm_module arg)
+      async*<$> Principal
+      (AsyncE*
+        ($@anon-async*-416.24 Any)
+        (BlockE
+          (LetD
+            (TupP (VarP mode) (VarP canister_id))
+            (SwitchE
+              (VarE install_arg)
+              (case
+                (TagP new (VarP settings))
+                (BlockE
+                  (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+                  (LetD
+                    (VarP accepted)
+                    (PrimE SystemCyclesAcceptPrim (VarE available))
+                  )
+                  (LetD
+                    (VarP sender_canister_version)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE @cycles)
+                      (PrimE
+                        (BinPrim Nat AddOp)
+                        (VarE! @cycles)
+                        (VarE accepted)
+                      )
+                    )
+                  )
+                  (LetD
+                    (ObjP (canister_id (VarP canister_id)))
+                    (PrimE
+                      AwaitPrim
+                      (PrimE
+                        (CallPrim $@anon-async*-416.24)
+                        (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                        (BlockE
+                          (LetD (VarP $base/0) (VarE settings))
+                          (LetD
+                            (VarP $settings/0)
+                            (PrimE (DotPrim settings) (VarE $base/0))
+                          )
+                          (NewObjE
+                            Object
+                            (settings $settings/0)
+                            (sender_canister_version sender_canister_version)
+                            {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE install) (PrimE TupPrim))
+                    (VarE canister_id)
+                  )
+                )
+              )
+              (case
+                (TagP install (VarP principal1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE install) (PrimE TupPrim))
+                  (VarE principal1)
+                )
+              )
+              (case
+                (TagP reinstall (VarP actor1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE reinstall) (PrimE TupPrim))
+                  (PrimE principalOfActor (VarE actor1))
+                )
+              )
+              (case
+                (TagP upgrade (VarP actor2))
+                (BlockE
+                  (LetD
+                    (VarP wasm_memory_persistence)
+                    (IfE
+                      (VarE enhanced_orthogonal_persistence)
+                      (PrimE OptPrim (PrimE (TagE keep) (PrimE TupPrim)))
+                      (LitE NullLit)
+                    )
+                  )
+                  (LetD
+                    (VarP upgradeOptions)
+                    (NewObjE
+                      Object
+                      (wasm_memory_persistence wasm_memory_persistence)
+                      {wasm_memory_persistence : ?{#keep}}
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE actor2))
+                  )
+                )
+              )
+              (case
+                (TagP
+                  upgrade_with_persistence
+                  (ObjP
+                    (wasm_memory_persistence (VarP wasm_memory_persistence))
+                    (canister (VarP canister))
+                  )
+                )
+                (BlockE
+                  (LetD
+                    (VarP upgradeOptions)
+                    (BlockE
+                      (LetD
+                        (VarP $wasm_memory_persistence/0)
+                        (PrimE OptPrim (VarE wasm_memory_persistence))
+                      )
+                      (NewObjE
+                        Object
+                        (wasm_memory_persistence $wasm_memory_persistence/0)
+                        {wasm_memory_persistence : ?{#keep; #replace}}
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE canister))
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async*-416.24)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD
+                    (VarP $sender_canister_version/0)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/0)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode mode)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @create_actor_helper)
+    (FuncE
+      @create_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params wasm_module arg)
+      async<$> Principal
+      (AsyncE
+        ($@anon-async-464.79 Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD (VarP accepted) (PrimE SystemCyclesAcceptPrim (VarE available)))
+          (LetD
+            (VarP sender_canister_version)
+            (PrimE OptPrim (PrimE canister_version))
+          )
+          (LetD
+            WildP
+            (AssignE
+              (VarLE @cycles)
+              (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE accepted))
+            )
+          )
+          (LetD
+            (ObjP (canister_id (VarP canister_id)))
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $settings/1) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (sender_canister_version sender_canister_version)
+                    (settings $settings/1)
+                    {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $mode/0) (PrimE (TagE install) (PrimE TupPrim)))
+                  (LetD
+                    (VarP $sender_canister_version/1)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/1)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode $mode/0)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_raw)
+    (FuncE
+      @call_raw
+      Local
+      Returns
+      ($ Any)
+      (params p m a)
+      async<$> Blob
+      (AsyncE
+        ($@call_raw Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD
+            WildP
+            (IfE
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE (RelPrim Nat EqOp) (VarE available) (LitE (NatLit 0)))
+                (LitE (BoolLit false))
+              )
+              (AssignE
+                (VarLE @cycles)
+                (PrimE SystemCyclesAcceptPrim (VarE available))
+              )
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE AwaitPrim (PrimE call_raw (VarE p) (VarE m) (VarE a)))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_succeeded)
+    (FuncE
+      @call_succeeded
+      Local
+      Returns
+      Bool
+      (PrimE
+        (RelPrim Nat32 EqOp)
+        (PrimE call_perform_status)
+        (LitE (Nat32Lit 0))
+      )
+    )
+  )
+  (LetD
+    (VarP @call_error)
+    (FuncE
+      @call_error
+      Local
+      Returns
+      Error
+      (BlockE
+        (LetD (VarP status) (PrimE call_perform_status))
+        (LetD (VarP message) (PrimE call_perform_message))
+        (LetD
+          (VarP code)
+          (PrimE
+            (TagE call_error)
+            (NewObjE Object (err_code status) {err_code : Nat32})
+          )
+        )
+        (PrimE
+          (CastPrim ({#call_error : {err_code : Nat32}}, Text) Error)
+          (PrimE TupPrim (VarE code) (VarE message))
+        )
+      )
+    )
+  )
+  (VarD @timers ?@Node (LitE NullLit))
+  (LetD
+    (VarP @prune)
+    (FuncE
+      @prune
+      Local
+      Returns
+      (params n)
+      ?@Node
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE NullLit))
+        (case
+          (OptP (VarP n))
+          (IfE
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+              (LitE (Nat64Lit 0))
+            )
+            (PrimE (CallPrim) (VarE @prune) (PrimE (DotPrim post) (VarE n)))
+            (PrimE
+              OptPrim
+              (BlockE
+                (LetD (VarP $base/1) (VarE n))
+                (LetD
+                  (VarP $pre/0)
+                  (PrimE
+                    (CallPrim)
+                    (VarE @prune)
+                    (PrimE (DotPrim pre) (VarE n))
+                  )
+                )
+                (LetD (VarP $delay/0) (PrimE (DotPrim delay) (VarE $base/1)))
+                (LetD (VarP $expire/0) (PrimE (DotPrim expire) (VarE $base/1)))
+                (LetD (VarP $id/0) (PrimE (DotPrim id) (VarE $base/1)))
+                (LetD (VarP $job/0) (PrimE (DotPrim job) (VarE $base/1)))
+                (LetD (VarP $post/0) (PrimE (DotPrim post) (VarE $base/1)))
+                (NewObjE
+                  Object
+                  (post $post/0)
+                  (job $job/0)
+                  (id $id/0)
+                  (expire $expire/0)
+                  (delay $delay/0)
+                  (pre $pre/0)
+                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @nextExpiration)
+    (FuncE
+      @nextExpiration
+      Local
+      Returns
+      (params n)
+      Nat64
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE (Nat64Lit 0)))
+        (case
+          (OptP (VarP n))
+          (BlockE
+            (LetD
+              (VarP pivot)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+            )
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat64 EqOp) (VarE pivot) (LitE (Nat64Lit 0)))
+                (PrimE
+                  RetPrim
+                  (PrimE
+                    (CallPrim)
+                    (VarE @nextExpiration)
+                    (PrimE (DotPrim post) (VarE n))
+                  )
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              (VarP exp)
+              (PrimE
+                (CallPrim)
+                (VarE @nextExpiration)
+                (PrimE (DotPrim pre) (VarE n))
+              )
+            )
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (VarE pivot)
+              (VarE exp)
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @timer_helper)
+    (FuncE
+      @timer_helper
+      Local
+      Returns
+      ($ Any)
+      async<$> ()
+      (AsyncE
+        ($@timer_helper Any)
+        (BlockE
+          (LetD
+            (VarP Array_init)
+            (FuncE
+              Array_init
+              Local
+              Returns
+              (T Any)
+              (params len x)
+              [var T]
+              (PrimE Array.init (VarE len) (VarE x))
+            )
+          )
+          (LetD (VarP now) (PrimE SystemTimePrim))
+          (VarD gathered Nat (LitE (NatLit 0)))
+          (LetD
+            (VarP thunks)
+            (PrimE
+              (CallPrim ?(() -> async ()))
+              (VarE Array_init)
+              (PrimE TupPrim (LitE (NatLit 10)) (LitE NullLit))
+            )
+          )
+          (LetD
+            (VarP gatherExpired)
+            (FuncE
+              gatherExpired
+              Local
+              Returns
+              (params n)
+              ()
+              (SwitchE
+                (VarE n)
+                (case (LitP NullLit) (PrimE TupPrim))
+                (case
+                  (OptP (VarP n))
+                  (BlockE
+                    (LetD
+                      (VarP pivot)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (LetD
+                      WildP
+                      (IfE
+                        (PrimE
+                          (RelPrim Nat64 GtOp)
+                          (VarE pivot)
+                          (LitE (Nat64Lit 0))
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim pre) (VarE n))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat64 LeOp) (VarE pivot) (VarE now))
+                        (PrimE
+                          (RelPrim Nat LtOp)
+                          (VarE! gathered)
+                          (PrimE array_len (VarE thunks))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat64 GtOp)
+                              (VarE pivot)
+                              (LitE (Nat64Lit 0))
+                            )
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE
+                                  (IdxLE (VarE thunks) (VarE! gathered))
+                                  (PrimE OptPrim (PrimE (DotPrim job) (VarE n)))
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (SwitchE
+                                  (PrimE (DotPrim delay) (VarE n))
+                                  (case
+                                    (AltP
+                                      (LitP NullLit)
+                                      (OptP (LitP (Nat64Lit 0)))
+                                    )
+                                    (AssignE
+                                      (IdxLE
+                                        (PrimE (DotPrim expire) (VarE n))
+                                        (LitE (NatLit 0))
+                                      )
+                                      (LitE (Nat64Lit 0))
+                                    )
+                                  )
+                                  (case
+                                    (OptP (VarP delay))
+                                    (BlockE
+                                      (LetD
+                                        (VarP expire)
+                                        (PrimE
+                                          (BinPrim Nat64 AddOp)
+                                          (VarE pivot)
+                                          (PrimE
+                                            (BinPrim Nat64 MulOp)
+                                            (VarE delay)
+                                            (PrimE
+                                              (BinPrim Nat64 AddOp)
+                                              (LitE (Nat64Lit 1))
+                                              (PrimE
+                                                (BinPrim Nat64 DivOp)
+                                                (PrimE
+                                                  (BinPrim Nat64 SubOp)
+                                                  (VarE now)
+                                                  (VarE pivot)
+                                                )
+                                                (VarE delay)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE
+                                            (PrimE (DotPrim expire) (VarE n))
+                                            (LitE (NatLit 0))
+                                          )
+                                          (LitE (Nat64Lit 0))
+                                        )
+                                      )
+                                      (LetD
+                                        (VarP reinsert)
+                                        (FuncE
+                                          reinsert
+                                          Local
+                                          Returns
+                                          (params m)
+                                          @Node
+                                          (SwitchE
+                                            (VarE m)
+                                            (case
+                                              (LitP NullLit)
+                                              (BlockE
+                                                (LetD (VarP $base/2) (VarE n))
+                                                (LetD
+                                                  (VarP $expire/1)
+                                                  (PrimE
+                                                    (ArrayPrim Var Nat64)
+                                                    (VarE expire)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $pre/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $post/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $delay/1)
+                                                  (PrimE
+                                                    (DotPrim delay)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $id/1)
+                                                  (PrimE
+                                                    (DotPrim id)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $job/1)
+                                                  (PrimE
+                                                    (DotPrim job)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (NewObjE
+                                                  Object
+                                                  (job $job/1)
+                                                  (id $id/1)
+                                                  (delay $delay/1)
+                                                  (post $post/1)
+                                                  (pre $pre/1)
+                                                  (expire $expire/1)
+                                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                )
+                                              )
+                                            )
+                                            (case
+                                              (OptP (VarP m))
+                                              (BlockE
+                                                (LetD
+                                                  WildP
+                                                  (PrimE
+                                                    AssertPrim
+                                                    (PrimE
+                                                      (RelPrim Bool EqOp)
+                                                      (PrimE
+                                                        (RelPrim Nat64 EqOp)
+                                                        (PrimE
+                                                          IdxPrim
+                                                          (PrimE
+                                                            (DotPrim expire)
+                                                            (VarE m)
+                                                          )
+                                                          (LitE (NatLit 0))
+                                                        )
+                                                        (LitE (Nat64Lit 0))
+                                                      )
+                                                      (LitE (BoolLit false))
+                                                    )
+                                                  )
+                                                )
+                                                (IfE
+                                                  (PrimE
+                                                    (RelPrim Nat64 LtOp)
+                                                    (VarE expire)
+                                                    (PrimE
+                                                      IdxPrim
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE m)
+                                                      )
+                                                      (LitE (NatLit 0))
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/4)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/3)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim pre)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/3)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/3)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/3)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/3)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/3)
+                                                      (PrimE
+                                                        (DotPrim post)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (post $post/3)
+                                                      (job $job/3)
+                                                      (id $id/3)
+                                                      (expire $expire/3)
+                                                      (delay $delay/3)
+                                                      (pre $pre/3)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/3)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/2)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim post)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/2)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/2)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/2)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/2)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/2)
+                                                      (PrimE
+                                                        (DotPrim pre)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (pre $pre/2)
+                                                      (job $job/2)
+                                                      (id $id/2)
+                                                      (expire $expire/2)
+                                                      (delay $delay/2)
+                                                      (post $post/2)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (AssignE
+                                        (VarLE @timers)
+                                        (PrimE
+                                          OptPrim
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE reinsert)
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE @prune)
+                                              (VarE! @timers)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                              (AssignE
+                                (VarLE gathered)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! gathered)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE TupPrim)
+                          )
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim post) (VarE n))
+                        )
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (LetD WildP (PrimE (CallPrim) (VarE gatherExpired) (VarE! @timers)))
+          (LetD
+            (VarP exp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+          )
+          (LetD
+            WildP
+            (BlockE
+              (LetD WildP (PrimE global_timer_set (VarE exp)))
+              (PrimE TupPrim)
+            )
+          )
+          (LetD
+            WildP
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (AssignE (VarLE @timers) (LitE NullLit))
+              (PrimE TupPrim)
+            )
+          )
+          (VarD failed Nat64 (LitE (Nat64Lit 0)))
+          (LetD
+            (VarP reinsert)
+            (FuncE
+              reinsert
+              Local
+              Returns
+              (params job)
+              ()
+              (BlockE
+                (LetD
+                  WildP
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 EqOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 0))
+                    )
+                    (BlockE
+                      (LetD
+                        WildP
+                        (AssignE
+                          (VarLE @timers)
+                          (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+                        )
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (PrimE global_timer_set (LitE (Nat64Lit 1)))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (PrimE TupPrim)
+                  )
+                )
+                (LetD
+                  WildP
+                  (AssignE
+                    (VarLE failed)
+                    (PrimE
+                      (BinPrim Nat64 AddOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 1))
+                    )
+                  )
+                )
+                (AssignE
+                  (VarLE @timers)
+                  (PrimE
+                    OptPrim
+                    (SwitchE
+                      (VarE! @timers)
+                      (case
+                        (OptP
+                          (ObjP
+                            (id (LitP (IntLit 0)))
+                            (pre (VarP pre))
+                            (post (VarP post))
+                            (job (VarP j))
+                            (expire (VarP expire))
+                            (delay (VarP delay))
+                          )
+                        )
+                        (BlockE
+                          (LetD
+                            (VarP $expire/4)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/4) (LitE (NatLit 0)))
+                          (LetD
+                            (VarP $pre/4)
+                            (PrimE
+                              OptPrim
+                              (BlockE
+                                (LetD (VarP $id/5) (LitE (NatLit 0)))
+                                (LetD (VarP $post/4) (LitE NullLit))
+                                (NewObjE
+                                  Object
+                                  (job j)
+                                  (delay delay)
+                                  (post $post/4)
+                                  (pre pre)
+                                  (expire expire)
+                                  (id $id/5)
+                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                )
+                              )
+                            )
+                          )
+                          (NewObjE
+                            Object
+                            (pre $pre/4)
+                            (post post)
+                            (job job)
+                            (delay delay)
+                            (id $id/4)
+                            (expire $expire/4)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                      (case
+                        WildP
+                        (BlockE
+                          (LetD
+                            (VarP $expire/5)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/6) (LitE (NatLit 0)))
+                          (LetD (VarP $delay/4) (LitE NullLit))
+                          (LetD (VarP $pre/5) (LitE NullLit))
+                          (LetD (VarP $post/5) (VarE! @timers))
+                          (NewObjE
+                            Object
+                            (post $post/5)
+                            (pre $pre/5)
+                            (job job)
+                            (delay $delay/4)
+                            (id $id/6)
+                            (expire $expire/5)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (BlockE
+            (LetD (VarP $arr/2) (VarE thunks))
+            (LetD (VarP $last/2) (PrimE GetLastArrayOffset (VarE $arr/2)))
+            (VarD $indx/2 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/2) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/8
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP o)
+                      (PrimE DerefArrayOffset (VarE $arr/2) (VarE! $indx/2))
+                    )
+                    (LetD
+                      WildP
+                      (SwitchE
+                        (VarE o)
+                        (case
+                          (OptP (VarP thunk))
+                          (TryE
+                            (BlockE
+                              (LetD
+                                WildP
+                                (PrimE
+                                  (CallPrim $@timer_helper)
+                                  (VarE thunk)
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                            (case
+                              WildP
+                              (PrimE (CallPrim) (VarE reinsert) (VarE thunk))
+                            )
+                          )
+                        )
+                        (case WildP (PrimE RetPrim (PrimE TupPrim)))
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/2) (VarE $last/2))
+                      (PrimE (BreakPrim $done/8) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/2)
+                        (PrimE NextArrayOffset (VarE! $indx/2))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        $
+      )
+    )
+  )
+  (VarD @lastTimerId Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @setTimer)
+    (FuncE
+      @setTimer
+      Local
+      Returns
+      ($ Any)
+      (params delayNanos recurring job)
+      Nat
+      (BlockE
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @lastTimerId)
+            (PrimE (BinPrim Nat AddOp) (VarE! @lastTimerId) (LitE (NatLit 1)))
+          )
+        )
+        (LetD (VarP id) (VarE! @lastTimerId))
+        (LetD (VarP now) (PrimE SystemTimePrim))
+        (LetD
+          (VarP expire)
+          (PrimE (BinPrim Nat64 AddOp) (VarE now) (VarE delayNanos))
+        )
+        (LetD
+          (VarP delay)
+          (IfE
+            (VarE recurring)
+            (PrimE OptPrim (VarE delayNanos))
+            (LitE NullLit)
+          )
+        )
+        (LetD
+          (VarP insert)
+          (FuncE
+            insert
+            Local
+            Returns
+            (params n)
+            @Node
+            (SwitchE
+              (VarE n)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP $expire/6)
+                    (PrimE (ArrayPrim Var Nat64) (VarE expire))
+                  )
+                  (LetD (VarP $pre/6) (LitE NullLit))
+                  (LetD (VarP $post/6) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (post $post/6)
+                    (pre $pre/6)
+                    (job job)
+                    (delay delay)
+                    (id id)
+                    (expire $expire/6)
+                    {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                  )
+                )
+              )
+              (case
+                (OptP (VarP n))
+                (BlockE
+                  (LetD
+                    WildP
+                    (PrimE
+                      AssertPrim
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (PrimE
+                            IdxPrim
+                            (PrimE (DotPrim expire) (VarE n))
+                            (LitE (NatLit 0))
+                          )
+                          (LitE (Nat64Lit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                    )
+                  )
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 LtOp)
+                      (VarE expire)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/6) (VarE n))
+                      (LetD
+                        (VarP $pre/8)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim pre) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/6)
+                        (PrimE (DotPrim delay) (VarE $base/6))
+                      )
+                      (LetD
+                        (VarP $expire/8)
+                        (PrimE (DotPrim expire) (VarE $base/6))
+                      )
+                      (LetD (VarP $id/8) (PrimE (DotPrim id) (VarE $base/6)))
+                      (LetD (VarP $job/5) (PrimE (DotPrim job) (VarE $base/6)))
+                      (LetD
+                        (VarP $post/8)
+                        (PrimE (DotPrim post) (VarE $base/6))
+                      )
+                      (NewObjE
+                        Object
+                        (post $post/8)
+                        (job $job/5)
+                        (id $id/8)
+                        (expire $expire/8)
+                        (delay $delay/6)
+                        (pre $pre/8)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/5) (VarE n))
+                      (LetD
+                        (VarP $post/7)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/5)
+                        (PrimE (DotPrim delay) (VarE $base/5))
+                      )
+                      (LetD
+                        (VarP $expire/7)
+                        (PrimE (DotPrim expire) (VarE $base/5))
+                      )
+                      (LetD (VarP $id/7) (PrimE (DotPrim id) (VarE $base/5)))
+                      (LetD (VarP $job/4) (PrimE (DotPrim job) (VarE $base/5)))
+                      (LetD (VarP $pre/7) (PrimE (DotPrim pre) (VarE $base/5)))
+                      (NewObjE
+                        Object
+                        (pre $pre/7)
+                        (job $job/4)
+                        (id $id/7)
+                        (expire $expire/7)
+                        (delay $delay/5)
+                        (post $post/7)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE
+              OptPrim
+              (PrimE
+                (CallPrim)
+                (VarE insert)
+                (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP exp)
+          (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+            (AssignE (VarLE @timers) (LitE NullLit))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (BlockE
+            (LetD WildP (PrimE global_timer_set (VarE exp)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarE id)
+      )
+    )
+  )
+  (LetD
+    (VarP @cancelTimer)
+    (FuncE
+      @cancelTimer
+      Local
+      Returns
+      (params id)
+      ()
+      (BlockE
+        (LetD
+          (VarP graft)
+          (FuncE
+            graft
+            Local
+            Returns
+            (params onto branch)
+            ?@Node
+            (SwitchE
+              (PrimE TupPrim (VarE onto) (VarE branch))
+              (case (TupP (LitP NullLit) (LitP NullLit)) (LitE NullLit))
+              (case (TupP (LitP NullLit) WildP) (VarE branch))
+              (case (TupP WildP (LitP NullLit)) (VarE onto))
+              (case
+                (TupP (OptP (VarP onto)) WildP)
+                (PrimE
+                  OptPrim
+                  (BlockE
+                    (LetD (VarP $base/7) (VarE onto))
+                    (LetD
+                      (VarP $post/9)
+                      (PrimE
+                        (CallPrim)
+                        (VarE graft)
+                        (PrimE
+                          TupPrim
+                          (PrimE (DotPrim post) (VarE onto))
+                          (VarE branch)
+                        )
+                      )
+                    )
+                    (LetD
+                      (VarP $delay/7)
+                      (PrimE (DotPrim delay) (VarE $base/7))
+                    )
+                    (LetD
+                      (VarP $expire/9)
+                      (PrimE (DotPrim expire) (VarE $base/7))
+                    )
+                    (LetD (VarP $id/9) (PrimE (DotPrim id) (VarE $base/7)))
+                    (LetD (VarP $job/6) (PrimE (DotPrim job) (VarE $base/7)))
+                    (LetD (VarP $pre/9) (PrimE (DotPrim pre) (VarE $base/7)))
+                    (NewObjE
+                      Object
+                      (pre $pre/9)
+                      (job $job/6)
+                      (id $id/9)
+                      (expire $expire/9)
+                      (delay $delay/7)
+                      (post $post/9)
+                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP hunt)
+          (FuncE
+            hunt
+            Local
+            Returns
+            (params n)
+            ?@Node
+            (SwitchE
+              (VarE n)
+              (case (LitP NullLit) (VarE n))
+              (case
+                (OptP
+                  (ObjP (id (VarP node)) (pre (VarP pre)) (post (VarP post)))
+                )
+                (IfE
+                  (PrimE (RelPrim Nat EqOp) (VarE node) (VarE id))
+                  (PrimE
+                    (CallPrim)
+                    (VarE graft)
+                    (PrimE TupPrim (VarE pre) (VarE post))
+                  )
+                  (LabelE
+                    !
+                    ?@Node
+                    (PrimE
+                      OptPrim
+                      (BlockE
+                        (LetD
+                          (VarP $base/8)
+                          (SwitchE
+                            (VarE n)
+                            (case
+                              (LitP NullLit)
+                              (PrimE (BreakPrim !) (LitE NullLit))
+                            )
+                            (case (OptP (VarP $v/1)) (VarE $v/1))
+                          )
+                        )
+                        (LetD
+                          (VarP $pre/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE pre))
+                        )
+                        (LetD
+                          (VarP $post/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE post))
+                        )
+                        (LetD
+                          (VarP $delay/8)
+                          (PrimE (DotPrim delay) (VarE $base/8))
+                        )
+                        (LetD
+                          (VarP $expire/10)
+                          (PrimE (DotPrim expire) (VarE $base/8))
+                        )
+                        (LetD (VarP $id/10) (PrimE (DotPrim id) (VarE $base/8)))
+                        (LetD
+                          (VarP $job/7)
+                          (PrimE (DotPrim job) (VarE $base/8))
+                        )
+                        (NewObjE
+                          Object
+                          (job $job/7)
+                          (id $id/10)
+                          (expire $expire/10)
+                          (delay $delay/8)
+                          (post $post/10)
+                          (pre $pre/10)
+                          {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE (CallPrim) (VarE hunt) (VarE! @timers))
+          )
+        )
+        (IfE
+          (PrimE
+            (RelPrim Nat64 EqOp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+            (LitE (Nat64Lit 0))
+          )
+          (BlockE
+            (LetD
+              WildP
+              (BlockE
+                (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 0))))
+                (PrimE TupPrim)
+              )
+            )
+            (AssignE (VarLE @timers) (LitE NullLit))
+          )
+          (PrimE TupPrim)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @set_global_timer)
+    (FuncE
+      @set_global_timer
+      Local
+      Returns
+      (params time)
+      ()
+      (BlockE (LetD WildP (PrimE global_timer_set (VarE time))) (PrimE TupPrim))
+    )
+  )
+  (LetD
+    (VarP @dedup)
+    (FuncE
+      @dedup
+      Local
+      Returns
+      (params b)
+      Blob
+      (BlockE
+        (LetD
+          (VarP Array_tabulate)
+          (FuncE
+            Array_tabulate
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [T]
+            (PrimE Array.tabulate (VarE len) (VarE gen))
+          )
+        )
+        (LetD
+          (VarP Array_tabulateVar)
+          (FuncE
+            Array_tabulateVar
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [var T]
+            (PrimE Array.tabulateVar (VarE len) (VarE gen))
+          )
+        )
+        (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+        (LetD
+          (VarP debugPrint)
+          (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+        )
+        (LetD
+          (VarP hashBlob)
+          (FuncE
+            hashBlob
+            Local
+            Returns
+            (params b)
+            Nat32
+            (PrimE crc32Hash (VarE b))
+          )
+        )
+        (LetD
+          (VarP allocWeakRef)
+          (FuncE
+            allocWeakRef
+            Local
+            Returns
+            (T Any)
+            (params obj)
+            weak T
+            (PrimE alloc_weak_ref (VarE obj))
+          )
+        )
+        (LetD
+          (VarP weakGet)
+          (FuncE
+            weakGet
+            Local
+            Returns
+            (T Any)
+            (params w)
+            ?T
+            (PrimE weak_get (VarE w))
+          )
+        )
+        (LetD
+          (VarP getDedupTable)
+          (FuncE
+            getDedupTable
+            Local
+            Returns
+            ?[var List]
+            (PrimE get_dedup_table)
+          )
+        )
+        (LetD
+          (VarP setDedupTable)
+          (FuncE
+            setDedupTable
+            Local
+            Returns
+            (params dedupTable)
+            ()
+            (PrimE set_dedup_table (VarE dedupTable))
+          )
+        )
+        (LetD
+          (VarP arrayToBlob)
+          (FuncE
+            arrayToBlob
+            Local
+            Returns
+            (params a)
+            Blob
+            (PrimE arrayToBlob (VarE a))
+          )
+        )
+        (LetD
+          (VarP getOriginalBlob)
+          (FuncE
+            getOriginalBlob
+            Local
+            Returns
+            (params b)
+            Blob
+            (BlockE
+              (LetD
+                (VarP copiedArr)
+                (PrimE
+                  (CallPrim Nat8)
+                  (VarE Array_tabulate)
+                  (PrimE
+                    TupPrim
+                    (PrimE
+                      (BinPrim Nat SubOp)
+                      (PrimE blob_size (VarE b))
+                      (LitE (NatLit 5))
+                    )
+                    (FuncE
+                      @anon-func-744.50
+                      Local
+                      Returns
+                      (params i)
+                      Nat8
+                      (PrimE
+                        IdxBlobPrim
+                        (VarE b)
+                        (PrimE (BinPrim Nat AddOp) (VarE i) (LitE (NatLit 5)))
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP originalBlob)
+                (PrimE (CallPrim) (VarE arrayToBlob) (VarE copiedArr))
+              )
+              (VarE originalBlob)
+            )
+          )
+        )
+        (LetD
+          (VarP blobCompare)
+          (FuncE
+            blobCompare
+            Local
+            Returns
+            (params b1 b2)
+            Int8
+            (PrimE blob_compare (VarE b1) (VarE b2))
+          )
+        )
+        (LetD
+          (VarP addToList)
+          (FuncE
+            addToList
+            Local
+            Returns
+            (params list originalBlob weakRef)
+            List
+            (BlockE
+              (LetD
+                (VarP newList)
+                (BlockE
+                  (VarD
+                    $next/0
+                    ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                    (PrimE OptPrim (VarE list))
+                  )
+                  (LetD (VarP $value/0) (PrimE OptPrim (VarE weakRef)))
+                  (LetD
+                    (VarP $index/0)
+                    (PrimE
+                      (BinPrim Nat AddOp)
+                      (PrimE (DotPrim index) (VarE list))
+                      (LitE (NatLit 1))
+                    )
+                  )
+                  (NewObjE
+                    Object
+                    (index $index/0)
+                    (originalBlob originalBlob)
+                    (value $value/0)
+                    (next $next/0)
+                    {index : Nat; var next : ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}; originalBlob : Blob; value : ?{ref : weak Blob}}
+                  )
+                )
+              )
+              (VarE newList)
+            )
+          )
+        )
+        (LetD
+          (VarP getFromList)
+          (FuncE
+            getFromList
+            Local
+            Returns
+            (params list originalBlob)
+            ?WeakRef
+            (BlockE
+              (VarD
+                copy
+                {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                (VarE list)
+              )
+              (LoopE
+                (IfE
+                  (PrimE
+                    (RelPrim Int8 EqOp)
+                    (PrimE
+                      (CallPrim)
+                      (VarE blobCompare)
+                      (PrimE
+                        TupPrim
+                        (PrimE (DotPrim originalBlob) (VarE! copy))
+                        (VarE originalBlob)
+                      )
+                    )
+                    (LitE (Int8Lit 0))
+                  )
+                  (PrimE RetPrim (PrimE (DotPrim value) (VarE! copy)))
+                  (BlockE
+                    (LetD (VarP next) (PrimE (DotPrim next) (VarE! copy)))
+                    (SwitchE
+                      (VarE next)
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                      (case
+                        (OptP (VarP next))
+                        (AssignE (VarLE copy) (VarE next))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getListLen)
+          (FuncE
+            getListLen
+            Local
+            Returns
+            (params list)
+            Nat
+            (PrimE (DotPrim index) (VarE list))
+          )
+        )
+        (LetD
+          (VarP getHashArrayLen)
+          (FuncE
+            getHashArrayLen
+            Local
+            Returns
+            (params hashArray)
+            Nat
+            (BlockE
+              (VarD len Nat (LitE (NatLit 0)))
+              (VarD i Nat (LitE (NatLit 0)))
+              (LetD
+                WildP
+                (LabelE
+                  $done/9
+                  ()
+                  (LoopE
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat LtOp)
+                        (VarE! i)
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE len)
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (VarE! len)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getListLen)
+                                (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE i)
+                          (PrimE
+                            (BinPrim Nat AddOp)
+                            (VarE! i)
+                            (LitE (NatLit 1))
+                          )
+                        )
+                      )
+                      (PrimE (BreakPrim $done/9) (PrimE TupPrim))
+                    )
+                  )
+                )
+              )
+              (VarE! len)
+            )
+          )
+        )
+        (LetD
+          (VarP addToHashArray)
+          (FuncE
+            addToHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ()
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (LetD
+                (VarP weakRef)
+                (BlockE
+                  (LetD
+                    (VarP $ref/0)
+                    (PrimE (CallPrim Blob) (VarE allocWeakRef) (VarE b))
+                  )
+                  (NewObjE Object (ref $ref/0) {ref : weak Blob})
+                )
+              )
+              (AssignE
+                (IdxLE (VarE hashArray) (VarE index))
+                (PrimE
+                  (CallPrim)
+                  (VarE addToList)
+                  (PrimE
+                    TupPrim
+                    (VarE list)
+                    (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                    (VarE weakRef)
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getFromHashArray)
+          (FuncE
+            getFromHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ?WeakRef
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (PrimE
+                (CallPrim)
+                (VarE getFromList)
+                (PrimE
+                  TupPrim
+                  (VarE list)
+                  (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Nat LtOp)
+              (PrimE blob_size (VarE b))
+              (LitE (NatLit 5))
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (IfE
+              (IfE
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 0)))
+                        (LitE (Nat8Lit 33))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 1)))
+                        (LitE (Nat8Lit 99))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                  (LitE (BoolLit true))
+                  (PrimE
+                    (RelPrim Bool EqOp)
+                    (PrimE
+                      (RelPrim Nat8 EqOp)
+                      (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 2)))
+                      (LitE (Nat8Lit 97))
+                    )
+                    (LitE (BoolLit false))
+                  )
+                )
+                (LitE (BoolLit true))
+                (PrimE
+                  (RelPrim Bool EqOp)
+                  (PrimE
+                    (RelPrim Nat8 EqOp)
+                    (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 3)))
+                    (LitE (Nat8Lit 102))
+                  )
+                  (LitE (BoolLit false))
+                )
+              )
+              (LitE (BoolLit true))
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE
+                  (RelPrim Nat8 EqOp)
+                  (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 4)))
+                  (LitE (Nat8Lit 33))
+                )
+                (LitE (BoolLit false))
+              )
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP ptr)
+          (PrimE (CallPrim) (VarE getDedupTable) (PrimE TupPrim))
+        )
+        (LetD
+          (VarP hashArray)
+          (SwitchE
+            (VarE ptr)
+            (case (OptP (VarP dedupTable)) (VarE dedupTable))
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  (VarP arr)
+                  (PrimE
+                    (CallPrim List)
+                    (VarE Array_tabulateVar)
+                    (PrimE
+                      TupPrim
+                      (VarE HASH_ARRAY_SIZE)
+                      (FuncE
+                        @anon-func-830.58
+                        Local
+                        Returns
+                        (params i)
+                        List
+                        (BlockE
+                          (VarD $next/1 ?List (LitE NullLit))
+                          (LetD (VarP $value/1) (LitE NullLit))
+                          (LetD (VarP $originalBlob/0) (LitE (BlobLit "")))
+                          (LetD (VarP $index/1) (LitE (NatLit 0)))
+                          (NewObjE
+                            Object
+                            (index $index/1)
+                            (originalBlob $originalBlob/0)
+                            (value $value/1)
+                            (next $next/1)
+                            {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD WildP (PrimE (CallPrim) (VarE setDedupTable) (VarE arr)))
+                (VarE arr)
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP dedupedBlobWeakRef)
+          (PrimE
+            (CallPrim)
+            (VarE getFromHashArray)
+            (PrimE TupPrim (VarE hashArray) (VarE b))
+          )
+        )
+        (LetD
+          (VarP result)
+          (SwitchE
+            (VarE dedupedBlobWeakRef)
+            (case
+              (OptP (VarP weakRef))
+              (BlockE
+                (LetD
+                  (VarP derefed)
+                  (PrimE
+                    (CallPrim Blob)
+                    (VarE weakGet)
+                    (PrimE (DotPrim ref) (VarE weakRef))
+                  )
+                )
+                (SwitchE
+                  (VarE derefed)
+                  (case (OptP (VarP derefed)) (VarE derefed))
+                  (case
+                    (LitP NullLit)
+                    (BlockE
+                      (LetD
+                        WildP
+                        (PrimE
+                          (CallPrim)
+                          (VarE addToHashArray)
+                          (PrimE TupPrim (VarE hashArray) (VarE b))
+                        )
+                      )
+                      (VarE b)
+                    )
+                  )
+                )
+              )
+            )
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  WildP
+                  (PrimE
+                    (CallPrim)
+                    (VarE addToHashArray)
+                    (PrimE TupPrim (VarE hashArray) (VarE b))
+                  )
+                )
+                (VarE b)
+              )
+            )
+          )
+        )
+        (VarE result)
+      )
+    )
+  )
+  (LetD
+    (VarP file$@prim)
+    (BlockE
+      (LetD (VarP Types) (NewObjE Module module {}))
+      (LetD
+        (VarP abs)
+        (FuncE abs Local Returns (params x) Nat (PrimE abs (VarE x)))
+      )
+      (LetD
+        (VarP shiftLeft)
+        (FuncE
+          shiftLeft
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE lsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP shiftRight)
+        (FuncE
+          shiftRight
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE rsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP idlHash)
+        (FuncE idlHash Local Returns (params x) Nat32 (PrimE idlHash (VarE x)))
+      )
+      (LetD
+        (VarP debugPrint)
+        (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+      )
+      (LetD
+        (VarP debugPrintNat)
+        (FuncE
+          debugPrintNat
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Nat) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintInt)
+        (FuncE
+          debugPrintInt
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Int) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintChar)
+        (FuncE
+          debugPrintChar
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE charToText) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP trap)
+        (FuncE trap Local Returns (params x) None (PrimE trap (VarE x)))
+      )
+      (LetD
+        (VarP rts_version)
+        (FuncE rts_version Local Returns Text (PrimE rts_version))
+      )
+      (LetD
+        (VarP rts_memory_size)
+        (FuncE rts_memory_size Local Returns Nat (PrimE rts_memory_size))
+      )
+      (LetD
+        (VarP rts_heap_size)
+        (FuncE rts_heap_size Local Returns Nat (PrimE rts_heap_size))
+      )
+      (LetD
+        (VarP rts_total_allocation)
+        (FuncE
+          rts_total_allocation
+          Local
+          Returns
+          Nat
+          (PrimE rts_total_allocation)
+        )
+      )
+      (LetD
+        (VarP rts_reclaimed)
+        (FuncE rts_reclaimed Local Returns Nat (PrimE rts_reclaimed))
+      )
+      (LetD
+        (VarP rts_max_live_size)
+        (FuncE rts_max_live_size Local Returns Nat (PrimE rts_max_live_size))
+      )
+      (LetD
+        (VarP rts_max_stack_size)
+        (FuncE rts_max_stack_size Local Returns Nat (PrimE rts_max_stack_size))
+      )
+      (LetD
+        (VarP rts_callback_table_count)
+        (FuncE
+          rts_callback_table_count
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_count)
+        )
+      )
+      (LetD
+        (VarP rts_callback_table_size)
+        (FuncE
+          rts_callback_table_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_size)
+        )
+      )
+      (LetD
+        (VarP rts_mutator_instructions)
+        (FuncE
+          rts_mutator_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_mutator_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_collector_instructions)
+        (FuncE
+          rts_collector_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_collector_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_lifetime_instructions)
+        (FuncE
+          rts_lifetime_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_lifetime_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_upgrade_instructions)
+        (FuncE
+          rts_upgrade_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_upgrade_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_stable_memory_size)
+        (FuncE
+          rts_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP rts_logical_stable_memory_size)
+        (FuncE
+          rts_logical_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_logical_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP allocWeakRef)
+        (FuncE
+          allocWeakRef
+          Local
+          Returns
+          (T Any)
+          (params obj)
+          weak T
+          (PrimE alloc_weak_ref (VarE obj))
+        )
+      )
+      (LetD
+        (VarP weakGet)
+        (FuncE
+          weakGet
+          Local
+          Returns
+          (T Any)
+          (params w)
+          ?T
+          (PrimE weak_get (VarE w))
+        )
+      )
+      (LetD
+        (VarP isLive)
+        (FuncE
+          isLive
+          Local
+          Returns
+          (params weak_ref)
+          Bool
+          (PrimE weak_ref_is_live (VarE weak_ref))
+        )
+      )
+      (LetD
+        (VarP envVarNames)
+        (FuncE envVarNames Local Returns ($ Any) [Text] (PrimE env_var_names))
+      )
+      (LetD
+        (VarP envVar)
+        (FuncE
+          envVar
+          Local
+          Returns
+          ($ Any)
+          (params name)
+          ?Text
+          (PrimE env_var (VarE name))
+        )
+      )
+      (LetD
+        (VarP __getDedupTable)
+        (FuncE
+          __getDedupTable
+          Local
+          Returns
+          ?[var __List]
+          (PrimE get_dedup_table)
+        )
+      )
+      (LetD
+        (VarP BlobIterator)
+        (FuncE
+          BlobIterator
+          Local
+          Returns
+          (params hash)
+          {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+          (BlockE
+            (LetD
+              (VarP @anon-object-138.41)
+              (BlockE
+                (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+                (VarD currentIndex Nat (LitE (NatLit 0)))
+                (VarD currentList ?__List (LitE NullLit))
+                (LetD (VarP hashArray) (VarE hash))
+                (LetD
+                  (VarP size)
+                  (FuncE
+                    size
+                    Local
+                    Returns
+                    Nat
+                    (BlockE
+                      (VarD len Nat (LitE (NatLit 0)))
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LetD
+                        WildP
+                        (LabelE
+                          $done/0
+                          ()
+                          (LoopE
+                            (IfE
+                              (PrimE
+                                (RelPrim Nat LtOp)
+                                (VarE! i)
+                                (VarE HASH_ARRAY_SIZE)
+                              )
+                              (BlockE
+                                (VarD
+                                  list
+                                  {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                  (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                                )
+                                (LetD
+                                  WildP
+                                  (LabelE
+                                    countLoop
+                                    ()
+                                    (LoopE
+                                      (LabelE
+                                        continue countLoop
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (VarP weakRef)
+                                            (PrimE (DotPrim value) (VarE! list))
+                                          )
+                                          (LetD
+                                            WildP
+                                            (SwitchE
+                                              (VarE weakRef)
+                                              (case
+                                                (OptP (VarP weakRef))
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP deref)
+                                                    (PrimE
+                                                      (CallPrim Blob)
+                                                      (VarE weakGet)
+                                                      (PrimE
+                                                        (DotPrim ref)
+                                                        (VarE weakRef)
+                                                      )
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (VarE deref)
+                                                    (case
+                                                      (OptP (VarP deref))
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (LitP NullLit)
+                                                      (AssignE
+                                                        (VarLE len)
+                                                        (PrimE
+                                                          (BinPrim Nat AddOp)
+                                                          (VarE! len)
+                                                          (LitE (NatLit 1))
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            (VarP next)
+                                            (PrimE (DotPrim next) (VarE! list))
+                                          )
+                                          (SwitchE
+                                            (VarE next)
+                                            (case
+                                              (OptP (VarP next))
+                                              (AssignE (VarLE list) (VarE next))
+                                            )
+                                            (case
+                                              (LitP NullLit)
+                                              (PrimE
+                                                (BreakPrim countLoop)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (AssignE
+                                  (VarLE i)
+                                  (PrimE
+                                    (BinPrim Nat AddOp)
+                                    (VarE! i)
+                                    (LitE (NatLit 1))
+                                  )
+                                )
+                              )
+                              (PrimE (BreakPrim $done/0) (PrimE TupPrim))
+                            )
+                          )
+                        )
+                      )
+                      (VarE! len)
+                    )
+                  )
+                )
+                (LetD
+                  (VarP getDeadBlobFromListNode)
+                  (FuncE
+                    getDeadBlobFromListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?Blob
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP myList))
+                        (BlockE
+                          (LetD
+                            (VarP weakRef)
+                            (PrimE (DotPrim value) (VarE myList))
+                          )
+                          (SwitchE
+                            (VarE weakRef)
+                            (case
+                              (OptP (VarP weakRef))
+                              (BlockE
+                                (LetD
+                                  (VarP deref)
+                                  (PrimE
+                                    (CallPrim Blob)
+                                    (VarE weakGet)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                                (SwitchE
+                                  (VarE deref)
+                                  (case
+                                    (OptP (VarP deref))
+                                    (PrimE RetPrim (LitE NullLit))
+                                  )
+                                  (case
+                                    (LitP NullLit)
+                                    (PrimE
+                                      RetPrim
+                                      (PrimE
+                                        OptPrim
+                                        (PrimE
+                                          (DotPrim originalBlob)
+                                          (VarE myList)
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                          )
+                        )
+                      )
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP advanceListNode)
+                  (FuncE
+                    advanceListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?__List
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP list))
+                        (PrimE (DotPrim next) (VarE list))
+                      )
+                      (case (LitP NullLit) (LitE NullLit))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP nextDeadBlob)
+                  (FuncE
+                    nextDeadBlob
+                    Local
+                    Returns
+                    Blob
+                    (BlockE
+                      (LetD
+                        WildP
+                        (LoopE
+                          (BlockE
+                            (LetD
+                              (VarP blob)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getDeadBlobFromListNode)
+                                (VarE! currentList)
+                              )
+                            )
+                            (SwitchE
+                              (VarE blob)
+                              (case
+                                (OptP (VarP blob))
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (PrimE RetPrim (VarE blob))
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (SwitchE
+                                    (VarE! currentList)
+                                    (case (OptP WildP) (PrimE TupPrim))
+                                    (case
+                                      (LitP NullLit)
+                                      (BlockE
+                                        (LetD
+                                          WildP
+                                          (AssignE
+                                            (VarLE currentIndex)
+                                            (PrimE
+                                              (BinPrim Nat AddOp)
+                                              (VarE! currentIndex)
+                                              (LitE (NatLit 1))
+                                            )
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (IfE
+                                            (PrimE
+                                              (RelPrim Nat GeOp)
+                                              (VarE! currentIndex)
+                                              (VarE HASH_ARRAY_SIZE)
+                                            )
+                                            (PrimE RetPrim (LitE (BlobLit "")))
+                                            (PrimE TupPrim)
+                                          )
+                                        )
+                                        (AssignE
+                                          (VarLE currentList)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE
+                                              IdxPrim
+                                              (VarE hashArray)
+                                              (VarE! currentIndex)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LitE (BlobLit ""))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP computeIndex)
+                  (FuncE
+                    computeIndex
+                    Local
+                    Returns
+                    (params b)
+                    Nat
+                    (BlockE
+                      (LetD
+                        (VarP magicBytes)
+                        (PrimE
+                          (ArrayPrim Const Nat8)
+                          (LitE (Nat8Lit 33))
+                          (LitE (Nat8Lit 99))
+                          (LitE (Nat8Lit 97))
+                          (LitE (Nat8Lit 102))
+                          (LitE (Nat8Lit 33))
+                        )
+                      )
+                      (LetD
+                        (VarP originalBlob)
+                        (PrimE (CallPrim) (VarE blobToArray) (VarE b))
+                      )
+                      (LetD
+                        (VarP concat)
+                        (PrimE
+                          (CallPrim Nat8)
+                          (VarE Array_tabulate)
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (PrimE array_len (VarE magicBytes))
+                              (PrimE array_len (VarE originalBlob))
+                            )
+                            (FuncE
+                              @anon-func-240.74
+                              Local
+                              Returns
+                              (params i)
+                              Nat8
+                              (IfE
+                                (PrimE
+                                  (RelPrim Nat LtOp)
+                                  (VarE i)
+                                  (PrimE array_len (VarE magicBytes))
+                                )
+                                (PrimE IdxPrim (VarE magicBytes) (VarE i))
+                                (PrimE
+                                  IdxPrim
+                                  (VarE originalBlob)
+                                  (PrimE
+                                    (BinPrim Nat SubOp)
+                                    (VarE i)
+                                    (PrimE array_len (VarE magicBytes))
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP bWithMagic)
+                        (PrimE (CallPrim) (VarE arrayToBlob) (VarE concat))
+                      )
+                      (LetD
+                        (VarP hashValue)
+                        (PrimE (CallPrim) (VarE hashBlob) (VarE bWithMagic))
+                      )
+                      (PrimE
+                        (BinPrim Nat ModOp)
+                        (PrimE (CallPrim) (VarE nat32ToNat) (VarE hashValue))
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP isBlobLive)
+                  (FuncE
+                    isBlobLive
+                    Local
+                    Returns
+                    (params b)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP index)
+                        (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                      )
+                      (VarD
+                        list
+                        {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                        (PrimE IdxPrim (VarE hashArray) (VarE index))
+                      )
+                      (LoopE
+                        (IfE
+                          (PrimE
+                            (RelPrim Int8 EqOp)
+                            (PrimE
+                              (CallPrim)
+                              (VarE blobCompare)
+                              (PrimE
+                                TupPrim
+                                (PrimE (DotPrim originalBlob) (VarE! list))
+                                (VarE b)
+                              )
+                            )
+                            (LitE (Int8Lit 0))
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP weakRef)
+                              (PrimE (DotPrim value) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE weakRef)
+                              (case
+                                (OptP (VarP weakRef))
+                                (PrimE
+                                  RetPrim
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE isLive)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP next)
+                              (PrimE (DotPrim next) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE next)
+                              (case
+                                (OptP (VarP next))
+                                (AssignE (VarLE list) (VarE next))
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneFirstElement)
+                  (FuncE
+                    pruneFirstElement
+                    Local
+                    Returns
+                    (params list b index)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP deadBlob)
+                        (PrimE
+                          (CallPrim)
+                          (VarE getDeadBlobFromListNode)
+                          (PrimE OptPrim (VarE list))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (SwitchE
+                          (VarE deadBlob)
+                          (case
+                            (OptP (VarP deadBlob))
+                            (IfE
+                              (PrimE
+                                (RelPrim Int8 EqOp)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE blobCompare)
+                                  (PrimE TupPrim (VarE deadBlob) (VarE b))
+                                )
+                                (LitE (Int8Lit 0))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP nextElem)
+                                  (PrimE (DotPrim next) (VarE list))
+                                )
+                                (SwitchE
+                                  (VarE nextElem)
+                                  (case
+                                    (OptP (VarP next))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE (VarE hashArray) (VarE index))
+                                          (VarE next)
+                                        )
+                                      )
+                                      (PrimE RetPrim (LitE (BoolLit true)))
+                                    )
+                                  )
+                                  (case (LitP NullLit) (PrimE TupPrim))
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                          )
+                          (case (LitP NullLit) (PrimE TupPrim))
+                        )
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneDeadBlobs)
+                  (FuncE
+                    pruneDeadBlobs
+                    Local
+                    Returns
+                    (params confirmedDeadBlobs)
+                    ()
+                    (BlockE
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LabelE
+                        $done/1
+                        ()
+                        (LoopE
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat LtOp)
+                              (VarE! i)
+                              (PrimE array_len (VarE confirmedDeadBlobs))
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP b)
+                                (PrimE
+                                  IdxPrim
+                                  (VarE confirmedDeadBlobs)
+                                  (VarE! i)
+                                )
+                              )
+                              (LetD
+                                (VarP index)
+                                (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                              )
+                              (LetD
+                                (VarP list)
+                                (PrimE IdxPrim (VarE hashArray) (VarE index))
+                              )
+                              (LetD
+                                (VarP pruned)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE pruneFirstElement)
+                                  (PrimE
+                                    TupPrim
+                                    (VarE list)
+                                    (VarE b)
+                                    (VarE index)
+                                  )
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (IfE
+                                  (PrimE
+                                    (RelPrim Bool EqOp)
+                                    (VarE pruned)
+                                    (LitE (BoolLit false))
+                                  )
+                                  (BlockE
+                                    (VarD
+                                      prev
+                                      ?{index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                      (PrimE OptPrim (VarE list))
+                                    )
+                                    (VarD
+                                      crntNode
+                                      ?__List
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (PrimE OptPrim (VarE list))
+                                      )
+                                    )
+                                    (LabelE
+                                      findLoop
+                                      ()
+                                      (LoopE
+                                        (LabelE
+                                          continue findLoop
+                                          ()
+                                          (BlockE
+                                            (LetD
+                                              (VarP crntBlob)
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE getDeadBlobFromListNode)
+                                                (VarE! crntNode)
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (SwitchE
+                                                (VarE crntBlob)
+                                                (case
+                                                  (OptP (VarP crntBlob))
+                                                  (IfE
+                                                    (PrimE
+                                                      (RelPrim Int8 EqOp)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE blobCompare)
+                                                        (PrimE
+                                                          TupPrim
+                                                          (VarE crntBlob)
+                                                          (VarE b)
+                                                        )
+                                                      )
+                                                      (LitE (Int8Lit 0))
+                                                    )
+                                                    (SwitchE
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE! prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                      (case
+                                                        (TupP
+                                                          (OptP (VarP prev))
+                                                          (OptP (VarP crntNode))
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (AssignE
+                                                              (DotLE
+                                                                (VarE prev)
+                                                                next
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim next)
+                                                                (VarE crntNode)
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (BreakPrim findLoop)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                      (case
+                                                        WildP
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                                (case
+                                                  (LitP NullLit)
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (AssignE
+                                                        (VarLE prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                    (AssignE
+                                                      (VarLE crntNode)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE advanceListNode)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (SwitchE
+                                              (VarE! crntNode)
+                                              (case
+                                                (OptP (VarP crntNode))
+                                                (PrimE TupPrim)
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE
+                                                  (BreakPrim findLoop)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (AssignE
+                                (VarLE i)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! i)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE (BreakPrim $done/1) (PrimE TupPrim))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (NewObjE
+                  Object
+                  (size size)
+                  (pruneDeadBlobs pruneDeadBlobs)
+                  (nextDeadBlob nextDeadBlob)
+                  (isBlobLive isBlobLive)
+                  {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+                )
+              )
+            )
+            (VarE @anon-object-138.41)
+          )
+        )
+      )
+      (LetD
+        (VarP getDeadBlobs)
+        (FuncE
+          getDeadBlobs
+          Local
+          Returns
+          ?[Blob]
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (LetD
+                    (VarP numDeadBlobs)
+                    (PrimE
+                      (CallPrim)
+                      (PrimE (DotPrim size) (VarE dedupTableIter))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    (VarP deadBlobs)
+                    (PrimE
+                      (CallPrim Blob)
+                      (VarE Array_tabulate)
+                      (PrimE
+                        TupPrim
+                        (VarE numDeadBlobs)
+                        (FuncE
+                          @anon-func-355.58
+                          Local
+                          Returns
+                          (params i)
+                          Blob
+                          (PrimE
+                            (CallPrim)
+                            (PrimE (DotPrim nextDeadBlob) (VarE dedupTableIter))
+                            (PrimE TupPrim)
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE RetPrim (PrimE OptPrim (VarE deadBlobs)))
+                )
+              )
+              (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP pruneConfirmedDeadBlobs)
+        (FuncE
+          pruneConfirmedDeadBlobs
+          Local
+          Returns
+          (params confirmedDeadBlobs)
+          ()
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim pruneDeadBlobs) (VarE dedupTableIter))
+                    (VarE confirmedDeadBlobs)
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP isStorageBlobLive)
+        (FuncE
+          isStorageBlobLive
+          Local
+          Returns
+          (params b)
+          Bool
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP iter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim isBlobLive) (VarE iter))
+                    (VarE b)
+                  )
+                )
+              )
+              (case (LitP NullLit) (LitE (BoolLit false)))
+            )
+          )
+        )
+      )
+      (LetD (VarP int64ToInt) (VarE @int64ToInt))
+      (LetD (VarP int32ToInt) (VarE @int32ToInt))
+      (LetD (VarP int16ToInt) (VarE @int16ToInt))
+      (LetD (VarP int8ToInt) (VarE @int8ToInt))
+      (LetD (VarP nat64ToNat) (VarE @nat64ToNat))
+      (LetD (VarP nat32ToNat) (VarE @nat32ToNat))
+      (LetD (VarP nat16ToNat) (VarE @nat16ToNat))
+      (LetD (VarP nat8ToNat) (VarE @nat8ToNat))
+      (LetD
+        (VarP intToInt64)
+        (FuncE
+          intToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32)
+        (FuncE
+          intToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16)
+        (FuncE
+          intToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8)
+        (FuncE
+          intToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat64)
+        (FuncE
+          natToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat32)
+        (FuncE
+          natToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat16)
+        (FuncE
+          natToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat8)
+        (FuncE
+          natToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt64Wrap)
+        (FuncE
+          intToInt64Wrap
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32Wrap)
+        (FuncE
+          intToInt32Wrap
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16Wrap)
+        (FuncE
+          intToInt16Wrap
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8Wrap)
+        (FuncE
+          intToInt8Wrap
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat64Wrap)
+        (FuncE
+          intToNat64Wrap
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat32Wrap)
+        (FuncE
+          intToNat32Wrap
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat16Wrap)
+        (FuncE
+          intToNat16Wrap
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat8Wrap)
+        (FuncE
+          intToNat8Wrap
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToNat64)
+        (FuncE
+          int64ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int64 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToInt64)
+        (FuncE
+          nat64ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Nat64 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToNat32)
+        (FuncE
+          int32ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int32 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToInt32)
+        (FuncE
+          nat32ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Nat32 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToNat16)
+        (FuncE
+          int16ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int16 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToInt16)
+        (FuncE
+          nat16ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Nat16 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToNat8)
+        (FuncE
+          int8ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int8 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToInt8)
+        (FuncE
+          nat8ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Nat8 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToNat16)
+        (FuncE
+          nat8ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat8 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat32)
+        (FuncE
+          nat16ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat16 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat64)
+        (FuncE
+          nat32ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat32 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToNat32)
+        (FuncE
+          nat64ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat64 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat16)
+        (FuncE
+          nat32ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat32 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat8)
+        (FuncE
+          nat16ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat16 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToInt16)
+        (FuncE
+          int8ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int8 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt32)
+        (FuncE
+          int16ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int16 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt64)
+        (FuncE
+          int32ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int32 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToInt32)
+        (FuncE
+          int64ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int64 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt16)
+        (FuncE
+          int32ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int32 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt8)
+        (FuncE
+          int16ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int16 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat16)
+        (FuncE
+          explodeNat16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Nat16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt16)
+        (FuncE
+          explodeInt16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Int16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat32)
+        (FuncE
+          explodeNat32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt32)
+        (FuncE
+          explodeInt32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat64)
+        (FuncE
+          explodeNat64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt64)
+        (FuncE
+          explodeInt64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP charToNat32)
+        (FuncE
+          charToNat32
+          Local
+          Returns
+          (params c)
+          Nat32
+          (PrimE (NumConvWrapPrim Char Nat32) (VarE c))
+        )
+      )
+      (LetD
+        (VarP nat32ToChar)
+        (FuncE
+          nat32ToChar
+          Local
+          Returns
+          (params w)
+          Char
+          (PrimE (NumConvTrapPrim Nat32 Char) (VarE w))
+        )
+      )
+      (LetD
+        (VarP charToText)
+        (FuncE
+          charToText
+          Local
+          Returns
+          (params c)
+          Text
+          (PrimE conv_Char_Text (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToUpper)
+        (FuncE
+          charToUpper
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_upper (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToLower)
+        (FuncE
+          charToLower
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_lower (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsWhitespace)
+        (FuncE
+          charIsWhitespace
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_whitespace (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsLowercase)
+        (FuncE
+          charIsLowercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_lowercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsUppercase)
+        (FuncE
+          charIsUppercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_uppercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsAlphabetic)
+        (FuncE
+          charIsAlphabetic
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_alphabetic (VarE c))
+        )
+      )
+      (LetD
+        (VarP blobCompare)
+        (FuncE
+          blobCompare
+          Local
+          Returns
+          (params b1 b2)
+          Int8
+          (PrimE blob_compare (VarE b1) (VarE b2))
+        )
+      )
+      (LetD
+        (VarP hashBlob)
+        (FuncE
+          hashBlob
+          Local
+          Returns
+          (params b)
+          Nat32
+          (PrimE crc32Hash (VarE b))
+        )
+      )
+      (LetD
+        (VarP decodeUtf8)
+        (FuncE
+          decodeUtf8
+          Local
+          Returns
+          (params b)
+          ?Text
+          (PrimE DecodeUtf8 (VarE b))
+        )
+      )
+      (LetD
+        (VarP encodeUtf8)
+        (FuncE
+          encodeUtf8
+          Local
+          Returns
+          (params t)
+          Blob
+          (PrimE EncodeUtf8 (VarE t))
+        )
+      )
+      (LetD
+        (VarP textCompare)
+        (FuncE
+          textCompare
+          Local
+          Returns
+          (params t1 t2)
+          Int8
+          (PrimE text_compare (VarE t1) (VarE t2))
+        )
+      )
+      (LetD
+        (VarP textLowercase)
+        (FuncE
+          textLowercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_lowercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP textUppercase)
+        (FuncE
+          textUppercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_uppercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP popcntNat8)
+        (FuncE
+          popcntNat8
+          Local
+          Returns
+          (params w)
+          Nat8
+          (PrimE popcnt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat8)
+        (FuncE clzNat8 Local Returns (params w) Nat8 (PrimE clz8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat8)
+        (FuncE ctzNat8 Local Returns (params w) Nat8 (PrimE ctz8 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat8)
+        (FuncE
+          btstNat8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat8 EqOp)
+              (PrimE btst8 (VarE w) (VarE amount))
+              (LitE (Nat8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat16)
+        (FuncE
+          popcntNat16
+          Local
+          Returns
+          (params w)
+          Nat16
+          (PrimE popcnt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat16)
+        (FuncE clzNat16 Local Returns (params w) Nat16 (PrimE clz16 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat16)
+        (FuncE ctzNat16 Local Returns (params w) Nat16 (PrimE ctz16 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat16)
+        (FuncE
+          btstNat16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat16 EqOp)
+              (PrimE btst16 (VarE w) (VarE amount))
+              (LitE (Nat16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat32)
+        (FuncE
+          popcntNat32
+          Local
+          Returns
+          (params w)
+          Nat32
+          (PrimE popcnt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat32)
+        (FuncE clzNat32 Local Returns (params w) Nat32 (PrimE clz32 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat32)
+        (FuncE ctzNat32 Local Returns (params w) Nat32 (PrimE ctz32 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat32)
+        (FuncE
+          btstNat32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat32 EqOp)
+              (PrimE btst32 (VarE w) (VarE amount))
+              (LitE (Nat32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat64)
+        (FuncE
+          popcntNat64
+          Local
+          Returns
+          (params w)
+          Nat64
+          (PrimE popcnt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat64)
+        (FuncE clzNat64 Local Returns (params w) Nat64 (PrimE clz64 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat64)
+        (FuncE ctzNat64 Local Returns (params w) Nat64 (PrimE ctz64 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat64)
+        (FuncE
+          btstNat64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE btst64 (VarE w) (VarE amount))
+              (LitE (Nat64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt8)
+        (FuncE
+          popcntInt8
+          Local
+          Returns
+          (params w)
+          Int8
+          (PrimE popcntInt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt8)
+        (FuncE clzInt8 Local Returns (params w) Int8 (PrimE clzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzInt8)
+        (FuncE ctzInt8 Local Returns (params w) Int8 (PrimE ctzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP btstInt8)
+        (FuncE
+          btstInt8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int8 EqOp)
+              (PrimE btstInt8 (VarE w) (VarE amount))
+              (LitE (Int8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt16)
+        (FuncE
+          popcntInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE popcntInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt16)
+        (FuncE
+          clzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE clzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt16)
+        (FuncE
+          ctzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE ctzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt16)
+        (FuncE
+          btstInt16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int16 EqOp)
+              (PrimE btstInt16 (VarE w) (VarE amount))
+              (LitE (Int16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt32)
+        (FuncE
+          popcntInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE popcntInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt32)
+        (FuncE
+          clzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE clzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt32)
+        (FuncE
+          ctzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE ctzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt32)
+        (FuncE
+          btstInt32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int32 EqOp)
+              (PrimE btstInt32 (VarE w) (VarE amount))
+              (LitE (Int32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt64)
+        (FuncE
+          popcntInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE popcntInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt64)
+        (FuncE
+          clzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE clzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt64)
+        (FuncE
+          ctzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE ctzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt64)
+        (FuncE
+          btstInt64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int64 EqOp)
+              (PrimE btstInt64 (VarE w) (VarE amount))
+              (LitE (Int64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP floatAbs)
+        (FuncE floatAbs Local Returns (params f) Float (PrimE fabs (VarE f)))
+      )
+      (LetD
+        (VarP floatSqrt)
+        (FuncE floatSqrt Local Returns (params f) Float (PrimE fsqrt (VarE f)))
+      )
+      (LetD
+        (VarP floatCeil)
+        (FuncE floatCeil Local Returns (params f) Float (PrimE fceil (VarE f)))
+      )
+      (LetD
+        (VarP floatFloor)
+        (FuncE
+          floatFloor
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ffloor (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatTrunc)
+        (FuncE
+          floatTrunc
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ftrunc (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatNearest)
+        (FuncE
+          floatNearest
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE fnearest (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatMin)
+        (FuncE
+          floatMin
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmin (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatMax)
+        (FuncE
+          floatMax
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmax (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatCopySign)
+        (FuncE
+          floatCopySign
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fcopysign (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatToInt)
+        (FuncE
+          floatToInt
+          Local
+          Returns
+          (params f)
+          Int
+          (PrimE (NumConvTrapPrim Float Int) (VarE f))
+        )
+      )
+      (LetD
+        (VarP intToFloat)
+        (FuncE
+          intToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int Float) (VarE n))
+        )
+      )
+      (LetD
+        (VarP floatToInt64)
+        (FuncE
+          floatToInt64
+          Local
+          Returns
+          (params f)
+          Int64
+          (PrimE (NumConvTrapPrim Float Int64) (VarE f))
+        )
+      )
+      (LetD
+        (VarP int64ToFloat)
+        (FuncE
+          int64ToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int64 Float) (VarE n))
+        )
+      )
+      (LetD (VarP floatToText) (VarE @text_of_Float))
+      (LetD
+        (VarP floatToFormattedText)
+        (FuncE
+          floatToFormattedText
+          Local
+          Returns
+          (params f prec mode)
+          Text
+          (PrimE fmtFloat->Text (VarE f) (VarE prec) (VarE mode))
+        )
+      )
+      (LetD
+        (VarP sin)
+        (FuncE sin Local Returns (params f) Float (PrimE fsin (VarE f)))
+      )
+      (LetD
+        (VarP cos)
+        (FuncE cos Local Returns (params f) Float (PrimE fcos (VarE f)))
+      )
+      (LetD
+        (VarP tan)
+        (FuncE tan Local Returns (params f) Float (PrimE ftan (VarE f)))
+      )
+      (LetD
+        (VarP arcsin)
+        (FuncE arcsin Local Returns (params f) Float (PrimE fasin (VarE f)))
+      )
+      (LetD
+        (VarP arccos)
+        (FuncE arccos Local Returns (params f) Float (PrimE facos (VarE f)))
+      )
+      (LetD
+        (VarP arctan)
+        (FuncE arctan Local Returns (params f) Float (PrimE fatan (VarE f)))
+      )
+      (LetD
+        (VarP arctan2)
+        (FuncE
+          arctan2
+          Local
+          Returns
+          (params y x)
+          Float
+          (PrimE fatan2 (VarE y) (VarE x))
+        )
+      )
+      (LetD
+        (VarP exp)
+        (FuncE exp Local Returns (params f) Float (PrimE fexp (VarE f)))
+      )
+      (LetD
+        (VarP log)
+        (FuncE log Local Returns (params f) Float (PrimE flog (VarE f)))
+      )
+      (LetD
+        (VarP Array_init)
+        (FuncE
+          Array_init
+          Local
+          Returns
+          (T Any)
+          (params len x)
+          [var T]
+          (PrimE Array.init (VarE len) (VarE x))
+        )
+      )
+      (LetD
+        (VarP Array_tabulate)
+        (FuncE
+          Array_tabulate
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [T]
+          (PrimE Array.tabulate (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP Array_tabulateVar)
+        (FuncE
+          Array_tabulateVar
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [var T]
+          (PrimE Array.tabulateVar (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP blobToArray)
+        (FuncE
+          blobToArray
+          Local
+          Returns
+          (params b)
+          [Nat8]
+          (PrimE blobToArray (VarE b))
+        )
+      )
+      (LetD
+        (VarP blobToArrayMut)
+        (FuncE
+          blobToArrayMut
+          Local
+          Returns
+          (params b)
+          [var Nat8]
+          (PrimE blobToArrayMut (VarE b))
+        )
+      )
+      (LetD
+        (VarP arrayToBlob)
+        (FuncE
+          arrayToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP arrayMutToBlob)
+        (FuncE
+          arrayMutToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayMutToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP error)
+        (FuncE
+          error
+          Local
+          Returns
+          (params message)
+          Error
+          (BlockE
+            (LetD
+              (VarP e)
+              (PrimE
+                TupPrim
+                (PrimE (TagE canister_reject) (PrimE TupPrim))
+                (VarE message)
+              )
+            )
+            (PrimE (CastPrim (ErrorCode, Text) Error) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorCode)
+        (FuncE
+          errorCode
+          Local
+          Returns
+          (params e)
+          ErrorCode
+          (PrimE
+            (ProjPrim 0)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorMessage)
+        (FuncE
+          errorMessage
+          Local
+          Returns
+          (params e)
+          Text
+          (PrimE
+            (ProjPrim 1)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP replyDeadline)
+        (FuncE replyDeadline Local Returns Nat64 (PrimE ICReplyDeadlinePrim))
+      )
+      (LetD (VarP time) (FuncE time Local Returns Nat64 (PrimE SystemTimePrim)))
+      (LetD
+        (VarP blobOfPrincipal)
+        (FuncE
+          blobOfPrincipal
+          Local
+          Returns
+          (params id)
+          Blob
+          (PrimE blobOfPrincipal (VarE id))
+        )
+      )
+      (LetD
+        (VarP principalOfBlob)
+        (FuncE
+          principalOfBlob
+          Local
+          Returns
+          (params act)
+          Principal
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE
+                  (RelPrim Nat GtOp)
+                  (PrimE blob_size (VarE act))
+                  (LitE (NatLit 29))
+                )
+                (PrimE
+                  (CallPrim)
+                  (VarE trap)
+                  (LitE (TextLit blob too long for principal))
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (PrimE principalOfBlob (VarE act))
+          )
+        )
+      )
+      (LetD
+        (VarP principalOfActor)
+        (FuncE
+          principalOfActor
+          Local
+          Returns
+          (params act)
+          Principal
+          (PrimE principalOfActor (VarE act))
+        )
+      )
+      (LetD
+        (VarP isController)
+        (FuncE
+          isController
+          Local
+          Returns
+          (params p)
+          Bool
+          (PrimE is_controller (VarE p))
+        )
+      )
+      (LetD
+        (VarP isReplicatedExecution)
+        (FuncE
+          isReplicatedExecution
+          Local
+          Returns
+          Bool
+          (PrimE replicated_execution)
+        )
+      )
+      (LetD
+        (VarP canisterVersion)
+        (FuncE canisterVersion Local Returns Nat64 (PrimE canister_version))
+      )
+      (LetD
+        (VarP canisterSubnet)
+        (FuncE canisterSubnet Local Returns Principal (PrimE canister_subnet))
+      )
+      (LetD (VarP rootKey) (FuncE rootKey Local Returns Blob (PrimE root_key)))
+      (LetD
+        (VarP getSelfPrincipal)
+        (FuncE
+          getSelfPrincipal
+          Local
+          Returns
+          ($ Any)
+          Principal
+          (PrimE canister_self)
+        )
+      )
+      (LetD (VarP createActor) (VarE @create_actor_helper))
+      (LetD
+        (VarP cyclesBalance)
+        (FuncE cyclesBalance Local Returns Nat (PrimE SystemCyclesBalancePrim))
+      )
+      (LetD
+        (VarP cyclesAvailable)
+        (FuncE
+          cyclesAvailable
+          Local
+          Returns
+          Nat
+          (PrimE SystemCyclesAvailablePrim)
+        )
+      )
+      (LetD
+        (VarP cyclesRefunded)
+        (FuncE cyclesRefunded Local Returns Nat (VarE! @refund))
+      )
+      (LetD
+        (VarP cyclesAccept)
+        (FuncE
+          cyclesAccept
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesAcceptPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP cyclesAdd)
+        (FuncE
+          cyclesAdd
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          ()
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat EqOp) (VarE amount) (LitE (NatLit 0)))
+                (PrimE RetPrim (PrimE TupPrim))
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              WildP
+              (AssignE
+                (VarLE @cycles)
+                (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE amount))
+              )
+            )
+            (IfE
+              (PrimE
+                (RelPrim Nat GtOp)
+                (VarE! @cycles)
+                (LitE
+                  (NatLit 340_282_366_920_938_463_463_374_607_431_768_211_455)
+                )
+              )
+              (PrimE
+                (CallPrim)
+                (VarE trap)
+                (LitE (TextLit cannot add more than 2^128 cycles))
+              )
+              (PrimE TupPrim)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP cyclesBurn)
+        (FuncE
+          cyclesBurn
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesBurnPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP costCall)
+        (FuncE
+          costCall
+          Local
+          Returns
+          (params methodNameSize payloadSize)
+          Nat
+          (PrimE costCall (VarE methodNameSize) (VarE payloadSize))
+        )
+      )
+      (LetD
+        (VarP costCreateCanister)
+        (FuncE costCreateCanister Local Returns Nat (PrimE costCreateCanister))
+      )
+      (LetD
+        (VarP costHttpRequest)
+        (FuncE
+          costHttpRequest
+          Local
+          Returns
+          (params requestSize maxResBytes)
+          Nat
+          (PrimE costHttpRequest (VarE requestSize) (VarE maxResBytes))
+        )
+      )
+      (LetD
+        (VarP costSignWithEcdsa)
+        (FuncE
+          costSignWithEcdsa
+          Local
+          Returns
+          (params keyName curveEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithEcdsa (VarE keyName) (VarE curveEncoding))
+        )
+      )
+      (LetD
+        (VarP costSignWithSchnorr)
+        (FuncE
+          costSignWithSchnorr
+          Local
+          Returns
+          (params keyName algorithmEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithSchnorr (VarE keyName) (VarE algorithmEncoding))
+        )
+      )
+      (LetD
+        (VarP setCertifiedData)
+        (FuncE
+          setCertifiedData
+          Local
+          Returns
+          (params data)
+          ()
+          (PrimE SetCertifiedData (VarE data))
+        )
+      )
+      (LetD
+        (VarP getCertificate)
+        (FuncE getCertificate Local Returns ?Blob (PrimE GetCertificate))
+      )
+      (LetD
+        (VarP stableMemorySize)
+        (FuncE stableMemorySize Local Returns Nat64 (PrimE stableMemorySize))
+      )
+      (LetD
+        (VarP stableMemoryGrow)
+        (FuncE
+          stableMemoryGrow
+          Local
+          Returns
+          (params pages)
+          Nat64
+          (PrimE stableMemoryGrow (VarE pages))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat32)
+        (FuncE
+          stableMemoryLoadNat32
+          Local
+          Returns
+          (params offset)
+          Nat32
+          (PrimE stableMemoryLoadNat32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat32)
+        (FuncE
+          stableMemoryStoreNat32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat8)
+        (FuncE
+          stableMemoryLoadNat8
+          Local
+          Returns
+          (params offset)
+          Nat8
+          (PrimE stableMemoryLoadNat8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat8)
+        (FuncE
+          stableMemoryStoreNat8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat16)
+        (FuncE
+          stableMemoryLoadNat16
+          Local
+          Returns
+          (params offset)
+          Nat16
+          (PrimE stableMemoryLoadNat16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat16)
+        (FuncE
+          stableMemoryStoreNat16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat64)
+        (FuncE
+          stableMemoryLoadNat64
+          Local
+          Returns
+          (params offset)
+          Nat64
+          (PrimE stableMemoryLoadNat64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat64)
+        (FuncE
+          stableMemoryStoreNat64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt32)
+        (FuncE
+          stableMemoryLoadInt32
+          Local
+          Returns
+          (params offset)
+          Int32
+          (PrimE stableMemoryLoadInt32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt32)
+        (FuncE
+          stableMemoryStoreInt32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt8)
+        (FuncE
+          stableMemoryLoadInt8
+          Local
+          Returns
+          (params offset)
+          Int8
+          (PrimE stableMemoryLoadInt8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt8)
+        (FuncE
+          stableMemoryStoreInt8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt16)
+        (FuncE
+          stableMemoryLoadInt16
+          Local
+          Returns
+          (params offset)
+          Int16
+          (PrimE stableMemoryLoadInt16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt16)
+        (FuncE
+          stableMemoryStoreInt16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt64)
+        (FuncE
+          stableMemoryLoadInt64
+          Local
+          Returns
+          (params offset)
+          Int64
+          (PrimE stableMemoryLoadInt64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt64)
+        (FuncE
+          stableMemoryStoreInt64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadFloat)
+        (FuncE
+          stableMemoryLoadFloat
+          Local
+          Returns
+          (params offset)
+          Float
+          (PrimE stableMemoryLoadFloat (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreFloat)
+        (FuncE
+          stableMemoryStoreFloat
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreFloat (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadBlob)
+        (FuncE
+          stableMemoryLoadBlob
+          Local
+          Returns
+          (params offset size)
+          Blob
+          (PrimE stableMemoryLoadBlob (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreBlob)
+        (FuncE
+          stableMemoryStoreBlob
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreBlob (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableVarQuery)
+        (FuncE
+          stableVarQuery
+          Local
+          Returns
+          shared query () -> async {size : Nat64}
+          (PrimE stableVarQuery)
+        )
+      )
+      (LetD
+        (VarP regionNew)
+        (FuncE regionNew Local Returns Region (PrimE regionNew))
+      )
+      (LetD
+        (VarP regionId)
+        (FuncE regionId Local Returns (params r) Nat (PrimE regionId (VarE r)))
+      )
+      (LetD
+        (VarP regionSize)
+        (FuncE
+          regionSize
+          Local
+          Returns
+          (params r)
+          Nat64
+          (PrimE regionSize (VarE r))
+        )
+      )
+      (LetD
+        (VarP regionGrow)
+        (FuncE
+          regionGrow
+          Local
+          Returns
+          (params r pages)
+          Nat64
+          (PrimE regionGrow (VarE r) (VarE pages))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat32)
+        (FuncE
+          regionLoadNat32
+          Local
+          Returns
+          (params r offset)
+          Nat32
+          (PrimE regionLoadNat32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat32)
+        (FuncE
+          regionStoreNat32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat8)
+        (FuncE
+          regionLoadNat8
+          Local
+          Returns
+          (params r offset)
+          Nat8
+          (PrimE regionLoadNat8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat8)
+        (FuncE
+          regionStoreNat8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat16)
+        (FuncE
+          regionLoadNat16
+          Local
+          Returns
+          (params r offset)
+          Nat16
+          (PrimE regionLoadNat16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat16)
+        (FuncE
+          regionStoreNat16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat64)
+        (FuncE
+          regionLoadNat64
+          Local
+          Returns
+          (params r offset)
+          Nat64
+          (PrimE regionLoadNat64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat64)
+        (FuncE
+          regionStoreNat64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt32)
+        (FuncE
+          regionLoadInt32
+          Local
+          Returns
+          (params r offset)
+          Int32
+          (PrimE regionLoadInt32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt32)
+        (FuncE
+          regionStoreInt32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt8)
+        (FuncE
+          regionLoadInt8
+          Local
+          Returns
+          (params r offset)
+          Int8
+          (PrimE regionLoadInt8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt8)
+        (FuncE
+          regionStoreInt8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt16)
+        (FuncE
+          regionLoadInt16
+          Local
+          Returns
+          (params r offset)
+          Int16
+          (PrimE regionLoadInt16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt16)
+        (FuncE
+          regionStoreInt16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt64)
+        (FuncE
+          regionLoadInt64
+          Local
+          Returns
+          (params r offset)
+          Int64
+          (PrimE regionLoadInt64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt64)
+        (FuncE
+          regionStoreInt64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadFloat)
+        (FuncE
+          regionLoadFloat
+          Local
+          Returns
+          (params r offset)
+          Float
+          (PrimE regionLoadFloat (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreFloat)
+        (FuncE
+          regionStoreFloat
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreFloat (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadBlob)
+        (FuncE
+          regionLoadBlob
+          Local
+          Returns
+          (params r offset size)
+          Blob
+          (PrimE regionLoadBlob (VarE r) (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP regionStoreBlob)
+        (FuncE
+          regionStoreBlob
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreBlob (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD (VarP call_raw) (VarE @call_raw))
+      (LetD
+        (VarP performanceCounter)
+        (FuncE
+          performanceCounter
+          Local
+          Returns
+          (params counter)
+          Nat64
+          (PrimE performanceCounter (VarE counter))
+        )
+      )
+      (LetD
+        (VarP setCandidLimits)
+        (FuncE
+          setCandidLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/0)
+          ()
+          (BlockE
+            (LetD
+              (ObjP
+                (numerator (VarP numerator))
+                (denominator (VarP denominator))
+                (bias (VarP bias))
+              )
+              (VarE $param/0)
+            )
+            (PrimE
+              setCandidLimits
+              (VarE numerator)
+              (VarE denominator)
+              (VarE bias)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidLimits)
+        (FuncE
+          getCandidLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; denominator : Nat32; numerator : Nat32}
+          (BlockE
+            (LetD
+              (TupP (VarP numerator) (VarP denominator) (VarP bias))
+              (PrimE getCandidLimits)
+            )
+            (NewObjE
+              Object
+              (bias bias)
+              (denominator denominator)
+              (numerator numerator)
+              {bias : Nat32; denominator : Nat32; numerator : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP setCandidTypeLimits)
+        (FuncE
+          setCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/1)
+          ()
+          (BlockE
+            (LetD
+              (ObjP (scalar (VarP scalar)) (bias (VarP bias)))
+              (VarE $param/1)
+            )
+            (PrimE setCandidTypeLimits (VarE scalar) (VarE bias))
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidTypeLimits)
+        (FuncE
+          getCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; scalar : Nat32}
+          (BlockE
+            (LetD (TupP (VarP scalar) (VarP bias)) (PrimE getCandidTypeLimits))
+            (NewObjE
+              Object
+              (bias bias)
+              (scalar scalar)
+              {bias : Nat32; scalar : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP forall)
+        (FuncE
+          forall
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE forall (VarE f))
+        )
+      )
+      (LetD
+        (VarP exists)
+        (FuncE
+          exists
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE exists (VarE f))
+        )
+      )
+      (LetD (VarP setTimer) (VarE @setTimer))
+      (LetD (VarP cancelTimer) (VarE @cancelTimer))
+      (NewObjE
+        Module
+        (weakGet weakGet)
+        (trap trap)
+        (time time)
+        (textUppercase textUppercase)
+        (textLowercase textLowercase)
+        (textCompare textCompare)
+        (tan tan)
+        (stableVarQuery stableVarQuery)
+        (stableMemoryStoreNat8 stableMemoryStoreNat8)
+        (stableMemoryStoreNat64 stableMemoryStoreNat64)
+        (stableMemoryStoreNat32 stableMemoryStoreNat32)
+        (stableMemoryStoreNat16 stableMemoryStoreNat16)
+        (stableMemoryStoreInt8 stableMemoryStoreInt8)
+        (stableMemoryStoreInt64 stableMemoryStoreInt64)
+        (stableMemoryStoreInt32 stableMemoryStoreInt32)
+        (stableMemoryStoreInt16 stableMemoryStoreInt16)
+        (stableMemoryStoreFloat stableMemoryStoreFloat)
+        (stableMemoryStoreBlob stableMemoryStoreBlob)
+        (stableMemorySize stableMemorySize)
+        (stableMemoryLoadNat8 stableMemoryLoadNat8)
+        (stableMemoryLoadNat64 stableMemoryLoadNat64)
+        (stableMemoryLoadNat32 stableMemoryLoadNat32)
+        (stableMemoryLoadNat16 stableMemoryLoadNat16)
+        (stableMemoryLoadInt8 stableMemoryLoadInt8)
+        (stableMemoryLoadInt64 stableMemoryLoadInt64)
+        (stableMemoryLoadInt32 stableMemoryLoadInt32)
+        (stableMemoryLoadInt16 stableMemoryLoadInt16)
+        (stableMemoryLoadFloat stableMemoryLoadFloat)
+        (stableMemoryLoadBlob stableMemoryLoadBlob)
+        (stableMemoryGrow stableMemoryGrow)
+        (sin sin)
+        (shiftRight shiftRight)
+        (shiftLeft shiftLeft)
+        (setTimer setTimer)
+        (setCertifiedData setCertifiedData)
+        (setCandidTypeLimits setCandidTypeLimits)
+        (setCandidLimits setCandidLimits)
+        (rts_version rts_version)
+        (rts_upgrade_instructions rts_upgrade_instructions)
+        (rts_total_allocation rts_total_allocation)
+        (rts_stable_memory_size rts_stable_memory_size)
+        (rts_reclaimed rts_reclaimed)
+        (rts_mutator_instructions rts_mutator_instructions)
+        (rts_memory_size rts_memory_size)
+        (rts_max_stack_size rts_max_stack_size)
+        (rts_max_live_size rts_max_live_size)
+        (rts_logical_stable_memory_size rts_logical_stable_memory_size)
+        (rts_lifetime_instructions rts_lifetime_instructions)
+        (rts_heap_size rts_heap_size)
+        (rts_collector_instructions rts_collector_instructions)
+        (rts_callback_table_size rts_callback_table_size)
+        (rts_callback_table_count rts_callback_table_count)
+        (rootKey rootKey)
+        (replyDeadline replyDeadline)
+        (regionStoreNat8 regionStoreNat8)
+        (regionStoreNat64 regionStoreNat64)
+        (regionStoreNat32 regionStoreNat32)
+        (regionStoreNat16 regionStoreNat16)
+        (regionStoreInt8 regionStoreInt8)
+        (regionStoreInt64 regionStoreInt64)
+        (regionStoreInt32 regionStoreInt32)
+        (regionStoreInt16 regionStoreInt16)
+        (regionStoreFloat regionStoreFloat)
+        (regionStoreBlob regionStoreBlob)
+        (regionSize regionSize)
+        (regionNew regionNew)
+        (regionLoadNat8 regionLoadNat8)
+        (regionLoadNat64 regionLoadNat64)
+        (regionLoadNat32 regionLoadNat32)
+        (regionLoadNat16 regionLoadNat16)
+        (regionLoadInt8 regionLoadInt8)
+        (regionLoadInt64 regionLoadInt64)
+        (regionLoadInt32 regionLoadInt32)
+        (regionLoadInt16 regionLoadInt16)
+        (regionLoadFloat regionLoadFloat)
+        (regionLoadBlob regionLoadBlob)
+        (regionId regionId)
+        (regionGrow regionGrow)
+        (pruneConfirmedDeadBlobs pruneConfirmedDeadBlobs)
+        (principalOfBlob principalOfBlob)
+        (principalOfActor principalOfActor)
+        (popcntNat8 popcntNat8)
+        (popcntNat64 popcntNat64)
+        (popcntNat32 popcntNat32)
+        (popcntNat16 popcntNat16)
+        (popcntInt8 popcntInt8)
+        (popcntInt64 popcntInt64)
+        (popcntInt32 popcntInt32)
+        (popcntInt16 popcntInt16)
+        (performanceCounter performanceCounter)
+        (natToNat8 natToNat8)
+        (natToNat64 natToNat64)
+        (natToNat32 natToNat32)
+        (natToNat16 natToNat16)
+        (nat8ToNat16 nat8ToNat16)
+        (nat8ToNat nat8ToNat)
+        (nat8ToInt8 nat8ToInt8)
+        (nat64ToNat32 nat64ToNat32)
+        (nat64ToNat nat64ToNat)
+        (nat64ToInt64 nat64ToInt64)
+        (nat32ToNat64 nat32ToNat64)
+        (nat32ToNat16 nat32ToNat16)
+        (nat32ToNat nat32ToNat)
+        (nat32ToInt32 nat32ToInt32)
+        (nat32ToChar nat32ToChar)
+        (nat16ToNat8 nat16ToNat8)
+        (nat16ToNat32 nat16ToNat32)
+        (nat16ToNat nat16ToNat)
+        (nat16ToInt16 nat16ToInt16)
+        (log log)
+        (isStorageBlobLive isStorageBlobLive)
+        (isReplicatedExecution isReplicatedExecution)
+        (isLive isLive)
+        (isController isController)
+        (intToNat8Wrap intToNat8Wrap)
+        (intToNat64Wrap intToNat64Wrap)
+        (intToNat32Wrap intToNat32Wrap)
+        (intToNat16Wrap intToNat16Wrap)
+        (intToInt8Wrap intToInt8Wrap)
+        (intToInt8 intToInt8)
+        (intToInt64Wrap intToInt64Wrap)
+        (intToInt64 intToInt64)
+        (intToInt32Wrap intToInt32Wrap)
+        (intToInt32 intToInt32)
+        (intToInt16Wrap intToInt16Wrap)
+        (intToInt16 intToInt16)
+        (intToFloat intToFloat)
+        (int8ToNat8 int8ToNat8)
+        (int8ToInt16 int8ToInt16)
+        (int8ToInt int8ToInt)
+        (int64ToNat64 int64ToNat64)
+        (int64ToInt32 int64ToInt32)
+        (int64ToInt int64ToInt)
+        (int64ToFloat int64ToFloat)
+        (int32ToNat32 int32ToNat32)
+        (int32ToInt64 int32ToInt64)
+        (int32ToInt16 int32ToInt16)
+        (int32ToInt int32ToInt)
+        (int16ToNat16 int16ToNat16)
+        (int16ToInt8 int16ToInt8)
+        (int16ToInt32 int16ToInt32)
+        (int16ToInt int16ToInt)
+        (idlHash idlHash)
+        (hashBlob hashBlob)
+        (getSelfPrincipal getSelfPrincipal)
+        (getDeadBlobs getDeadBlobs)
+        (getCertificate getCertificate)
+        (getCandidTypeLimits getCandidTypeLimits)
+        (getCandidLimits getCandidLimits)
+        (forall forall)
+        (floatTrunc floatTrunc)
+        (floatToText floatToText)
+        (floatToInt64 floatToInt64)
+        (floatToInt floatToInt)
+        (floatToFormattedText floatToFormattedText)
+        (floatSqrt floatSqrt)
+        (floatNearest floatNearest)
+        (floatMin floatMin)
+        (floatMax floatMax)
+        (floatFloor floatFloor)
+        (floatCopySign floatCopySign)
+        (floatCeil floatCeil)
+        (floatAbs floatAbs)
+        (explodeNat64 explodeNat64)
+        (explodeNat32 explodeNat32)
+        (explodeNat16 explodeNat16)
+        (explodeInt64 explodeInt64)
+        (explodeInt32 explodeInt32)
+        (explodeInt16 explodeInt16)
+        (exp exp)
+        (exists exists)
+        (errorMessage errorMessage)
+        (errorCode errorCode)
+        (error error)
+        (envVarNames envVarNames)
+        (envVar envVar)
+        (encodeUtf8 encodeUtf8)
+        (decodeUtf8 decodeUtf8)
+        (debugPrintNat debugPrintNat)
+        (debugPrintInt debugPrintInt)
+        (debugPrintChar debugPrintChar)
+        (debugPrint debugPrint)
+        (cyclesRefunded cyclesRefunded)
+        (cyclesBurn cyclesBurn)
+        (cyclesBalance cyclesBalance)
+        (cyclesAvailable cyclesAvailable)
+        (cyclesAdd cyclesAdd)
+        (cyclesAccept cyclesAccept)
+        (ctzNat8 ctzNat8)
+        (ctzNat64 ctzNat64)
+        (ctzNat32 ctzNat32)
+        (ctzNat16 ctzNat16)
+        (ctzInt8 ctzInt8)
+        (ctzInt64 ctzInt64)
+        (ctzInt32 ctzInt32)
+        (ctzInt16 ctzInt16)
+        (createActor createActor)
+        (costSignWithSchnorr costSignWithSchnorr)
+        (costSignWithEcdsa costSignWithEcdsa)
+        (costHttpRequest costHttpRequest)
+        (costCreateCanister costCreateCanister)
+        (costCall costCall)
+        (cos cos)
+        (clzNat8 clzNat8)
+        (clzNat64 clzNat64)
+        (clzNat32 clzNat32)
+        (clzNat16 clzNat16)
+        (clzInt8 clzInt8)
+        (clzInt64 clzInt64)
+        (clzInt32 clzInt32)
+        (clzInt16 clzInt16)
+        (charToUpper charToUpper)
+        (charToText charToText)
+        (charToNat32 charToNat32)
+        (charToLower charToLower)
+        (charIsWhitespace charIsWhitespace)
+        (charIsUppercase charIsUppercase)
+        (charIsLowercase charIsLowercase)
+        (charIsAlphabetic charIsAlphabetic)
+        (canisterVersion canisterVersion)
+        (canisterSubnet canisterSubnet)
+        (cancelTimer cancelTimer)
+        (call_raw call_raw)
+        (btstNat8 btstNat8)
+        (btstNat64 btstNat64)
+        (btstNat32 btstNat32)
+        (btstNat16 btstNat16)
+        (btstInt8 btstInt8)
+        (btstInt64 btstInt64)
+        (btstInt32 btstInt32)
+        (btstInt16 btstInt16)
+        (blobToArrayMut blobToArrayMut)
+        (blobToArray blobToArray)
+        (blobOfPrincipal blobOfPrincipal)
+        (blobCompare blobCompare)
+        (arrayToBlob arrayToBlob)
+        (arrayMutToBlob arrayMutToBlob)
+        (arctan2 arctan2)
+        (arctan arctan)
+        (arcsin arcsin)
+        (arccos arccos)
+        (allocWeakRef allocWeakRef)
+        (abs abs)
+        (__getDedupTable __getDedupTable)
+        (Types Types)
+        (BlobIterator BlobIterator)
+        (Array_tabulateVar Array_tabulateVar)
+        (Array_tabulate Array_tabulate)
+        (Array_init Array_init)
+        module {Array_init : <T>(Nat, T) -> [var T]; Array_tabulate : <T>(Nat, Nat -> T) -> [T]; Array_tabulateVar : <T>(Nat, Nat -> T) -> [var T]; BlobIterator : [var __List] -> BlobIterator; Types : module {}; __getDedupTable : () -> ?[var __List]; abs : Int -> Nat; allocWeakRef : <T>T -> weak T; arccos : Float -> Float; arcsin : Float -> Float; arctan : Float -> Float; arctan2 : (Float, Float) -> Float; arrayMutToBlob : [var Nat8] -> Blob; arrayToBlob : [Nat8] -> Blob; blobCompare : (Blob, Blob) -> Int8; blobOfPrincipal : Principal -> Blob; blobToArray : Blob -> [Nat8]; blobToArrayMut : Blob -> [var Nat8]; btstInt16 : (Int16, Int16) -> Bool; btstInt32 : (Int32, Int32) -> Bool; btstInt64 : (Int64, Int64) -> Bool; btstInt8 : (Int8, Int8) -> Bool; btstNat16 : (Nat16, Nat16) -> Bool; btstNat32 : (Nat32, Nat32) -> Bool; btstNat64 : (Nat64, Nat64) -> Bool; btstNat8 : (Nat8, Nat8) -> Bool; call_raw : (Principal, Text, Blob) -> async Blob; cancelTimer : Nat -> (); canisterSubnet : () -> Principal; canisterVersion : () -> Nat64; charIsAlphabetic : Char -> Bool; charIsLowercase : Char -> Bool; charIsUppercase : Char -> Bool; charIsWhitespace : Char -> Bool; charToLower : Char -> Char; charToNat32 : Char -> Nat32; charToText : Char -> Text; charToUpper : Char -> Char; clzInt16 : Int16 -> Int16; clzInt32 : Int32 -> Int32; clzInt64 : Int64 -> Int64; clzInt8 : Int8 -> Int8; clzNat16 : Nat16 -> Nat16; clzNat32 : Nat32 -> Nat32; clzNat64 : Nat64 -> Nat64; clzNat8 : Nat8 -> Nat8; cos : Float -> Float; costCall : (Nat64, Nat64) -> Nat; costCreateCanister : () -> Nat; costHttpRequest : (Nat64, Nat64) -> Nat; costSignWithEcdsa : (Text, Nat32) -> (Nat32, Nat); costSignWithSchnorr : (Text, Nat32) -> (Nat32, Nat); createActor : (Blob, Blob) -> async Principal; ctzInt16 : Int16 -> Int16; ctzInt32 : Int32 -> Int32; ctzInt64 : Int64 -> Int64; ctzInt8 : Int8 -> Int8; ctzNat16 : Nat16 -> Nat16; ctzNat32 : Nat32 -> Nat32; ctzNat64 : Nat64 -> Nat64; ctzNat8 : Nat8 -> Nat8; cyclesAccept : <system>Nat -> Nat; cyclesAdd : <system>Nat -> (); cyclesAvailable : () -> Nat; cyclesBalance : () -> Nat; cyclesBurn : <system>Nat -> Nat; cyclesRefunded : () -> Nat; debugPrint : Text -> (); debugPrintChar : Char -> (); debugPrintInt : Int -> (); debugPrintNat : Nat -> (); decodeUtf8 : Blob -> ?Text; encodeUtf8 : Text -> Blob; envVar : <system>Text -> ?Text; envVarNames : <system>() -> [Text]; error : Text -> Error; errorCode : Error -> ErrorCode; errorMessage : Error -> Text; exists : <T>(T -> Bool) -> Bool; exp : Float -> Float; explodeInt16 : Int16 -> (Nat8, Nat8); explodeInt32 : Int32 -> (Nat8, Nat8, Nat8, Nat8); explodeInt64 : Int64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); explodeNat16 : Nat16 -> (Nat8, Nat8); explodeNat32 : Nat32 -> (Nat8, Nat8, Nat8, Nat8); explodeNat64 : Nat64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); floatAbs : Float -> Float; floatCeil : Float -> Float; floatCopySign : (Float, Float) -> Float; floatFloor : Float -> Float; floatMax : (Float, Float) -> Float; floatMin : (Float, Float) -> Float; floatNearest : Float -> Float; floatSqrt : Float -> Float; floatToFormattedText : (Float, Nat8, Nat8) -> Text; floatToInt : Float -> Int; floatToInt64 : Float -> Int64; floatToText : Float -> Text; floatTrunc : Float -> Float; forall : <T>(T -> Bool) -> Bool; getCandidLimits : <system>() -> {bias : Nat32; denominator : Nat32; numerator : Nat32}; getCandidTypeLimits : <system>() -> {bias : Nat32; scalar : Nat32}; getCertificate : () -> ?Blob; getDeadBlobs : () -> ?[Blob]; getSelfPrincipal : <system>() -> Principal; hashBlob : Blob -> Nat32; idlHash : Text -> Nat32; int16ToInt : Int16 -> Int; int16ToInt32 : Int16 -> Int32; int16ToInt8 : Int16 -> Int8; int16ToNat16 : Int16 -> Nat16; int32ToInt : Int32 -> Int; int32ToInt16 : Int32 -> Int16; int32ToInt64 : Int32 -> Int64; int32ToNat32 : Int32 -> Nat32; int64ToFloat : Int64 -> Float; int64ToInt : Int64 -> Int; int64ToInt32 : Int64 -> Int32; int64ToNat64 : Int64 -> Nat64; int8ToInt : Int8 -> Int; int8ToInt16 : Int8 -> Int16; int8ToNat8 : Int8 -> Nat8; intToFloat : Int -> Float; intToInt16 : Int -> Int16; intToInt16Wrap : Int -> Int16; intToInt32 : Int -> Int32; intToInt32Wrap : Int -> Int32; intToInt64 : Int -> Int64; intToInt64Wrap : Int -> Int64; intToInt8 : Int -> Int8; intToInt8Wrap : Int -> Int8; intToNat16Wrap : Int -> Nat16; intToNat32Wrap : Int -> Nat32; intToNat64Wrap : Int -> Nat64; intToNat8Wrap : Int -> Nat8; isController : Principal -> Bool; isLive : weak Any -> Bool; isReplicatedExecution : () -> Bool; isStorageBlobLive : Blob -> Bool; log : Float -> Float; nat16ToInt16 : Nat16 -> Int16; nat16ToNat : Nat16 -> Nat; nat16ToNat32 : Nat16 -> Nat32; nat16ToNat8 : Nat16 -> Nat8; nat32ToChar : Nat32 -> Char; nat32ToInt32 : Nat32 -> Int32; nat32ToNat : Nat32 -> Nat; nat32ToNat16 : Nat32 -> Nat16; nat32ToNat64 : Nat32 -> Nat64; nat64ToInt64 : Nat64 -> Int64; nat64ToNat : Nat64 -> Nat; nat64ToNat32 : Nat64 -> Nat32; nat8ToInt8 : Nat8 -> Int8; nat8ToNat : Nat8 -> Nat; nat8ToNat16 : Nat8 -> Nat16; natToNat16 : Nat -> Nat16; natToNat32 : Nat -> Nat32; natToNat64 : Nat -> Nat64; natToNat8 : Nat -> Nat8; performanceCounter : Nat32 -> Nat64; popcntInt16 : Int16 -> Int16; popcntInt32 : Int32 -> Int32; popcntInt64 : Int64 -> Int64; popcntInt8 : Int8 -> Int8; popcntNat16 : Nat16 -> Nat16; popcntNat32 : Nat32 -> Nat32; popcntNat64 : Nat64 -> Nat64; popcntNat8 : Nat8 -> Nat8; principalOfActor : (actor {}) -> Principal; principalOfBlob : Blob -> Principal; pruneConfirmedDeadBlobs : [Blob] -> (); regionGrow : (Region, Nat64) -> Nat64; regionId : Region -> Nat; regionLoadBlob : (Region, Nat64, Nat) -> Blob; regionLoadFloat : (Region, Nat64) -> Float; regionLoadInt16 : (Region, Nat64) -> Int16; regionLoadInt32 : (Region, Nat64) -> Int32; regionLoadInt64 : (Region, Nat64) -> Int64; regionLoadInt8 : (Region, Nat64) -> Int8; regionLoadNat16 : (Region, Nat64) -> Nat16; regionLoadNat32 : (Region, Nat64) -> Nat32; regionLoadNat64 : (Region, Nat64) -> Nat64; regionLoadNat8 : (Region, Nat64) -> Nat8; regionNew : () -> Region; regionSize : Region -> Nat64; regionStoreBlob : (Region, Nat64, Blob) -> (); regionStoreFloat : (Region, Nat64, Float) -> (); regionStoreInt16 : (Region, Nat64, Int16) -> (); regionStoreInt32 : (Region, Nat64, Int32) -> (); regionStoreInt64 : (Region, Nat64, Int64) -> (); regionStoreInt8 : (Region, Nat64, Int8) -> (); regionStoreNat16 : (Region, Nat64, Nat16) -> (); regionStoreNat32 : (Region, Nat64, Nat32) -> (); regionStoreNat64 : (Region, Nat64, Nat64) -> (); regionStoreNat8 : (Region, Nat64, Nat8) -> (); replyDeadline : () -> Nat64; rootKey : () -> Blob; rts_callback_table_count : () -> Nat; rts_callback_table_size : () -> Nat; rts_collector_instructions : () -> Nat; rts_heap_size : () -> Nat; rts_lifetime_instructions : () -> Nat; rts_logical_stable_memory_size : () -> Nat; rts_max_live_size : () -> Nat; rts_max_stack_size : () -> Nat; rts_memory_size : () -> Nat; rts_mutator_instructions : () -> Nat; rts_reclaimed : () -> Nat; rts_stable_memory_size : () -> Nat; rts_total_allocation : () -> Nat; rts_upgrade_instructions : () -> Nat; rts_version : () -> Text; setCandidLimits : <system>{bias : Nat32; denominator : Nat32; numerator : Nat32} -> (); setCandidTypeLimits : <system>{bias : Nat32; scalar : Nat32} -> (); setCertifiedData : Blob -> (); setTimer : <system>(Nat64, Bool, () -> async ()) -> Nat; shiftLeft : (Nat, Nat32) -> Nat; shiftRight : (Nat, Nat32) -> Nat; sin : Float -> Float; stableMemoryGrow : Nat64 -> Nat64; stableMemoryLoadBlob : (Nat64, Nat) -> Blob; stableMemoryLoadFloat : Nat64 -> Float; stableMemoryLoadInt16 : Nat64 -> Int16; stableMemoryLoadInt32 : Nat64 -> Int32; stableMemoryLoadInt64 : Nat64 -> Int64; stableMemoryLoadInt8 : Nat64 -> Int8; stableMemoryLoadNat16 : Nat64 -> Nat16; stableMemoryLoadNat32 : Nat64 -> Nat32; stableMemoryLoadNat64 : Nat64 -> Nat64; stableMemoryLoadNat8 : Nat64 -> Nat8; stableMemorySize : () -> Nat64; stableMemoryStoreBlob : (Nat64, Blob) -> (); stableMemoryStoreFloat : (Nat64, Float) -> (); stableMemoryStoreInt16 : (Nat64, Int16) -> (); stableMemoryStoreInt32 : (Nat64, Int32) -> (); stableMemoryStoreInt64 : (Nat64, Int64) -> (); stableMemoryStoreInt8 : (Nat64, Int8) -> (); stableMemoryStoreNat16 : (Nat64, Nat16) -> (); stableMemoryStoreNat32 : (Nat64, Nat32) -> (); stableMemoryStoreNat64 : (Nat64, Nat64) -> (); stableMemoryStoreNat8 : (Nat64, Nat8) -> (); stableVarQuery : () -> shared query () -> async {size : Nat64}; tan : Float -> Float; textCompare : (Text, Text) -> Int8; textLowercase : Text -> Text; textUppercase : Text -> Text; time : () -> Nat64; trap : Text -> None; weakGet : <T>weak T -> ?T}
+      )
+    )
+  )
+  (LetD
+    (VarP file$issue-5767/Region.mo)
+    (BlockE
+      (LetD (VarP Prim) (VarE file$@prim))
+      (BlockE
+        (LetD (VarP new) (PrimE (DotPrim regionNew) (VarE Prim)))
+        (LetD
+          (VarP grow)
+          (FuncE
+            grow
+            Local
+            Returns
+            (params self newPages)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionGrow) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE newPages))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64)
+          (FuncE
+            loadNat64
+            Local
+            Returns
+            (params self offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE offset))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64Fn)
+          (FuncE
+            loadNat64Fn
+            Local
+            Returns
+            (params r offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE r) (VarE offset))
+            )
+          )
+        )
+        (NewObjE
+          Module
+          (new new)
+          (loadNat64Fn loadNat64Fn)
+          (loadNat64 loadNat64)
+          (grow grow)
+          module {grow : (Region, Nat64) -> Nat64; loadNat64 : (Region, Nat64) -> Nat64; loadNat64Fn : (Region, Nat64) -> Nat64; new : () -> Region}
+        )
+      )
+    )
+  )
+  (LetD (VarP Region) (VarE file$issue-5767/Region.mo))
+  (LetD
+    (VarP $__motoko_stable_var_info)
+    (FuncE
+      $__motoko_stable_var_info
+      Shared Query
+      Promises
+      (T1 Any)
+      {size : Nat64}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/0) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (PrimE
+              AssertPrim
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/0)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/0))
+              )
+            )
+          )
+          (LetD
+            (VarP $size/0)
+            (PrimE (ICStableSize memory {}) (NewObjE Memory memory {}))
+          )
+          (NewObjE Object (size $size/0) {size : Nat64})
+        )
+        T1
+      )
+    )
+  )
+  (LetD
+    (VarP $__motoko_runtime_information)
+    (FuncE
+      $__motoko_runtime_information
+      Shared Query
+      Promises
+      (T1 Any)
+      {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/1) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (IfE
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/1)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/1))
+              )
+              (PrimE TupPrim)
+              (PrimE
+                trap
+                (LitE
+                  (TextLit Unauthorized call of __motoko_runtime_information)
+                )
+              )
+            )
+          )
+          (LetD
+            (VarP $compilerVersion/0)
+            (LitE (TextLit 1.0.0-77-g4d85e5c86-dirty))
+          )
+          (LetD (VarP $garbageCollector/0) (LitE (TextLit default force)))
+          (LetD (VarP $rtsVersion/0) (PrimE rts_version))
+          (LetD (VarP $sanityChecks/0) (LitE (BoolLit false)))
+          (LetD (VarP $memorySize/0) (PrimE rts_memory_size))
+          (LetD (VarP $heapSize/0) (PrimE rts_heap_size))
+          (LetD (VarP $totalAllocation/0) (PrimE rts_total_allocation))
+          (LetD (VarP $reclaimed/0) (PrimE rts_reclaimed))
+          (LetD (VarP $maxLiveSize/0) (PrimE rts_max_live_size))
+          (LetD (VarP $stableMemorySize/0) (PrimE rts_stable_memory_size))
+          (LetD
+            (VarP $logicalStableMemorySize/0)
+            (PrimE rts_logical_stable_memory_size)
+          )
+          (LetD (VarP $maxStackSize/0) (PrimE rts_max_stack_size))
+          (LetD (VarP $callbackTableCount/0) (PrimE rts_callback_table_count))
+          (LetD (VarP $callbackTableSize/0) (PrimE rts_callback_table_size))
+          (NewObjE
+            Object
+            (callbackTableSize $callbackTableSize/0)
+            (callbackTableCount $callbackTableCount/0)
+            (maxStackSize $maxStackSize/0)
+            (logicalStableMemorySize $logicalStableMemorySize/0)
+            (stableMemorySize $stableMemorySize/0)
+            (maxLiveSize $maxLiveSize/0)
+            (reclaimed $reclaimed/0)
+            (totalAllocation $totalAllocation/0)
+            (heapSize $heapSize/0)
+            (memorySize $memorySize/0)
+            (sanityChecks $sanityChecks/0)
+            (rtsVersion $rtsVersion/0)
+            (garbageCollector $garbageCollector/0)
+            (compilerVersion $compilerVersion/0)
+            {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+          )
+        )
+        T1
+      )
+    )
+  )
+  (LetD (VarP A) (PrimE (SelfRef actor {go : shared () -> async ()})))
+  (VarD $state/0 ?(memory {}) (PrimE OptPrim (PrimE (ICStableRead memory {}))))
+  (LetD
+    (VarP $getState/0)
+    (FuncE
+      $getState/0
+      Local
+      Returns
+      memory {}
+      (SwitchE
+        (VarE! $state/0)
+        (case (LitP NullLit) (LoopE (PrimE TupPrim)))
+        (case (OptP (VarP $v/0)) (VarE $v/0))
+      )
+    )
+  )
+  (LetD
+    (VarP r)
+    (PrimE (CallPrim) (PrimE (DotPrim new) (VarE Region)) (PrimE TupPrim))
+  )
+  (LetD
+    WildP
+    (PrimE
+      (CallPrim)
+      (PrimE (DotPrim grow) (VarE Region))
+      (PrimE TupPrim (VarE r) (LitE (Nat64Lit 1)))
+    )
+  )
+  (LetD
+    (VarP kermit)
+    (FuncE
+      kermit
+      Local
+      Returns
+      ()
+      (BlockE
+        (LetD
+          (VarP w1)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w2)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w3)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64Fn) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (PrimE TupPrim)
+      )
+    )
+  )
+  (LetD
+    (VarP go)
+    (FuncE
+      go
+      Shared
+      Promises
+      ($ Any)
+      ()
+      (AsyncE ($go Any) (PrimE (CallPrim) (VarE kermit) (PrimE TupPrim)) $)
+    )
+  )
+  (LetD WildP (AssignE (VarLE $state/0) (LitE NullLit)))
+  (go go)
+  (__motoko_runtime_information $__motoko_runtime_information)
+  (__motoko_stable_var_info $__motoko_stable_var_info)
+  (System
+    (Pre (PrimE (ICStableWrite memory {})))
+    (Post (PrimE TupPrim))
+    (Heartbeat (PrimE TupPrim))
+    (Timer
+      (BlockE
+        (LetD WildP (PrimE (CallPrim ()) (VarE @timer_helper) (PrimE TupPrim)))
+        (PrimE TupPrim)
+      )
+    )
+    (Inspect (PrimE TupPrim))
+    (LowMemory (PrimE TupPrim))
+    (StableRecord (NewObjE Memory memory {}))
+    (StableType memory {} memory {})
+  )
+  actor {go : shared () -> async ()}
+)
+(ActorU
+  (VarD @cycles Nat (LitE (NatLit 0)))
+  (VarD @timeout ?Nat32 (LitE NullLit))
+  (LetD
+    (VarP @add_cycles)
+    (FuncE
+      @add_cycles
+      Local
+      Returns
+      ($ Any)
+      ()
+      (BlockE
+        (LetD (VarP cycles) (VarE! @cycles))
+        (LetD WildP (PrimE (CallPrim) (VarE @reset_cycles) (PrimE TupPrim)))
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE (RelPrim Nat EqOp) (VarE cycles) (LitE (NatLit 0)))
+              (LitE (BoolLit false))
+            )
+            (PrimE SystemCyclesAddPrim (VarE cycles))
+            (PrimE TupPrim)
+          )
+        )
+        (SwitchE
+          (VarE! @timeout)
+          (case
+            (OptP (VarP timeout))
+            (BlockE
+              (LetD WildP (AssignE (VarLE @timeout) (LitE NullLit)))
+              (PrimE SystemTimeoutSetPrim (VarE timeout))
+            )
+          )
+          (case (LitP NullLit) (PrimE TupPrim))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @reset_cycles)
+    (FuncE
+      @reset_cycles
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @cycles) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @immut_array_get)
+    (FuncE
+      @immut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-45.49
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_get)
+    (FuncE
+      @mut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-46.51
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_size)
+    (FuncE
+      @immut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-47.51 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_size)
+    (FuncE
+      @mut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-48.53 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_put)
+    (FuncE
+      @mut_array_put
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      (Nat, A) -> ()
+      (FuncE
+        @anon-func-49.57
+        Local
+        Returns
+        (params n x)
+        ()
+        (AssignE (IdxLE (VarE xs) (VarE n)) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_keys)
+    (FuncE
+      @immut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-50.58
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_keys)
+    (FuncE
+      @mut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-55.60
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_vals)
+    (FuncE
+      @immut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-60.56
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_vals)
+    (FuncE
+      @mut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-67.58
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_size)
+    (FuncE
+      @blob_size
+      Local
+      Returns
+      (params b)
+      () -> Nat
+      (FuncE @anon-func-74.41 Local Returns Nat (PrimE blob_size (VarE b)))
+    )
+  )
+  (LetD
+    (VarP @blob_keys)
+    (FuncE
+      @blob_keys
+      Local
+      Returns
+      (params b)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-75.48
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE blob_size (VarE b)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_get)
+    (FuncE
+      @blob_get
+      Local
+      Returns
+      (params b)
+      Nat -> Nat8
+      (FuncE
+        @anon-func-80.42
+        Local
+        Returns
+        (params n)
+        Nat8
+        (PrimE IdxBlobPrim (VarE b) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_vals)
+    (FuncE
+      @blob_vals
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Nat8>
+      (FuncE
+        @anon-func-81.50
+        Local
+        Returns
+        @Iter<Nat8>
+        (BlockE
+          (LetD (VarP i) (PrimE blob_vals_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat8
+              (IfE
+                (PrimE blob_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE blob_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat8})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_size)
+    (FuncE
+      @text_size
+      Local
+      Returns
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-88.42 Local Returns Nat (PrimE text_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @text_chars)
+    (FuncE
+      @text_chars
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Char>
+      (FuncE
+        @anon-func-89.51
+        Local
+        Returns
+        @Iter<Char>
+        (BlockE
+          (LetD (VarP i) (PrimE text_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Char
+              (IfE
+                (PrimE text_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE text_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Char})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_num)
+    (FuncE
+      @text_of_num
+      Local
+      Returns
+      (params x base sep digits)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit )))
+        (VarD n Nat (VarE x))
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat EqOp) (VarE! n) (LitE (NatLit 0)))
+            (PrimE RetPrim (LitE (TextLit 0)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD
+          WildP
+          (LabelE
+            $done/2
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat GtOp) (VarE! n) (LitE (NatLit 0)))
+                (BlockE
+                  (LetD
+                    (VarP rem)
+                    (PrimE (BinPrim Nat ModOp) (VarE! n) (VarE base))
+                  )
+                  (LetD
+                    WildP
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat GtOp) (VarE sep) (LitE (NatLit 0)))
+                        (PrimE (RelPrim Nat EqOp) (VarE! i) (VarE sep))
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE text)
+                            (PrimE
+                              (BinPrim Text CatOp)
+                              (LitE (TextLit _))
+                              (VarE! text)
+                            )
+                          )
+                        )
+                        (AssignE (VarLE i) (LitE (NatLit 0)))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE text)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (PrimE (CallPrim) (VarE digits) (VarE rem))
+                        (VarE! text)
+                      )
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE n)
+                      (PrimE (BinPrim Nat DivOp) (VarE! n) (VarE base))
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/2) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (VarE! text)
+      )
+    )
+  )
+  (LetD
+    (VarP @left_pad)
+    (FuncE
+      @left_pad
+      Local
+      Returns
+      (params pad char t)
+      Text
+      (IfE
+        (PrimE (RelPrim Nat GtOp) (VarE pad) (PrimE text_len (VarE t)))
+        (BlockE
+          (VarD
+            i
+            Nat
+            (PrimE (BinPrim Nat SubOp) (VarE pad) (PrimE text_len (VarE t)))
+          )
+          (VarD text Text (VarE t))
+          (LetD
+            WildP
+            (LabelE
+              $done/3
+              ()
+              (LoopE
+                (IfE
+                  (PrimE (RelPrim Nat GtOp) (VarE! i) (LitE (NatLit 0)))
+                  (BlockE
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE text)
+                        (PrimE (BinPrim Text CatOp) (VarE char) (VarE! text))
+                      )
+                    )
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat SubOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE (BreakPrim $done/3) (PrimE TupPrim))
+                )
+              )
+            )
+          )
+          (VarE! text)
+        )
+        (VarE t)
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_dec)
+    (FuncE
+      @digits_dec
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE (BinPrim Int AddOp) (VarE x) (LitE (IntLit 48)))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat)
+    (FuncE
+      @text_of_Nat
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_num)
+        (PrimE
+          TupPrim
+          (VarE x)
+          (LitE (NatLit 10))
+          (LitE (NatLit 3))
+          (VarE @digits_dec)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int)
+    (FuncE
+      @text_of_Int
+      Local
+      Returns
+      (params x)
+      Text
+      (IfE
+        (PrimE (RelPrim Int EqOp) (VarE x) (LitE (IntLit 0)))
+        (LitE (TextLit 0))
+        (PrimE
+          (BinPrim Text CatOp)
+          (IfE
+            (PrimE (RelPrim Int LtOp) (VarE x) (LitE (IntLit 0)))
+            (LitE (TextLit -))
+            (LitE (TextLit +))
+          )
+          (PrimE (CallPrim) (VarE @text_of_Nat) (PrimE abs (VarE x)))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_hex)
+    (FuncE
+      @digits_hex
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE
+              (BinPrim Int AddOp)
+              (VarE x)
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE x) (LitE (NatLit 10)))
+                (LitE (IntLit 48))
+                (LitE (IntLit 55))
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @int64ToInt)
+    (FuncE
+      @int64ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int64 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int32ToInt)
+    (FuncE
+      @int32ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int32 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int16ToInt)
+    (FuncE
+      @int16ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int16 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int8ToInt)
+    (FuncE
+      @int8ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int8 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat64ToNat)
+    (FuncE
+      @nat64ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat64 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat32ToNat)
+    (FuncE
+      @nat32ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat32 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat16ToNat)
+    (FuncE
+      @nat16ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat16 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat8ToNat)
+    (FuncE
+      @nat8ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat8 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat8)
+    (FuncE
+      @text_of_Nat8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat8ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat16)
+    (FuncE
+      @text_of_Nat16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat16ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat32)
+    (FuncE
+      @text_of_Nat32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat32ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat64)
+    (FuncE
+      @text_of_Nat64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat64ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int8)
+    (FuncE
+      @text_of_Int8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int8ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int16)
+    (FuncE
+      @text_of_Int16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int16ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int32)
+    (FuncE
+      @text_of_Int32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int32ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int64)
+    (FuncE
+      @text_of_Int64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int64ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Float)
+    (FuncE
+      @text_of_Float
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE Float->Text (VarE x))
+    )
+  )
+  (LetD
+    (VarP @text_of_Bool)
+    (FuncE
+      @text_of_Bool
+      Local
+      Returns
+      (params b)
+      Text
+      (IfE (VarE b) (LitE (TextLit true)) (LitE (TextLit false)))
+    )
+  )
+  (LetD
+    (VarP @text_of_Text)
+    (FuncE
+      @text_of_Text
+      Local
+      Returns
+      (params t)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE (BinPrim Text CatOp) (LitE (TextLit ")) (VarE t))
+        (LitE (TextLit "))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Char)
+    (FuncE
+      @text_of_Char
+      Local
+      Returns
+      (params c)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE
+          (BinPrim Text CatOp)
+          (LitE (TextLit '))
+          (PrimE conv_Char_Text (VarE c))
+        )
+        (LitE (TextLit '))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Blob)
+    (FuncE
+      @text_of_Blob
+      Local
+      Returns
+      (params blob)
+      Text
+      (BlockE
+        (VarD t Text (LitE (TextLit ")))
+        (LetD
+          WildP
+          (BlockE
+            (LetD
+              (VarP $nxt/0)
+              (PrimE
+                (DotPrim next)
+                (PrimE
+                  (CallPrim)
+                  (PrimE (CallPrim) (VarE @blob_vals) (VarE blob))
+                  (PrimE TupPrim)
+                )
+              )
+            )
+            (LabelE
+              $done/4
+              ()
+              (LoopE
+                (SwitchE
+                  (PrimE (CallPrim) (VarE $nxt/0) (PrimE TupPrim))
+                  (case
+                    (LitP NullLit)
+                    (PrimE (BreakPrim $done/4) (PrimE TupPrim))
+                  )
+                  (case
+                    (OptP (VarP b))
+                    (AssignE
+                      (VarLE t)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (VarE! t)
+                        (PrimE
+                          (BinPrim Text CatOp)
+                          (LitE (TextLit \))
+                          (PrimE
+                            (CallPrim)
+                            (VarE @left_pad)
+                            (PrimE
+                              TupPrim
+                              (LitE (NatLit 2))
+                              (LitE (TextLit 0))
+                              (PrimE
+                                (CallPrim)
+                                (VarE @text_of_num)
+                                (PrimE
+                                  TupPrim
+                                  (PrimE (CallPrim) (VarE @nat8ToNat) (VarE b))
+                                  (LitE (NatLit 16))
+                                  (LitE (NatLit 0))
+                                  (VarE @digits_hex)
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE t)
+            (PrimE (BinPrim Text CatOp) (VarE! t) (LitE (TextLit ")))
+          )
+        )
+        (PrimE RetPrim (VarE! t))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_has_parens)
+    (FuncE
+      @text_has_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case (OptP (LitP (CharLit 40))) (LitE (BoolLit true)))
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_needs_parens)
+    (FuncE
+      @text_needs_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case
+          (OptP
+            (AltP
+              (AltP
+                (AltP (LitP (CharLit 43)) (LitP (CharLit 45)))
+                (LitP (CharLit 63))
+              )
+              (LitP (CharLit 35))
+            )
+          )
+          (LitE (BoolLit true))
+        )
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_option)
+    (FuncE
+      @text_of_option
+      Local
+      Returns
+      (T Any)
+      (params f x)
+      Text
+      (SwitchE
+        (VarE x)
+        (case
+          (OptP (VarP y))
+          (BlockE
+            (LetD (VarP fy) (PrimE (CallPrim) (VarE f) (VarE y)))
+            (IfE
+              (PrimE (CallPrim) (VarE @text_needs_parens) (VarE fy))
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE (BinPrim Text CatOp) (LitE (TextLit ?()) (VarE fy))
+                (LitE (TextLit )))
+              )
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit ?)) (VarE fy))
+            )
+          )
+        )
+        (case (LitP NullLit) (LitE (TextLit null)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_variant)
+    (FuncE
+      @text_of_variant
+      Local
+      Returns
+      (T Any)
+      (params l f x)
+      Text
+      (BlockE
+        (LetD (VarP fx) (PrimE (CallPrim) (VarE f) (VarE x)))
+        (IfE
+          (PrimE (RelPrim Text EqOp) (VarE fx) (LitE (TextLit ())))
+          (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+          (IfE
+            (PrimE (CallPrim) (VarE @text_has_parens) (VarE fx))
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+              (VarE fx)
+            )
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE
+                  (BinPrim Text CatOp)
+                  (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+                  (LitE (TextLit ())
+                )
+                (VarE fx)
+              )
+              (LitE (TextLit )))
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array)
+    (FuncE
+      @text_of_array
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/0) (VarE xs))
+            (LetD (VarP $last/0) (PrimE GetLastArrayOffset (VarE $arr/0)))
+            (VarD $indx/0 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/0) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/5
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/0) (VarE! $indx/0))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (AssignE (VarLE first) (LitE (BoolLit false)))
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/0) (VarE $last/0))
+                      (PrimE (BreakPrim $done/5) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/0)
+                        (PrimE NextArrayOffset (VarE! $indx/0))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array_mut)
+    (FuncE
+      @text_of_array_mut
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [var)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/1) (VarE xs))
+            (LetD (VarP $last/1) (PrimE GetLastArrayOffset (VarE $arr/1)))
+            (VarD $indx/1 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/1) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/6
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/1) (VarE! $indx/1))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE (VarLE first) (LitE (BoolLit false)))
+                              )
+                              (AssignE
+                                (VarLE text)
+                                (PrimE
+                                  (BinPrim Text CatOp)
+                                  (VarE! text)
+                                  (LitE (TextLit  ))
+                                )
+                              )
+                            )
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/1) (VarE $last/1))
+                      (PrimE (BreakPrim $done/6) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/1)
+                        (PrimE NextArrayOffset (VarE! $indx/1))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @equal_array)
+    (FuncE
+      @equal_array
+      Local
+      Returns
+      (T Any)
+      (params eq a b)
+      Bool
+      (BlockE
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE
+                (RelPrim Nat EqOp)
+                (PrimE array_len (VarE a))
+                (PrimE array_len (VarE b))
+              )
+              (LitE (BoolLit false))
+            )
+            (PrimE RetPrim (LitE (BoolLit false)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD (VarP s) (PrimE array_len (VarE a)))
+        (LetD
+          WildP
+          (LabelE
+            $done/7
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE! i) (VarE s))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE eq)
+                          (PrimE
+                            TupPrim
+                            (PrimE IdxPrim (VarE a) (VarE! i))
+                            (PrimE IdxPrim (VarE b) (VarE! i))
+                          )
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (PrimE RetPrim (LitE (BoolLit false)))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/7) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (PrimE RetPrim (LitE (BoolLit true)))
+      )
+    )
+  )
+  (VarD @refund Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @reset_refund)
+    (FuncE
+      @reset_refund
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @refund) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @getSystemRefund)
+    (FuncE
+      @getSystemRefund
+      Local
+      Returns
+      @Refund
+      (PrimE RetPrim (PrimE SystemCyclesRefundedPrim))
+    )
+  )
+  (LetD (VarP @cleanup) (FuncE @cleanup Local Returns () (PrimE TupPrim)))
+  (LetD
+    (VarP @new_async)
+    (FuncE
+      @new_async
+      Local
+      Returns
+      (T Any)
+      (@Async<T>, @Cont<T>, @Cont<Error>, @CleanCont)
+      (BlockE
+        (LetD
+          (VarP w_null)
+          (FuncE
+            @anon-func-293.16
+            Local
+            Returns
+            (params r t)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP r_null)
+          (FuncE
+            @anon-func-294.16
+            Local
+            Returns
+            (params $ignored0/0)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (VarD result ?@Result<T> (LitE NullLit))
+        (VarD ws (@Refund, T) -> () (VarE w_null))
+        (VarD rs Error -> () (VarE r_null))
+        (LetD
+          (VarP getRefund)
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE (RelPrim Nat EqOp) (VarE! @cycles) (LitE (NatLit 0)))
+            (LitE (BoolLit false))
+          )
+        )
+        (LetD
+          (VarP fulfill)
+          (FuncE
+            fulfill
+            Local
+            Returns
+            (params t)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP refund)
+                    (IfE
+                      (VarE getRefund)
+                      (PrimE (CallPrim) (VarE @getSystemRefund) (PrimE TupPrim))
+                      (LitE (NatLit 0))
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE
+                        OptPrim
+                        (PrimE (TagE ok) (PrimE TupPrim (VarE refund) (VarE t)))
+                      )
+                    )
+                  )
+                  (LetD (VarP ws_) (VarE! ws))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE
+                    (CallPrim)
+                    (VarE ws_)
+                    (PrimE TupPrim (VarE refund) (VarE t))
+                  )
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (LetD
+          (VarP fail)
+          (FuncE
+            fail
+            Local
+            Returns
+            (params e)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE OptPrim (PrimE (TagE error) (VarE e)))
+                    )
+                  )
+                  (LetD (VarP rs_) (VarE! rs))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE (CallPrim) (VarE rs_) (VarE e))
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (VarD cleanup () -> () (VarE @cleanup))
+        (LetD
+          (VarP enqueue)
+          (FuncE
+            enqueue
+            Local
+            Returns
+            (params k r b)
+            {#schedule : () -> (); #suspend}
+            (BlockE
+              (LetD WildP (AssignE (VarLE cleanup) (VarE b)))
+              (SwitchE
+                (VarE! result)
+                (case
+                  (LitP NullLit)
+                  (BlockE
+                    (LetD (VarP ws_) (VarE! ws))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE ws)
+                        (FuncE
+                          @anon-func-337.15
+                          Local
+                          Returns
+                          (params r t)
+                          ()
+                          (BlockE
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE ws_)
+                                (PrimE TupPrim (VarE r) (VarE t))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                            (PrimE (CallPrim) (VarE k) (VarE t))
+                          )
+                        )
+                      )
+                    )
+                    (LetD (VarP rs_) (VarE! rs))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE rs)
+                        (FuncE
+                          @anon-func-344.15
+                          Local
+                          Returns
+                          (params e)
+                          ()
+                          (BlockE
+                            (LetD WildP (PrimE (CallPrim) (VarE rs_) (VarE e)))
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_refund)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (PrimE (CallPrim) (VarE r) (VarE e))
+                          )
+                        )
+                      )
+                    )
+                    (PrimE (TagE suspend) (PrimE TupPrim))
+                  )
+                )
+                (case
+                  (OptP (TagP ok (TupP (VarP r) (VarP t))))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-353.19
+                      Local
+                      Returns
+                      ()
+                      (BlockE
+                        (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                        (PrimE (CallPrim) (VarE k) (VarE t))
+                      )
+                    )
+                  )
+                )
+                (case
+                  (OptP (TagP error (VarP e)))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-356.19
+                      Local
+                      Returns
+                      ()
+                      (PrimE (CallPrim) (VarE r) (VarE e))
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (VarE enqueue)
+          (VarE fulfill)
+          (VarE fail)
+          (FuncE
+            @anon-func-361.28
+            Local
+            Returns
+            ()
+            (PrimE (CallPrim) (VarE! cleanup) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD (VarP @ManagementCanister) (NewObjE Module module {}))
+  (LetD
+    (VarP @ic00)
+    (PrimE
+      (ActorOfIdBlob
+        actor {create_canister : shared {sender_canister_version : ?Nat64; settings : ?canister_settings} -> async {canister_id : Principal}; install_code : shared {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module} -> async ()}
+      )
+      (PrimE BlobOfIcUrl (LitE (TextLit aaaaa-aa)))
+    )
+  )
+  (LetD
+    (VarP @install_actor_helper)
+    (FuncE
+      @install_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params install_arg enhanced_orthogonal_persistence wasm_module arg)
+      async*<$> Principal
+      (AsyncE*
+        ($@anon-async*-416.24 Any)
+        (BlockE
+          (LetD
+            (TupP (VarP mode) (VarP canister_id))
+            (SwitchE
+              (VarE install_arg)
+              (case
+                (TagP new (VarP settings))
+                (BlockE
+                  (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+                  (LetD
+                    (VarP accepted)
+                    (PrimE SystemCyclesAcceptPrim (VarE available))
+                  )
+                  (LetD
+                    (VarP sender_canister_version)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE @cycles)
+                      (PrimE
+                        (BinPrim Nat AddOp)
+                        (VarE! @cycles)
+                        (VarE accepted)
+                      )
+                    )
+                  )
+                  (LetD
+                    (ObjP (canister_id (VarP canister_id)))
+                    (PrimE
+                      AwaitPrim
+                      (PrimE
+                        (CallPrim $@anon-async*-416.24)
+                        (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                        (BlockE
+                          (LetD (VarP $base/0) (VarE settings))
+                          (LetD
+                            (VarP $settings/0)
+                            (PrimE (DotPrim settings) (VarE $base/0))
+                          )
+                          (NewObjE
+                            Object
+                            (settings $settings/0)
+                            (sender_canister_version sender_canister_version)
+                            {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE install) (PrimE TupPrim))
+                    (VarE canister_id)
+                  )
+                )
+              )
+              (case
+                (TagP install (VarP principal1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE install) (PrimE TupPrim))
+                  (VarE principal1)
+                )
+              )
+              (case
+                (TagP reinstall (VarP actor1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE reinstall) (PrimE TupPrim))
+                  (PrimE principalOfActor (VarE actor1))
+                )
+              )
+              (case
+                (TagP upgrade (VarP actor2))
+                (BlockE
+                  (LetD
+                    (VarP wasm_memory_persistence)
+                    (IfE
+                      (VarE enhanced_orthogonal_persistence)
+                      (PrimE OptPrim (PrimE (TagE keep) (PrimE TupPrim)))
+                      (LitE NullLit)
+                    )
+                  )
+                  (LetD
+                    (VarP upgradeOptions)
+                    (NewObjE
+                      Object
+                      (wasm_memory_persistence wasm_memory_persistence)
+                      {wasm_memory_persistence : ?{#keep}}
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE actor2))
+                  )
+                )
+              )
+              (case
+                (TagP
+                  upgrade_with_persistence
+                  (ObjP
+                    (wasm_memory_persistence (VarP wasm_memory_persistence))
+                    (canister (VarP canister))
+                  )
+                )
+                (BlockE
+                  (LetD
+                    (VarP upgradeOptions)
+                    (BlockE
+                      (LetD
+                        (VarP $wasm_memory_persistence/0)
+                        (PrimE OptPrim (VarE wasm_memory_persistence))
+                      )
+                      (NewObjE
+                        Object
+                        (wasm_memory_persistence $wasm_memory_persistence/0)
+                        {wasm_memory_persistence : ?{#keep; #replace}}
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE canister))
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async*-416.24)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD
+                    (VarP $sender_canister_version/0)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/0)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode mode)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @create_actor_helper)
+    (FuncE
+      @create_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params wasm_module arg)
+      async<$> Principal
+      (AsyncE
+        ($@anon-async-464.79 Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD (VarP accepted) (PrimE SystemCyclesAcceptPrim (VarE available)))
+          (LetD
+            (VarP sender_canister_version)
+            (PrimE OptPrim (PrimE canister_version))
+          )
+          (LetD
+            WildP
+            (AssignE
+              (VarLE @cycles)
+              (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE accepted))
+            )
+          )
+          (LetD
+            (ObjP (canister_id (VarP canister_id)))
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $settings/1) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (sender_canister_version sender_canister_version)
+                    (settings $settings/1)
+                    {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $mode/0) (PrimE (TagE install) (PrimE TupPrim)))
+                  (LetD
+                    (VarP $sender_canister_version/1)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/1)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode $mode/0)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_raw)
+    (FuncE
+      @call_raw
+      Local
+      Returns
+      ($ Any)
+      (params p m a)
+      async<$> Blob
+      (AsyncE
+        ($@call_raw Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD
+            WildP
+            (IfE
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE (RelPrim Nat EqOp) (VarE available) (LitE (NatLit 0)))
+                (LitE (BoolLit false))
+              )
+              (AssignE
+                (VarLE @cycles)
+                (PrimE SystemCyclesAcceptPrim (VarE available))
+              )
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE AwaitPrim (PrimE call_raw (VarE p) (VarE m) (VarE a)))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_succeeded)
+    (FuncE
+      @call_succeeded
+      Local
+      Returns
+      Bool
+      (PrimE
+        (RelPrim Nat32 EqOp)
+        (PrimE call_perform_status)
+        (LitE (Nat32Lit 0))
+      )
+    )
+  )
+  (LetD
+    (VarP @call_error)
+    (FuncE
+      @call_error
+      Local
+      Returns
+      Error
+      (BlockE
+        (LetD (VarP status) (PrimE call_perform_status))
+        (LetD (VarP message) (PrimE call_perform_message))
+        (LetD
+          (VarP code)
+          (PrimE
+            (TagE call_error)
+            (NewObjE Object (err_code status) {err_code : Nat32})
+          )
+        )
+        (PrimE
+          (CastPrim ({#call_error : {err_code : Nat32}}, Text) Error)
+          (PrimE TupPrim (VarE code) (VarE message))
+        )
+      )
+    )
+  )
+  (VarD @timers ?@Node (LitE NullLit))
+  (LetD
+    (VarP @prune)
+    (FuncE
+      @prune
+      Local
+      Returns
+      (params n)
+      ?@Node
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE NullLit))
+        (case
+          (OptP (VarP n))
+          (IfE
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+              (LitE (Nat64Lit 0))
+            )
+            (PrimE (CallPrim) (VarE @prune) (PrimE (DotPrim post) (VarE n)))
+            (PrimE
+              OptPrim
+              (BlockE
+                (LetD (VarP $base/1) (VarE n))
+                (LetD
+                  (VarP $pre/0)
+                  (PrimE
+                    (CallPrim)
+                    (VarE @prune)
+                    (PrimE (DotPrim pre) (VarE n))
+                  )
+                )
+                (LetD (VarP $delay/0) (PrimE (DotPrim delay) (VarE $base/1)))
+                (LetD (VarP $expire/0) (PrimE (DotPrim expire) (VarE $base/1)))
+                (LetD (VarP $id/0) (PrimE (DotPrim id) (VarE $base/1)))
+                (LetD (VarP $job/0) (PrimE (DotPrim job) (VarE $base/1)))
+                (LetD (VarP $post/0) (PrimE (DotPrim post) (VarE $base/1)))
+                (NewObjE
+                  Object
+                  (post $post/0)
+                  (job $job/0)
+                  (id $id/0)
+                  (expire $expire/0)
+                  (delay $delay/0)
+                  (pre $pre/0)
+                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @nextExpiration)
+    (FuncE
+      @nextExpiration
+      Local
+      Returns
+      (params n)
+      Nat64
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE (Nat64Lit 0)))
+        (case
+          (OptP (VarP n))
+          (BlockE
+            (LetD
+              (VarP pivot)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+            )
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat64 EqOp) (VarE pivot) (LitE (Nat64Lit 0)))
+                (PrimE
+                  RetPrim
+                  (PrimE
+                    (CallPrim)
+                    (VarE @nextExpiration)
+                    (PrimE (DotPrim post) (VarE n))
+                  )
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              (VarP exp)
+              (PrimE
+                (CallPrim)
+                (VarE @nextExpiration)
+                (PrimE (DotPrim pre) (VarE n))
+              )
+            )
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (VarE pivot)
+              (VarE exp)
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @timer_helper)
+    (FuncE
+      @timer_helper
+      Local
+      Returns
+      ($ Any)
+      async<$> ()
+      (AsyncE
+        ($@timer_helper Any)
+        (BlockE
+          (LetD
+            (VarP Array_init)
+            (FuncE
+              Array_init
+              Local
+              Returns
+              (T Any)
+              (params len x)
+              [var T]
+              (PrimE Array.init (VarE len) (VarE x))
+            )
+          )
+          (LetD (VarP now) (PrimE SystemTimePrim))
+          (VarD gathered Nat (LitE (NatLit 0)))
+          (LetD
+            (VarP thunks)
+            (PrimE
+              (CallPrim ?(() -> async ()))
+              (VarE Array_init)
+              (PrimE TupPrim (LitE (NatLit 10)) (LitE NullLit))
+            )
+          )
+          (LetD
+            (VarP gatherExpired)
+            (FuncE
+              gatherExpired
+              Local
+              Returns
+              (params n)
+              ()
+              (SwitchE
+                (VarE n)
+                (case (LitP NullLit) (PrimE TupPrim))
+                (case
+                  (OptP (VarP n))
+                  (BlockE
+                    (LetD
+                      (VarP pivot)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (LetD
+                      WildP
+                      (IfE
+                        (PrimE
+                          (RelPrim Nat64 GtOp)
+                          (VarE pivot)
+                          (LitE (Nat64Lit 0))
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim pre) (VarE n))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat64 LeOp) (VarE pivot) (VarE now))
+                        (PrimE
+                          (RelPrim Nat LtOp)
+                          (VarE! gathered)
+                          (PrimE array_len (VarE thunks))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat64 GtOp)
+                              (VarE pivot)
+                              (LitE (Nat64Lit 0))
+                            )
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE
+                                  (IdxLE (VarE thunks) (VarE! gathered))
+                                  (PrimE OptPrim (PrimE (DotPrim job) (VarE n)))
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (SwitchE
+                                  (PrimE (DotPrim delay) (VarE n))
+                                  (case
+                                    (AltP
+                                      (LitP NullLit)
+                                      (OptP (LitP (Nat64Lit 0)))
+                                    )
+                                    (AssignE
+                                      (IdxLE
+                                        (PrimE (DotPrim expire) (VarE n))
+                                        (LitE (NatLit 0))
+                                      )
+                                      (LitE (Nat64Lit 0))
+                                    )
+                                  )
+                                  (case
+                                    (OptP (VarP delay))
+                                    (BlockE
+                                      (LetD
+                                        (VarP expire)
+                                        (PrimE
+                                          (BinPrim Nat64 AddOp)
+                                          (VarE pivot)
+                                          (PrimE
+                                            (BinPrim Nat64 MulOp)
+                                            (VarE delay)
+                                            (PrimE
+                                              (BinPrim Nat64 AddOp)
+                                              (LitE (Nat64Lit 1))
+                                              (PrimE
+                                                (BinPrim Nat64 DivOp)
+                                                (PrimE
+                                                  (BinPrim Nat64 SubOp)
+                                                  (VarE now)
+                                                  (VarE pivot)
+                                                )
+                                                (VarE delay)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE
+                                            (PrimE (DotPrim expire) (VarE n))
+                                            (LitE (NatLit 0))
+                                          )
+                                          (LitE (Nat64Lit 0))
+                                        )
+                                      )
+                                      (LetD
+                                        (VarP reinsert)
+                                        (FuncE
+                                          reinsert
+                                          Local
+                                          Returns
+                                          (params m)
+                                          @Node
+                                          (SwitchE
+                                            (VarE m)
+                                            (case
+                                              (LitP NullLit)
+                                              (BlockE
+                                                (LetD (VarP $base/2) (VarE n))
+                                                (LetD
+                                                  (VarP $expire/1)
+                                                  (PrimE
+                                                    (ArrayPrim Var Nat64)
+                                                    (VarE expire)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $pre/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $post/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $delay/1)
+                                                  (PrimE
+                                                    (DotPrim delay)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $id/1)
+                                                  (PrimE
+                                                    (DotPrim id)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $job/1)
+                                                  (PrimE
+                                                    (DotPrim job)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (NewObjE
+                                                  Object
+                                                  (job $job/1)
+                                                  (id $id/1)
+                                                  (delay $delay/1)
+                                                  (post $post/1)
+                                                  (pre $pre/1)
+                                                  (expire $expire/1)
+                                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                )
+                                              )
+                                            )
+                                            (case
+                                              (OptP (VarP m))
+                                              (BlockE
+                                                (LetD
+                                                  WildP
+                                                  (PrimE
+                                                    AssertPrim
+                                                    (PrimE
+                                                      (RelPrim Bool EqOp)
+                                                      (PrimE
+                                                        (RelPrim Nat64 EqOp)
+                                                        (PrimE
+                                                          IdxPrim
+                                                          (PrimE
+                                                            (DotPrim expire)
+                                                            (VarE m)
+                                                          )
+                                                          (LitE (NatLit 0))
+                                                        )
+                                                        (LitE (Nat64Lit 0))
+                                                      )
+                                                      (LitE (BoolLit false))
+                                                    )
+                                                  )
+                                                )
+                                                (IfE
+                                                  (PrimE
+                                                    (RelPrim Nat64 LtOp)
+                                                    (VarE expire)
+                                                    (PrimE
+                                                      IdxPrim
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE m)
+                                                      )
+                                                      (LitE (NatLit 0))
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/4)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/3)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim pre)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/3)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/3)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/3)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/3)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/3)
+                                                      (PrimE
+                                                        (DotPrim post)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (post $post/3)
+                                                      (job $job/3)
+                                                      (id $id/3)
+                                                      (expire $expire/3)
+                                                      (delay $delay/3)
+                                                      (pre $pre/3)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/3)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/2)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim post)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/2)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/2)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/2)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/2)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/2)
+                                                      (PrimE
+                                                        (DotPrim pre)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (pre $pre/2)
+                                                      (job $job/2)
+                                                      (id $id/2)
+                                                      (expire $expire/2)
+                                                      (delay $delay/2)
+                                                      (post $post/2)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (AssignE
+                                        (VarLE @timers)
+                                        (PrimE
+                                          OptPrim
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE reinsert)
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE @prune)
+                                              (VarE! @timers)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                              (AssignE
+                                (VarLE gathered)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! gathered)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE TupPrim)
+                          )
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim post) (VarE n))
+                        )
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (LetD WildP (PrimE (CallPrim) (VarE gatherExpired) (VarE! @timers)))
+          (LetD
+            (VarP exp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+          )
+          (LetD
+            WildP
+            (BlockE
+              (LetD WildP (PrimE global_timer_set (VarE exp)))
+              (PrimE TupPrim)
+            )
+          )
+          (LetD
+            WildP
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (AssignE (VarLE @timers) (LitE NullLit))
+              (PrimE TupPrim)
+            )
+          )
+          (VarD failed Nat64 (LitE (Nat64Lit 0)))
+          (LetD
+            (VarP reinsert)
+            (FuncE
+              reinsert
+              Local
+              Returns
+              (params job)
+              ()
+              (BlockE
+                (LetD
+                  WildP
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 EqOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 0))
+                    )
+                    (BlockE
+                      (LetD
+                        WildP
+                        (AssignE
+                          (VarLE @timers)
+                          (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+                        )
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (PrimE global_timer_set (LitE (Nat64Lit 1)))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (PrimE TupPrim)
+                  )
+                )
+                (LetD
+                  WildP
+                  (AssignE
+                    (VarLE failed)
+                    (PrimE
+                      (BinPrim Nat64 AddOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 1))
+                    )
+                  )
+                )
+                (AssignE
+                  (VarLE @timers)
+                  (PrimE
+                    OptPrim
+                    (SwitchE
+                      (VarE! @timers)
+                      (case
+                        (OptP
+                          (ObjP
+                            (id (LitP (IntLit 0)))
+                            (pre (VarP pre))
+                            (post (VarP post))
+                            (job (VarP j))
+                            (expire (VarP expire))
+                            (delay (VarP delay))
+                          )
+                        )
+                        (BlockE
+                          (LetD
+                            (VarP $expire/4)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/4) (LitE (NatLit 0)))
+                          (LetD
+                            (VarP $pre/4)
+                            (PrimE
+                              OptPrim
+                              (BlockE
+                                (LetD (VarP $id/5) (LitE (NatLit 0)))
+                                (LetD (VarP $post/4) (LitE NullLit))
+                                (NewObjE
+                                  Object
+                                  (job j)
+                                  (delay delay)
+                                  (post $post/4)
+                                  (pre pre)
+                                  (expire expire)
+                                  (id $id/5)
+                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                )
+                              )
+                            )
+                          )
+                          (NewObjE
+                            Object
+                            (pre $pre/4)
+                            (post post)
+                            (job job)
+                            (delay delay)
+                            (id $id/4)
+                            (expire $expire/4)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                      (case
+                        WildP
+                        (BlockE
+                          (LetD
+                            (VarP $expire/5)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/6) (LitE (NatLit 0)))
+                          (LetD (VarP $delay/4) (LitE NullLit))
+                          (LetD (VarP $pre/5) (LitE NullLit))
+                          (LetD (VarP $post/5) (VarE! @timers))
+                          (NewObjE
+                            Object
+                            (post $post/5)
+                            (pre $pre/5)
+                            (job job)
+                            (delay $delay/4)
+                            (id $id/6)
+                            (expire $expire/5)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (BlockE
+            (LetD (VarP $arr/2) (VarE thunks))
+            (LetD (VarP $last/2) (PrimE GetLastArrayOffset (VarE $arr/2)))
+            (VarD $indx/2 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/2) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/8
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP o)
+                      (PrimE DerefArrayOffset (VarE $arr/2) (VarE! $indx/2))
+                    )
+                    (LetD
+                      WildP
+                      (SwitchE
+                        (VarE o)
+                        (case
+                          (OptP (VarP thunk))
+                          (TryE
+                            (BlockE
+                              (LetD
+                                WildP
+                                (PrimE
+                                  (CallPrim $@timer_helper)
+                                  (VarE thunk)
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                            (case
+                              WildP
+                              (PrimE (CallPrim) (VarE reinsert) (VarE thunk))
+                            )
+                          )
+                        )
+                        (case WildP (PrimE RetPrim (PrimE TupPrim)))
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/2) (VarE $last/2))
+                      (PrimE (BreakPrim $done/8) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/2)
+                        (PrimE NextArrayOffset (VarE! $indx/2))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        $
+      )
+    )
+  )
+  (VarD @lastTimerId Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @setTimer)
+    (FuncE
+      @setTimer
+      Local
+      Returns
+      ($ Any)
+      (params delayNanos recurring job)
+      Nat
+      (BlockE
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @lastTimerId)
+            (PrimE (BinPrim Nat AddOp) (VarE! @lastTimerId) (LitE (NatLit 1)))
+          )
+        )
+        (LetD (VarP id) (VarE! @lastTimerId))
+        (LetD (VarP now) (PrimE SystemTimePrim))
+        (LetD
+          (VarP expire)
+          (PrimE (BinPrim Nat64 AddOp) (VarE now) (VarE delayNanos))
+        )
+        (LetD
+          (VarP delay)
+          (IfE
+            (VarE recurring)
+            (PrimE OptPrim (VarE delayNanos))
+            (LitE NullLit)
+          )
+        )
+        (LetD
+          (VarP insert)
+          (FuncE
+            insert
+            Local
+            Returns
+            (params n)
+            @Node
+            (SwitchE
+              (VarE n)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP $expire/6)
+                    (PrimE (ArrayPrim Var Nat64) (VarE expire))
+                  )
+                  (LetD (VarP $pre/6) (LitE NullLit))
+                  (LetD (VarP $post/6) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (post $post/6)
+                    (pre $pre/6)
+                    (job job)
+                    (delay delay)
+                    (id id)
+                    (expire $expire/6)
+                    {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                  )
+                )
+              )
+              (case
+                (OptP (VarP n))
+                (BlockE
+                  (LetD
+                    WildP
+                    (PrimE
+                      AssertPrim
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (PrimE
+                            IdxPrim
+                            (PrimE (DotPrim expire) (VarE n))
+                            (LitE (NatLit 0))
+                          )
+                          (LitE (Nat64Lit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                    )
+                  )
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 LtOp)
+                      (VarE expire)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/6) (VarE n))
+                      (LetD
+                        (VarP $pre/8)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim pre) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/6)
+                        (PrimE (DotPrim delay) (VarE $base/6))
+                      )
+                      (LetD
+                        (VarP $expire/8)
+                        (PrimE (DotPrim expire) (VarE $base/6))
+                      )
+                      (LetD (VarP $id/8) (PrimE (DotPrim id) (VarE $base/6)))
+                      (LetD (VarP $job/5) (PrimE (DotPrim job) (VarE $base/6)))
+                      (LetD
+                        (VarP $post/8)
+                        (PrimE (DotPrim post) (VarE $base/6))
+                      )
+                      (NewObjE
+                        Object
+                        (post $post/8)
+                        (job $job/5)
+                        (id $id/8)
+                        (expire $expire/8)
+                        (delay $delay/6)
+                        (pre $pre/8)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/5) (VarE n))
+                      (LetD
+                        (VarP $post/7)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/5)
+                        (PrimE (DotPrim delay) (VarE $base/5))
+                      )
+                      (LetD
+                        (VarP $expire/7)
+                        (PrimE (DotPrim expire) (VarE $base/5))
+                      )
+                      (LetD (VarP $id/7) (PrimE (DotPrim id) (VarE $base/5)))
+                      (LetD (VarP $job/4) (PrimE (DotPrim job) (VarE $base/5)))
+                      (LetD (VarP $pre/7) (PrimE (DotPrim pre) (VarE $base/5)))
+                      (NewObjE
+                        Object
+                        (pre $pre/7)
+                        (job $job/4)
+                        (id $id/7)
+                        (expire $expire/7)
+                        (delay $delay/5)
+                        (post $post/7)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE
+              OptPrim
+              (PrimE
+                (CallPrim)
+                (VarE insert)
+                (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP exp)
+          (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+            (AssignE (VarLE @timers) (LitE NullLit))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (BlockE
+            (LetD WildP (PrimE global_timer_set (VarE exp)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarE id)
+      )
+    )
+  )
+  (LetD
+    (VarP @cancelTimer)
+    (FuncE
+      @cancelTimer
+      Local
+      Returns
+      (params id)
+      ()
+      (BlockE
+        (LetD
+          (VarP graft)
+          (FuncE
+            graft
+            Local
+            Returns
+            (params onto branch)
+            ?@Node
+            (SwitchE
+              (PrimE TupPrim (VarE onto) (VarE branch))
+              (case (TupP (LitP NullLit) (LitP NullLit)) (LitE NullLit))
+              (case (TupP (LitP NullLit) WildP) (VarE branch))
+              (case (TupP WildP (LitP NullLit)) (VarE onto))
+              (case
+                (TupP (OptP (VarP onto)) WildP)
+                (PrimE
+                  OptPrim
+                  (BlockE
+                    (LetD (VarP $base/7) (VarE onto))
+                    (LetD
+                      (VarP $post/9)
+                      (PrimE
+                        (CallPrim)
+                        (VarE graft)
+                        (PrimE
+                          TupPrim
+                          (PrimE (DotPrim post) (VarE onto))
+                          (VarE branch)
+                        )
+                      )
+                    )
+                    (LetD
+                      (VarP $delay/7)
+                      (PrimE (DotPrim delay) (VarE $base/7))
+                    )
+                    (LetD
+                      (VarP $expire/9)
+                      (PrimE (DotPrim expire) (VarE $base/7))
+                    )
+                    (LetD (VarP $id/9) (PrimE (DotPrim id) (VarE $base/7)))
+                    (LetD (VarP $job/6) (PrimE (DotPrim job) (VarE $base/7)))
+                    (LetD (VarP $pre/9) (PrimE (DotPrim pre) (VarE $base/7)))
+                    (NewObjE
+                      Object
+                      (pre $pre/9)
+                      (job $job/6)
+                      (id $id/9)
+                      (expire $expire/9)
+                      (delay $delay/7)
+                      (post $post/9)
+                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP hunt)
+          (FuncE
+            hunt
+            Local
+            Returns
+            (params n)
+            ?@Node
+            (SwitchE
+              (VarE n)
+              (case (LitP NullLit) (VarE n))
+              (case
+                (OptP
+                  (ObjP (id (VarP node)) (pre (VarP pre)) (post (VarP post)))
+                )
+                (IfE
+                  (PrimE (RelPrim Nat EqOp) (VarE node) (VarE id))
+                  (PrimE
+                    (CallPrim)
+                    (VarE graft)
+                    (PrimE TupPrim (VarE pre) (VarE post))
+                  )
+                  (LabelE
+                    !
+                    ?@Node
+                    (PrimE
+                      OptPrim
+                      (BlockE
+                        (LetD
+                          (VarP $base/8)
+                          (SwitchE
+                            (VarE n)
+                            (case
+                              (LitP NullLit)
+                              (PrimE (BreakPrim !) (LitE NullLit))
+                            )
+                            (case (OptP (VarP $v/1)) (VarE $v/1))
+                          )
+                        )
+                        (LetD
+                          (VarP $pre/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE pre))
+                        )
+                        (LetD
+                          (VarP $post/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE post))
+                        )
+                        (LetD
+                          (VarP $delay/8)
+                          (PrimE (DotPrim delay) (VarE $base/8))
+                        )
+                        (LetD
+                          (VarP $expire/10)
+                          (PrimE (DotPrim expire) (VarE $base/8))
+                        )
+                        (LetD (VarP $id/10) (PrimE (DotPrim id) (VarE $base/8)))
+                        (LetD
+                          (VarP $job/7)
+                          (PrimE (DotPrim job) (VarE $base/8))
+                        )
+                        (NewObjE
+                          Object
+                          (job $job/7)
+                          (id $id/10)
+                          (expire $expire/10)
+                          (delay $delay/8)
+                          (post $post/10)
+                          (pre $pre/10)
+                          {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE (CallPrim) (VarE hunt) (VarE! @timers))
+          )
+        )
+        (IfE
+          (PrimE
+            (RelPrim Nat64 EqOp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+            (LitE (Nat64Lit 0))
+          )
+          (BlockE
+            (LetD
+              WildP
+              (BlockE
+                (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 0))))
+                (PrimE TupPrim)
+              )
+            )
+            (AssignE (VarLE @timers) (LitE NullLit))
+          )
+          (PrimE TupPrim)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @set_global_timer)
+    (FuncE
+      @set_global_timer
+      Local
+      Returns
+      (params time)
+      ()
+      (BlockE (LetD WildP (PrimE global_timer_set (VarE time))) (PrimE TupPrim))
+    )
+  )
+  (LetD
+    (VarP @dedup)
+    (FuncE
+      @dedup
+      Local
+      Returns
+      (params b)
+      Blob
+      (BlockE
+        (LetD
+          (VarP Array_tabulate)
+          (FuncE
+            Array_tabulate
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [T]
+            (PrimE Array.tabulate (VarE len) (VarE gen))
+          )
+        )
+        (LetD
+          (VarP Array_tabulateVar)
+          (FuncE
+            Array_tabulateVar
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [var T]
+            (PrimE Array.tabulateVar (VarE len) (VarE gen))
+          )
+        )
+        (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+        (LetD
+          (VarP debugPrint)
+          (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+        )
+        (LetD
+          (VarP hashBlob)
+          (FuncE
+            hashBlob
+            Local
+            Returns
+            (params b)
+            Nat32
+            (PrimE crc32Hash (VarE b))
+          )
+        )
+        (LetD
+          (VarP allocWeakRef)
+          (FuncE
+            allocWeakRef
+            Local
+            Returns
+            (T Any)
+            (params obj)
+            weak T
+            (PrimE alloc_weak_ref (VarE obj))
+          )
+        )
+        (LetD
+          (VarP weakGet)
+          (FuncE
+            weakGet
+            Local
+            Returns
+            (T Any)
+            (params w)
+            ?T
+            (PrimE weak_get (VarE w))
+          )
+        )
+        (LetD
+          (VarP getDedupTable)
+          (FuncE
+            getDedupTable
+            Local
+            Returns
+            ?[var List]
+            (PrimE get_dedup_table)
+          )
+        )
+        (LetD
+          (VarP setDedupTable)
+          (FuncE
+            setDedupTable
+            Local
+            Returns
+            (params dedupTable)
+            ()
+            (PrimE set_dedup_table (VarE dedupTable))
+          )
+        )
+        (LetD
+          (VarP arrayToBlob)
+          (FuncE
+            arrayToBlob
+            Local
+            Returns
+            (params a)
+            Blob
+            (PrimE arrayToBlob (VarE a))
+          )
+        )
+        (LetD
+          (VarP getOriginalBlob)
+          (FuncE
+            getOriginalBlob
+            Local
+            Returns
+            (params b)
+            Blob
+            (BlockE
+              (LetD
+                (VarP copiedArr)
+                (PrimE
+                  (CallPrim Nat8)
+                  (VarE Array_tabulate)
+                  (PrimE
+                    TupPrim
+                    (PrimE
+                      (BinPrim Nat SubOp)
+                      (PrimE blob_size (VarE b))
+                      (LitE (NatLit 5))
+                    )
+                    (FuncE
+                      @anon-func-744.50
+                      Local
+                      Returns
+                      (params i)
+                      Nat8
+                      (PrimE
+                        IdxBlobPrim
+                        (VarE b)
+                        (PrimE (BinPrim Nat AddOp) (VarE i) (LitE (NatLit 5)))
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP originalBlob)
+                (PrimE (CallPrim) (VarE arrayToBlob) (VarE copiedArr))
+              )
+              (VarE originalBlob)
+            )
+          )
+        )
+        (LetD
+          (VarP blobCompare)
+          (FuncE
+            blobCompare
+            Local
+            Returns
+            (params b1 b2)
+            Int8
+            (PrimE blob_compare (VarE b1) (VarE b2))
+          )
+        )
+        (LetD
+          (VarP addToList)
+          (FuncE
+            addToList
+            Local
+            Returns
+            (params list originalBlob weakRef)
+            List
+            (BlockE
+              (LetD
+                (VarP newList)
+                (BlockE
+                  (VarD
+                    $next/0
+                    ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                    (PrimE OptPrim (VarE list))
+                  )
+                  (LetD (VarP $value/0) (PrimE OptPrim (VarE weakRef)))
+                  (LetD
+                    (VarP $index/0)
+                    (PrimE
+                      (BinPrim Nat AddOp)
+                      (PrimE (DotPrim index) (VarE list))
+                      (LitE (NatLit 1))
+                    )
+                  )
+                  (NewObjE
+                    Object
+                    (index $index/0)
+                    (originalBlob originalBlob)
+                    (value $value/0)
+                    (next $next/0)
+                    {index : Nat; var next : ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}; originalBlob : Blob; value : ?{ref : weak Blob}}
+                  )
+                )
+              )
+              (VarE newList)
+            )
+          )
+        )
+        (LetD
+          (VarP getFromList)
+          (FuncE
+            getFromList
+            Local
+            Returns
+            (params list originalBlob)
+            ?WeakRef
+            (BlockE
+              (VarD
+                copy
+                {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                (VarE list)
+              )
+              (LoopE
+                (IfE
+                  (PrimE
+                    (RelPrim Int8 EqOp)
+                    (PrimE
+                      (CallPrim)
+                      (VarE blobCompare)
+                      (PrimE
+                        TupPrim
+                        (PrimE (DotPrim originalBlob) (VarE! copy))
+                        (VarE originalBlob)
+                      )
+                    )
+                    (LitE (Int8Lit 0))
+                  )
+                  (PrimE RetPrim (PrimE (DotPrim value) (VarE! copy)))
+                  (BlockE
+                    (LetD (VarP next) (PrimE (DotPrim next) (VarE! copy)))
+                    (SwitchE
+                      (VarE next)
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                      (case
+                        (OptP (VarP next))
+                        (AssignE (VarLE copy) (VarE next))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getListLen)
+          (FuncE
+            getListLen
+            Local
+            Returns
+            (params list)
+            Nat
+            (PrimE (DotPrim index) (VarE list))
+          )
+        )
+        (LetD
+          (VarP getHashArrayLen)
+          (FuncE
+            getHashArrayLen
+            Local
+            Returns
+            (params hashArray)
+            Nat
+            (BlockE
+              (VarD len Nat (LitE (NatLit 0)))
+              (VarD i Nat (LitE (NatLit 0)))
+              (LetD
+                WildP
+                (LabelE
+                  $done/9
+                  ()
+                  (LoopE
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat LtOp)
+                        (VarE! i)
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE len)
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (VarE! len)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getListLen)
+                                (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE i)
+                          (PrimE
+                            (BinPrim Nat AddOp)
+                            (VarE! i)
+                            (LitE (NatLit 1))
+                          )
+                        )
+                      )
+                      (PrimE (BreakPrim $done/9) (PrimE TupPrim))
+                    )
+                  )
+                )
+              )
+              (VarE! len)
+            )
+          )
+        )
+        (LetD
+          (VarP addToHashArray)
+          (FuncE
+            addToHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ()
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (LetD
+                (VarP weakRef)
+                (BlockE
+                  (LetD
+                    (VarP $ref/0)
+                    (PrimE (CallPrim Blob) (VarE allocWeakRef) (VarE b))
+                  )
+                  (NewObjE Object (ref $ref/0) {ref : weak Blob})
+                )
+              )
+              (AssignE
+                (IdxLE (VarE hashArray) (VarE index))
+                (PrimE
+                  (CallPrim)
+                  (VarE addToList)
+                  (PrimE
+                    TupPrim
+                    (VarE list)
+                    (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                    (VarE weakRef)
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getFromHashArray)
+          (FuncE
+            getFromHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ?WeakRef
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (PrimE
+                (CallPrim)
+                (VarE getFromList)
+                (PrimE
+                  TupPrim
+                  (VarE list)
+                  (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Nat LtOp)
+              (PrimE blob_size (VarE b))
+              (LitE (NatLit 5))
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (IfE
+              (IfE
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 0)))
+                        (LitE (Nat8Lit 33))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 1)))
+                        (LitE (Nat8Lit 99))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                  (LitE (BoolLit true))
+                  (PrimE
+                    (RelPrim Bool EqOp)
+                    (PrimE
+                      (RelPrim Nat8 EqOp)
+                      (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 2)))
+                      (LitE (Nat8Lit 97))
+                    )
+                    (LitE (BoolLit false))
+                  )
+                )
+                (LitE (BoolLit true))
+                (PrimE
+                  (RelPrim Bool EqOp)
+                  (PrimE
+                    (RelPrim Nat8 EqOp)
+                    (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 3)))
+                    (LitE (Nat8Lit 102))
+                  )
+                  (LitE (BoolLit false))
+                )
+              )
+              (LitE (BoolLit true))
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE
+                  (RelPrim Nat8 EqOp)
+                  (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 4)))
+                  (LitE (Nat8Lit 33))
+                )
+                (LitE (BoolLit false))
+              )
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP ptr)
+          (PrimE (CallPrim) (VarE getDedupTable) (PrimE TupPrim))
+        )
+        (LetD
+          (VarP hashArray)
+          (SwitchE
+            (VarE ptr)
+            (case (OptP (VarP dedupTable)) (VarE dedupTable))
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  (VarP arr)
+                  (PrimE
+                    (CallPrim List)
+                    (VarE Array_tabulateVar)
+                    (PrimE
+                      TupPrim
+                      (VarE HASH_ARRAY_SIZE)
+                      (FuncE
+                        @anon-func-830.58
+                        Local
+                        Returns
+                        (params i)
+                        List
+                        (BlockE
+                          (VarD $next/1 ?List (LitE NullLit))
+                          (LetD (VarP $value/1) (LitE NullLit))
+                          (LetD (VarP $originalBlob/0) (LitE (BlobLit "")))
+                          (LetD (VarP $index/1) (LitE (NatLit 0)))
+                          (NewObjE
+                            Object
+                            (index $index/1)
+                            (originalBlob $originalBlob/0)
+                            (value $value/1)
+                            (next $next/1)
+                            {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD WildP (PrimE (CallPrim) (VarE setDedupTable) (VarE arr)))
+                (VarE arr)
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP dedupedBlobWeakRef)
+          (PrimE
+            (CallPrim)
+            (VarE getFromHashArray)
+            (PrimE TupPrim (VarE hashArray) (VarE b))
+          )
+        )
+        (LetD
+          (VarP result)
+          (SwitchE
+            (VarE dedupedBlobWeakRef)
+            (case
+              (OptP (VarP weakRef))
+              (BlockE
+                (LetD
+                  (VarP derefed)
+                  (PrimE
+                    (CallPrim Blob)
+                    (VarE weakGet)
+                    (PrimE (DotPrim ref) (VarE weakRef))
+                  )
+                )
+                (SwitchE
+                  (VarE derefed)
+                  (case (OptP (VarP derefed)) (VarE derefed))
+                  (case
+                    (LitP NullLit)
+                    (BlockE
+                      (LetD
+                        WildP
+                        (PrimE
+                          (CallPrim)
+                          (VarE addToHashArray)
+                          (PrimE TupPrim (VarE hashArray) (VarE b))
+                        )
+                      )
+                      (VarE b)
+                    )
+                  )
+                )
+              )
+            )
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  WildP
+                  (PrimE
+                    (CallPrim)
+                    (VarE addToHashArray)
+                    (PrimE TupPrim (VarE hashArray) (VarE b))
+                  )
+                )
+                (VarE b)
+              )
+            )
+          )
+        )
+        (VarE result)
+      )
+    )
+  )
+  (LetD
+    (VarP file$@prim)
+    (BlockE
+      (LetD (VarP Types) (NewObjE Module module {}))
+      (LetD
+        (VarP abs)
+        (FuncE abs Local Returns (params x) Nat (PrimE abs (VarE x)))
+      )
+      (LetD
+        (VarP shiftLeft)
+        (FuncE
+          shiftLeft
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE lsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP shiftRight)
+        (FuncE
+          shiftRight
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE rsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP idlHash)
+        (FuncE idlHash Local Returns (params x) Nat32 (PrimE idlHash (VarE x)))
+      )
+      (LetD
+        (VarP debugPrint)
+        (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+      )
+      (LetD
+        (VarP debugPrintNat)
+        (FuncE
+          debugPrintNat
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Nat) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintInt)
+        (FuncE
+          debugPrintInt
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Int) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintChar)
+        (FuncE
+          debugPrintChar
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE charToText) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP trap)
+        (FuncE trap Local Returns (params x) None (PrimE trap (VarE x)))
+      )
+      (LetD
+        (VarP rts_version)
+        (FuncE rts_version Local Returns Text (PrimE rts_version))
+      )
+      (LetD
+        (VarP rts_memory_size)
+        (FuncE rts_memory_size Local Returns Nat (PrimE rts_memory_size))
+      )
+      (LetD
+        (VarP rts_heap_size)
+        (FuncE rts_heap_size Local Returns Nat (PrimE rts_heap_size))
+      )
+      (LetD
+        (VarP rts_total_allocation)
+        (FuncE
+          rts_total_allocation
+          Local
+          Returns
+          Nat
+          (PrimE rts_total_allocation)
+        )
+      )
+      (LetD
+        (VarP rts_reclaimed)
+        (FuncE rts_reclaimed Local Returns Nat (PrimE rts_reclaimed))
+      )
+      (LetD
+        (VarP rts_max_live_size)
+        (FuncE rts_max_live_size Local Returns Nat (PrimE rts_max_live_size))
+      )
+      (LetD
+        (VarP rts_max_stack_size)
+        (FuncE rts_max_stack_size Local Returns Nat (PrimE rts_max_stack_size))
+      )
+      (LetD
+        (VarP rts_callback_table_count)
+        (FuncE
+          rts_callback_table_count
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_count)
+        )
+      )
+      (LetD
+        (VarP rts_callback_table_size)
+        (FuncE
+          rts_callback_table_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_size)
+        )
+      )
+      (LetD
+        (VarP rts_mutator_instructions)
+        (FuncE
+          rts_mutator_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_mutator_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_collector_instructions)
+        (FuncE
+          rts_collector_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_collector_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_lifetime_instructions)
+        (FuncE
+          rts_lifetime_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_lifetime_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_upgrade_instructions)
+        (FuncE
+          rts_upgrade_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_upgrade_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_stable_memory_size)
+        (FuncE
+          rts_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP rts_logical_stable_memory_size)
+        (FuncE
+          rts_logical_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_logical_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP allocWeakRef)
+        (FuncE
+          allocWeakRef
+          Local
+          Returns
+          (T Any)
+          (params obj)
+          weak T
+          (PrimE alloc_weak_ref (VarE obj))
+        )
+      )
+      (LetD
+        (VarP weakGet)
+        (FuncE
+          weakGet
+          Local
+          Returns
+          (T Any)
+          (params w)
+          ?T
+          (PrimE weak_get (VarE w))
+        )
+      )
+      (LetD
+        (VarP isLive)
+        (FuncE
+          isLive
+          Local
+          Returns
+          (params weak_ref)
+          Bool
+          (PrimE weak_ref_is_live (VarE weak_ref))
+        )
+      )
+      (LetD
+        (VarP envVarNames)
+        (FuncE envVarNames Local Returns ($ Any) [Text] (PrimE env_var_names))
+      )
+      (LetD
+        (VarP envVar)
+        (FuncE
+          envVar
+          Local
+          Returns
+          ($ Any)
+          (params name)
+          ?Text
+          (PrimE env_var (VarE name))
+        )
+      )
+      (LetD
+        (VarP __getDedupTable)
+        (FuncE
+          __getDedupTable
+          Local
+          Returns
+          ?[var __List]
+          (PrimE get_dedup_table)
+        )
+      )
+      (LetD
+        (VarP BlobIterator)
+        (FuncE
+          BlobIterator
+          Local
+          Returns
+          (params hash)
+          {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+          (BlockE
+            (LetD
+              (VarP @anon-object-138.41)
+              (BlockE
+                (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+                (VarD currentIndex Nat (LitE (NatLit 0)))
+                (VarD currentList ?__List (LitE NullLit))
+                (LetD (VarP hashArray) (VarE hash))
+                (LetD
+                  (VarP size)
+                  (FuncE
+                    size
+                    Local
+                    Returns
+                    Nat
+                    (BlockE
+                      (VarD len Nat (LitE (NatLit 0)))
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LetD
+                        WildP
+                        (LabelE
+                          $done/0
+                          ()
+                          (LoopE
+                            (IfE
+                              (PrimE
+                                (RelPrim Nat LtOp)
+                                (VarE! i)
+                                (VarE HASH_ARRAY_SIZE)
+                              )
+                              (BlockE
+                                (VarD
+                                  list
+                                  {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                  (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                                )
+                                (LetD
+                                  WildP
+                                  (LabelE
+                                    countLoop
+                                    ()
+                                    (LoopE
+                                      (LabelE
+                                        continue countLoop
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (VarP weakRef)
+                                            (PrimE (DotPrim value) (VarE! list))
+                                          )
+                                          (LetD
+                                            WildP
+                                            (SwitchE
+                                              (VarE weakRef)
+                                              (case
+                                                (OptP (VarP weakRef))
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP deref)
+                                                    (PrimE
+                                                      (CallPrim Blob)
+                                                      (VarE weakGet)
+                                                      (PrimE
+                                                        (DotPrim ref)
+                                                        (VarE weakRef)
+                                                      )
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (VarE deref)
+                                                    (case
+                                                      (OptP (VarP deref))
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (LitP NullLit)
+                                                      (AssignE
+                                                        (VarLE len)
+                                                        (PrimE
+                                                          (BinPrim Nat AddOp)
+                                                          (VarE! len)
+                                                          (LitE (NatLit 1))
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            (VarP next)
+                                            (PrimE (DotPrim next) (VarE! list))
+                                          )
+                                          (SwitchE
+                                            (VarE next)
+                                            (case
+                                              (OptP (VarP next))
+                                              (AssignE (VarLE list) (VarE next))
+                                            )
+                                            (case
+                                              (LitP NullLit)
+                                              (PrimE
+                                                (BreakPrim countLoop)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (AssignE
+                                  (VarLE i)
+                                  (PrimE
+                                    (BinPrim Nat AddOp)
+                                    (VarE! i)
+                                    (LitE (NatLit 1))
+                                  )
+                                )
+                              )
+                              (PrimE (BreakPrim $done/0) (PrimE TupPrim))
+                            )
+                          )
+                        )
+                      )
+                      (VarE! len)
+                    )
+                  )
+                )
+                (LetD
+                  (VarP getDeadBlobFromListNode)
+                  (FuncE
+                    getDeadBlobFromListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?Blob
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP myList))
+                        (BlockE
+                          (LetD
+                            (VarP weakRef)
+                            (PrimE (DotPrim value) (VarE myList))
+                          )
+                          (SwitchE
+                            (VarE weakRef)
+                            (case
+                              (OptP (VarP weakRef))
+                              (BlockE
+                                (LetD
+                                  (VarP deref)
+                                  (PrimE
+                                    (CallPrim Blob)
+                                    (VarE weakGet)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                                (SwitchE
+                                  (VarE deref)
+                                  (case
+                                    (OptP (VarP deref))
+                                    (PrimE RetPrim (LitE NullLit))
+                                  )
+                                  (case
+                                    (LitP NullLit)
+                                    (PrimE
+                                      RetPrim
+                                      (PrimE
+                                        OptPrim
+                                        (PrimE
+                                          (DotPrim originalBlob)
+                                          (VarE myList)
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                          )
+                        )
+                      )
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP advanceListNode)
+                  (FuncE
+                    advanceListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?__List
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP list))
+                        (PrimE (DotPrim next) (VarE list))
+                      )
+                      (case (LitP NullLit) (LitE NullLit))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP nextDeadBlob)
+                  (FuncE
+                    nextDeadBlob
+                    Local
+                    Returns
+                    Blob
+                    (BlockE
+                      (LetD
+                        WildP
+                        (LoopE
+                          (BlockE
+                            (LetD
+                              (VarP blob)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getDeadBlobFromListNode)
+                                (VarE! currentList)
+                              )
+                            )
+                            (SwitchE
+                              (VarE blob)
+                              (case
+                                (OptP (VarP blob))
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (PrimE RetPrim (VarE blob))
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (SwitchE
+                                    (VarE! currentList)
+                                    (case (OptP WildP) (PrimE TupPrim))
+                                    (case
+                                      (LitP NullLit)
+                                      (BlockE
+                                        (LetD
+                                          WildP
+                                          (AssignE
+                                            (VarLE currentIndex)
+                                            (PrimE
+                                              (BinPrim Nat AddOp)
+                                              (VarE! currentIndex)
+                                              (LitE (NatLit 1))
+                                            )
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (IfE
+                                            (PrimE
+                                              (RelPrim Nat GeOp)
+                                              (VarE! currentIndex)
+                                              (VarE HASH_ARRAY_SIZE)
+                                            )
+                                            (PrimE RetPrim (LitE (BlobLit "")))
+                                            (PrimE TupPrim)
+                                          )
+                                        )
+                                        (AssignE
+                                          (VarLE currentList)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE
+                                              IdxPrim
+                                              (VarE hashArray)
+                                              (VarE! currentIndex)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LitE (BlobLit ""))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP computeIndex)
+                  (FuncE
+                    computeIndex
+                    Local
+                    Returns
+                    (params b)
+                    Nat
+                    (BlockE
+                      (LetD
+                        (VarP magicBytes)
+                        (PrimE
+                          (ArrayPrim Const Nat8)
+                          (LitE (Nat8Lit 33))
+                          (LitE (Nat8Lit 99))
+                          (LitE (Nat8Lit 97))
+                          (LitE (Nat8Lit 102))
+                          (LitE (Nat8Lit 33))
+                        )
+                      )
+                      (LetD
+                        (VarP originalBlob)
+                        (PrimE (CallPrim) (VarE blobToArray) (VarE b))
+                      )
+                      (LetD
+                        (VarP concat)
+                        (PrimE
+                          (CallPrim Nat8)
+                          (VarE Array_tabulate)
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (PrimE array_len (VarE magicBytes))
+                              (PrimE array_len (VarE originalBlob))
+                            )
+                            (FuncE
+                              @anon-func-240.74
+                              Local
+                              Returns
+                              (params i)
+                              Nat8
+                              (IfE
+                                (PrimE
+                                  (RelPrim Nat LtOp)
+                                  (VarE i)
+                                  (PrimE array_len (VarE magicBytes))
+                                )
+                                (PrimE IdxPrim (VarE magicBytes) (VarE i))
+                                (PrimE
+                                  IdxPrim
+                                  (VarE originalBlob)
+                                  (PrimE
+                                    (BinPrim Nat SubOp)
+                                    (VarE i)
+                                    (PrimE array_len (VarE magicBytes))
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP bWithMagic)
+                        (PrimE (CallPrim) (VarE arrayToBlob) (VarE concat))
+                      )
+                      (LetD
+                        (VarP hashValue)
+                        (PrimE (CallPrim) (VarE hashBlob) (VarE bWithMagic))
+                      )
+                      (PrimE
+                        (BinPrim Nat ModOp)
+                        (PrimE (CallPrim) (VarE nat32ToNat) (VarE hashValue))
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP isBlobLive)
+                  (FuncE
+                    isBlobLive
+                    Local
+                    Returns
+                    (params b)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP index)
+                        (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                      )
+                      (VarD
+                        list
+                        {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                        (PrimE IdxPrim (VarE hashArray) (VarE index))
+                      )
+                      (LoopE
+                        (IfE
+                          (PrimE
+                            (RelPrim Int8 EqOp)
+                            (PrimE
+                              (CallPrim)
+                              (VarE blobCompare)
+                              (PrimE
+                                TupPrim
+                                (PrimE (DotPrim originalBlob) (VarE! list))
+                                (VarE b)
+                              )
+                            )
+                            (LitE (Int8Lit 0))
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP weakRef)
+                              (PrimE (DotPrim value) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE weakRef)
+                              (case
+                                (OptP (VarP weakRef))
+                                (PrimE
+                                  RetPrim
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE isLive)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP next)
+                              (PrimE (DotPrim next) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE next)
+                              (case
+                                (OptP (VarP next))
+                                (AssignE (VarLE list) (VarE next))
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneFirstElement)
+                  (FuncE
+                    pruneFirstElement
+                    Local
+                    Returns
+                    (params list b index)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP deadBlob)
+                        (PrimE
+                          (CallPrim)
+                          (VarE getDeadBlobFromListNode)
+                          (PrimE OptPrim (VarE list))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (SwitchE
+                          (VarE deadBlob)
+                          (case
+                            (OptP (VarP deadBlob))
+                            (IfE
+                              (PrimE
+                                (RelPrim Int8 EqOp)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE blobCompare)
+                                  (PrimE TupPrim (VarE deadBlob) (VarE b))
+                                )
+                                (LitE (Int8Lit 0))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP nextElem)
+                                  (PrimE (DotPrim next) (VarE list))
+                                )
+                                (SwitchE
+                                  (VarE nextElem)
+                                  (case
+                                    (OptP (VarP next))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE (VarE hashArray) (VarE index))
+                                          (VarE next)
+                                        )
+                                      )
+                                      (PrimE RetPrim (LitE (BoolLit true)))
+                                    )
+                                  )
+                                  (case (LitP NullLit) (PrimE TupPrim))
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                          )
+                          (case (LitP NullLit) (PrimE TupPrim))
+                        )
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneDeadBlobs)
+                  (FuncE
+                    pruneDeadBlobs
+                    Local
+                    Returns
+                    (params confirmedDeadBlobs)
+                    ()
+                    (BlockE
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LabelE
+                        $done/1
+                        ()
+                        (LoopE
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat LtOp)
+                              (VarE! i)
+                              (PrimE array_len (VarE confirmedDeadBlobs))
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP b)
+                                (PrimE
+                                  IdxPrim
+                                  (VarE confirmedDeadBlobs)
+                                  (VarE! i)
+                                )
+                              )
+                              (LetD
+                                (VarP index)
+                                (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                              )
+                              (LetD
+                                (VarP list)
+                                (PrimE IdxPrim (VarE hashArray) (VarE index))
+                              )
+                              (LetD
+                                (VarP pruned)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE pruneFirstElement)
+                                  (PrimE
+                                    TupPrim
+                                    (VarE list)
+                                    (VarE b)
+                                    (VarE index)
+                                  )
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (IfE
+                                  (PrimE
+                                    (RelPrim Bool EqOp)
+                                    (VarE pruned)
+                                    (LitE (BoolLit false))
+                                  )
+                                  (BlockE
+                                    (VarD
+                                      prev
+                                      ?{index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                      (PrimE OptPrim (VarE list))
+                                    )
+                                    (VarD
+                                      crntNode
+                                      ?__List
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (PrimE OptPrim (VarE list))
+                                      )
+                                    )
+                                    (LabelE
+                                      findLoop
+                                      ()
+                                      (LoopE
+                                        (LabelE
+                                          continue findLoop
+                                          ()
+                                          (BlockE
+                                            (LetD
+                                              (VarP crntBlob)
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE getDeadBlobFromListNode)
+                                                (VarE! crntNode)
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (SwitchE
+                                                (VarE crntBlob)
+                                                (case
+                                                  (OptP (VarP crntBlob))
+                                                  (IfE
+                                                    (PrimE
+                                                      (RelPrim Int8 EqOp)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE blobCompare)
+                                                        (PrimE
+                                                          TupPrim
+                                                          (VarE crntBlob)
+                                                          (VarE b)
+                                                        )
+                                                      )
+                                                      (LitE (Int8Lit 0))
+                                                    )
+                                                    (SwitchE
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE! prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                      (case
+                                                        (TupP
+                                                          (OptP (VarP prev))
+                                                          (OptP (VarP crntNode))
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (AssignE
+                                                              (DotLE
+                                                                (VarE prev)
+                                                                next
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim next)
+                                                                (VarE crntNode)
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (BreakPrim findLoop)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                      (case
+                                                        WildP
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                                (case
+                                                  (LitP NullLit)
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (AssignE
+                                                        (VarLE prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                    (AssignE
+                                                      (VarLE crntNode)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE advanceListNode)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (SwitchE
+                                              (VarE! crntNode)
+                                              (case
+                                                (OptP (VarP crntNode))
+                                                (PrimE TupPrim)
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE
+                                                  (BreakPrim findLoop)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (AssignE
+                                (VarLE i)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! i)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE (BreakPrim $done/1) (PrimE TupPrim))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (NewObjE
+                  Object
+                  (size size)
+                  (pruneDeadBlobs pruneDeadBlobs)
+                  (nextDeadBlob nextDeadBlob)
+                  (isBlobLive isBlobLive)
+                  {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+                )
+              )
+            )
+            (VarE @anon-object-138.41)
+          )
+        )
+      )
+      (LetD
+        (VarP getDeadBlobs)
+        (FuncE
+          getDeadBlobs
+          Local
+          Returns
+          ?[Blob]
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (LetD
+                    (VarP numDeadBlobs)
+                    (PrimE
+                      (CallPrim)
+                      (PrimE (DotPrim size) (VarE dedupTableIter))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    (VarP deadBlobs)
+                    (PrimE
+                      (CallPrim Blob)
+                      (VarE Array_tabulate)
+                      (PrimE
+                        TupPrim
+                        (VarE numDeadBlobs)
+                        (FuncE
+                          @anon-func-355.58
+                          Local
+                          Returns
+                          (params i)
+                          Blob
+                          (PrimE
+                            (CallPrim)
+                            (PrimE (DotPrim nextDeadBlob) (VarE dedupTableIter))
+                            (PrimE TupPrim)
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE RetPrim (PrimE OptPrim (VarE deadBlobs)))
+                )
+              )
+              (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP pruneConfirmedDeadBlobs)
+        (FuncE
+          pruneConfirmedDeadBlobs
+          Local
+          Returns
+          (params confirmedDeadBlobs)
+          ()
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim pruneDeadBlobs) (VarE dedupTableIter))
+                    (VarE confirmedDeadBlobs)
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP isStorageBlobLive)
+        (FuncE
+          isStorageBlobLive
+          Local
+          Returns
+          (params b)
+          Bool
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP iter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim isBlobLive) (VarE iter))
+                    (VarE b)
+                  )
+                )
+              )
+              (case (LitP NullLit) (LitE (BoolLit false)))
+            )
+          )
+        )
+      )
+      (LetD (VarP int64ToInt) (VarE @int64ToInt))
+      (LetD (VarP int32ToInt) (VarE @int32ToInt))
+      (LetD (VarP int16ToInt) (VarE @int16ToInt))
+      (LetD (VarP int8ToInt) (VarE @int8ToInt))
+      (LetD (VarP nat64ToNat) (VarE @nat64ToNat))
+      (LetD (VarP nat32ToNat) (VarE @nat32ToNat))
+      (LetD (VarP nat16ToNat) (VarE @nat16ToNat))
+      (LetD (VarP nat8ToNat) (VarE @nat8ToNat))
+      (LetD
+        (VarP intToInt64)
+        (FuncE
+          intToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32)
+        (FuncE
+          intToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16)
+        (FuncE
+          intToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8)
+        (FuncE
+          intToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat64)
+        (FuncE
+          natToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat32)
+        (FuncE
+          natToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat16)
+        (FuncE
+          natToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat8)
+        (FuncE
+          natToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt64Wrap)
+        (FuncE
+          intToInt64Wrap
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32Wrap)
+        (FuncE
+          intToInt32Wrap
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16Wrap)
+        (FuncE
+          intToInt16Wrap
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8Wrap)
+        (FuncE
+          intToInt8Wrap
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat64Wrap)
+        (FuncE
+          intToNat64Wrap
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat32Wrap)
+        (FuncE
+          intToNat32Wrap
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat16Wrap)
+        (FuncE
+          intToNat16Wrap
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat8Wrap)
+        (FuncE
+          intToNat8Wrap
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToNat64)
+        (FuncE
+          int64ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int64 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToInt64)
+        (FuncE
+          nat64ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Nat64 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToNat32)
+        (FuncE
+          int32ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int32 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToInt32)
+        (FuncE
+          nat32ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Nat32 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToNat16)
+        (FuncE
+          int16ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int16 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToInt16)
+        (FuncE
+          nat16ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Nat16 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToNat8)
+        (FuncE
+          int8ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int8 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToInt8)
+        (FuncE
+          nat8ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Nat8 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToNat16)
+        (FuncE
+          nat8ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat8 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat32)
+        (FuncE
+          nat16ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat16 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat64)
+        (FuncE
+          nat32ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat32 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToNat32)
+        (FuncE
+          nat64ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat64 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat16)
+        (FuncE
+          nat32ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat32 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat8)
+        (FuncE
+          nat16ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat16 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToInt16)
+        (FuncE
+          int8ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int8 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt32)
+        (FuncE
+          int16ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int16 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt64)
+        (FuncE
+          int32ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int32 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToInt32)
+        (FuncE
+          int64ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int64 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt16)
+        (FuncE
+          int32ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int32 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt8)
+        (FuncE
+          int16ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int16 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat16)
+        (FuncE
+          explodeNat16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Nat16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt16)
+        (FuncE
+          explodeInt16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Int16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat32)
+        (FuncE
+          explodeNat32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt32)
+        (FuncE
+          explodeInt32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat64)
+        (FuncE
+          explodeNat64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt64)
+        (FuncE
+          explodeInt64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP charToNat32)
+        (FuncE
+          charToNat32
+          Local
+          Returns
+          (params c)
+          Nat32
+          (PrimE (NumConvWrapPrim Char Nat32) (VarE c))
+        )
+      )
+      (LetD
+        (VarP nat32ToChar)
+        (FuncE
+          nat32ToChar
+          Local
+          Returns
+          (params w)
+          Char
+          (PrimE (NumConvTrapPrim Nat32 Char) (VarE w))
+        )
+      )
+      (LetD
+        (VarP charToText)
+        (FuncE
+          charToText
+          Local
+          Returns
+          (params c)
+          Text
+          (PrimE conv_Char_Text (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToUpper)
+        (FuncE
+          charToUpper
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_upper (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToLower)
+        (FuncE
+          charToLower
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_lower (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsWhitespace)
+        (FuncE
+          charIsWhitespace
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_whitespace (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsLowercase)
+        (FuncE
+          charIsLowercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_lowercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsUppercase)
+        (FuncE
+          charIsUppercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_uppercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsAlphabetic)
+        (FuncE
+          charIsAlphabetic
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_alphabetic (VarE c))
+        )
+      )
+      (LetD
+        (VarP blobCompare)
+        (FuncE
+          blobCompare
+          Local
+          Returns
+          (params b1 b2)
+          Int8
+          (PrimE blob_compare (VarE b1) (VarE b2))
+        )
+      )
+      (LetD
+        (VarP hashBlob)
+        (FuncE
+          hashBlob
+          Local
+          Returns
+          (params b)
+          Nat32
+          (PrimE crc32Hash (VarE b))
+        )
+      )
+      (LetD
+        (VarP decodeUtf8)
+        (FuncE
+          decodeUtf8
+          Local
+          Returns
+          (params b)
+          ?Text
+          (PrimE DecodeUtf8 (VarE b))
+        )
+      )
+      (LetD
+        (VarP encodeUtf8)
+        (FuncE
+          encodeUtf8
+          Local
+          Returns
+          (params t)
+          Blob
+          (PrimE EncodeUtf8 (VarE t))
+        )
+      )
+      (LetD
+        (VarP textCompare)
+        (FuncE
+          textCompare
+          Local
+          Returns
+          (params t1 t2)
+          Int8
+          (PrimE text_compare (VarE t1) (VarE t2))
+        )
+      )
+      (LetD
+        (VarP textLowercase)
+        (FuncE
+          textLowercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_lowercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP textUppercase)
+        (FuncE
+          textUppercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_uppercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP popcntNat8)
+        (FuncE
+          popcntNat8
+          Local
+          Returns
+          (params w)
+          Nat8
+          (PrimE popcnt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat8)
+        (FuncE clzNat8 Local Returns (params w) Nat8 (PrimE clz8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat8)
+        (FuncE ctzNat8 Local Returns (params w) Nat8 (PrimE ctz8 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat8)
+        (FuncE
+          btstNat8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat8 EqOp)
+              (PrimE btst8 (VarE w) (VarE amount))
+              (LitE (Nat8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat16)
+        (FuncE
+          popcntNat16
+          Local
+          Returns
+          (params w)
+          Nat16
+          (PrimE popcnt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat16)
+        (FuncE clzNat16 Local Returns (params w) Nat16 (PrimE clz16 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat16)
+        (FuncE ctzNat16 Local Returns (params w) Nat16 (PrimE ctz16 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat16)
+        (FuncE
+          btstNat16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat16 EqOp)
+              (PrimE btst16 (VarE w) (VarE amount))
+              (LitE (Nat16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat32)
+        (FuncE
+          popcntNat32
+          Local
+          Returns
+          (params w)
+          Nat32
+          (PrimE popcnt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat32)
+        (FuncE clzNat32 Local Returns (params w) Nat32 (PrimE clz32 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat32)
+        (FuncE ctzNat32 Local Returns (params w) Nat32 (PrimE ctz32 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat32)
+        (FuncE
+          btstNat32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat32 EqOp)
+              (PrimE btst32 (VarE w) (VarE amount))
+              (LitE (Nat32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat64)
+        (FuncE
+          popcntNat64
+          Local
+          Returns
+          (params w)
+          Nat64
+          (PrimE popcnt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat64)
+        (FuncE clzNat64 Local Returns (params w) Nat64 (PrimE clz64 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat64)
+        (FuncE ctzNat64 Local Returns (params w) Nat64 (PrimE ctz64 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat64)
+        (FuncE
+          btstNat64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE btst64 (VarE w) (VarE amount))
+              (LitE (Nat64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt8)
+        (FuncE
+          popcntInt8
+          Local
+          Returns
+          (params w)
+          Int8
+          (PrimE popcntInt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt8)
+        (FuncE clzInt8 Local Returns (params w) Int8 (PrimE clzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzInt8)
+        (FuncE ctzInt8 Local Returns (params w) Int8 (PrimE ctzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP btstInt8)
+        (FuncE
+          btstInt8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int8 EqOp)
+              (PrimE btstInt8 (VarE w) (VarE amount))
+              (LitE (Int8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt16)
+        (FuncE
+          popcntInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE popcntInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt16)
+        (FuncE
+          clzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE clzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt16)
+        (FuncE
+          ctzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE ctzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt16)
+        (FuncE
+          btstInt16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int16 EqOp)
+              (PrimE btstInt16 (VarE w) (VarE amount))
+              (LitE (Int16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt32)
+        (FuncE
+          popcntInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE popcntInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt32)
+        (FuncE
+          clzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE clzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt32)
+        (FuncE
+          ctzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE ctzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt32)
+        (FuncE
+          btstInt32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int32 EqOp)
+              (PrimE btstInt32 (VarE w) (VarE amount))
+              (LitE (Int32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt64)
+        (FuncE
+          popcntInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE popcntInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt64)
+        (FuncE
+          clzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE clzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt64)
+        (FuncE
+          ctzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE ctzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt64)
+        (FuncE
+          btstInt64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int64 EqOp)
+              (PrimE btstInt64 (VarE w) (VarE amount))
+              (LitE (Int64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP floatAbs)
+        (FuncE floatAbs Local Returns (params f) Float (PrimE fabs (VarE f)))
+      )
+      (LetD
+        (VarP floatSqrt)
+        (FuncE floatSqrt Local Returns (params f) Float (PrimE fsqrt (VarE f)))
+      )
+      (LetD
+        (VarP floatCeil)
+        (FuncE floatCeil Local Returns (params f) Float (PrimE fceil (VarE f)))
+      )
+      (LetD
+        (VarP floatFloor)
+        (FuncE
+          floatFloor
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ffloor (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatTrunc)
+        (FuncE
+          floatTrunc
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ftrunc (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatNearest)
+        (FuncE
+          floatNearest
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE fnearest (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatMin)
+        (FuncE
+          floatMin
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmin (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatMax)
+        (FuncE
+          floatMax
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmax (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatCopySign)
+        (FuncE
+          floatCopySign
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fcopysign (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatToInt)
+        (FuncE
+          floatToInt
+          Local
+          Returns
+          (params f)
+          Int
+          (PrimE (NumConvTrapPrim Float Int) (VarE f))
+        )
+      )
+      (LetD
+        (VarP intToFloat)
+        (FuncE
+          intToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int Float) (VarE n))
+        )
+      )
+      (LetD
+        (VarP floatToInt64)
+        (FuncE
+          floatToInt64
+          Local
+          Returns
+          (params f)
+          Int64
+          (PrimE (NumConvTrapPrim Float Int64) (VarE f))
+        )
+      )
+      (LetD
+        (VarP int64ToFloat)
+        (FuncE
+          int64ToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int64 Float) (VarE n))
+        )
+      )
+      (LetD (VarP floatToText) (VarE @text_of_Float))
+      (LetD
+        (VarP floatToFormattedText)
+        (FuncE
+          floatToFormattedText
+          Local
+          Returns
+          (params f prec mode)
+          Text
+          (PrimE fmtFloat->Text (VarE f) (VarE prec) (VarE mode))
+        )
+      )
+      (LetD
+        (VarP sin)
+        (FuncE sin Local Returns (params f) Float (PrimE fsin (VarE f)))
+      )
+      (LetD
+        (VarP cos)
+        (FuncE cos Local Returns (params f) Float (PrimE fcos (VarE f)))
+      )
+      (LetD
+        (VarP tan)
+        (FuncE tan Local Returns (params f) Float (PrimE ftan (VarE f)))
+      )
+      (LetD
+        (VarP arcsin)
+        (FuncE arcsin Local Returns (params f) Float (PrimE fasin (VarE f)))
+      )
+      (LetD
+        (VarP arccos)
+        (FuncE arccos Local Returns (params f) Float (PrimE facos (VarE f)))
+      )
+      (LetD
+        (VarP arctan)
+        (FuncE arctan Local Returns (params f) Float (PrimE fatan (VarE f)))
+      )
+      (LetD
+        (VarP arctan2)
+        (FuncE
+          arctan2
+          Local
+          Returns
+          (params y x)
+          Float
+          (PrimE fatan2 (VarE y) (VarE x))
+        )
+      )
+      (LetD
+        (VarP exp)
+        (FuncE exp Local Returns (params f) Float (PrimE fexp (VarE f)))
+      )
+      (LetD
+        (VarP log)
+        (FuncE log Local Returns (params f) Float (PrimE flog (VarE f)))
+      )
+      (LetD
+        (VarP Array_init)
+        (FuncE
+          Array_init
+          Local
+          Returns
+          (T Any)
+          (params len x)
+          [var T]
+          (PrimE Array.init (VarE len) (VarE x))
+        )
+      )
+      (LetD
+        (VarP Array_tabulate)
+        (FuncE
+          Array_tabulate
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [T]
+          (PrimE Array.tabulate (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP Array_tabulateVar)
+        (FuncE
+          Array_tabulateVar
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [var T]
+          (PrimE Array.tabulateVar (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP blobToArray)
+        (FuncE
+          blobToArray
+          Local
+          Returns
+          (params b)
+          [Nat8]
+          (PrimE blobToArray (VarE b))
+        )
+      )
+      (LetD
+        (VarP blobToArrayMut)
+        (FuncE
+          blobToArrayMut
+          Local
+          Returns
+          (params b)
+          [var Nat8]
+          (PrimE blobToArrayMut (VarE b))
+        )
+      )
+      (LetD
+        (VarP arrayToBlob)
+        (FuncE
+          arrayToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP arrayMutToBlob)
+        (FuncE
+          arrayMutToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayMutToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP error)
+        (FuncE
+          error
+          Local
+          Returns
+          (params message)
+          Error
+          (BlockE
+            (LetD
+              (VarP e)
+              (PrimE
+                TupPrim
+                (PrimE (TagE canister_reject) (PrimE TupPrim))
+                (VarE message)
+              )
+            )
+            (PrimE (CastPrim (ErrorCode, Text) Error) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorCode)
+        (FuncE
+          errorCode
+          Local
+          Returns
+          (params e)
+          ErrorCode
+          (PrimE
+            (ProjPrim 0)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorMessage)
+        (FuncE
+          errorMessage
+          Local
+          Returns
+          (params e)
+          Text
+          (PrimE
+            (ProjPrim 1)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP replyDeadline)
+        (FuncE replyDeadline Local Returns Nat64 (PrimE ICReplyDeadlinePrim))
+      )
+      (LetD (VarP time) (FuncE time Local Returns Nat64 (PrimE SystemTimePrim)))
+      (LetD
+        (VarP blobOfPrincipal)
+        (FuncE
+          blobOfPrincipal
+          Local
+          Returns
+          (params id)
+          Blob
+          (PrimE blobOfPrincipal (VarE id))
+        )
+      )
+      (LetD
+        (VarP principalOfBlob)
+        (FuncE
+          principalOfBlob
+          Local
+          Returns
+          (params act)
+          Principal
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE
+                  (RelPrim Nat GtOp)
+                  (PrimE blob_size (VarE act))
+                  (LitE (NatLit 29))
+                )
+                (PrimE
+                  (CallPrim)
+                  (VarE trap)
+                  (LitE (TextLit blob too long for principal))
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (PrimE principalOfBlob (VarE act))
+          )
+        )
+      )
+      (LetD
+        (VarP principalOfActor)
+        (FuncE
+          principalOfActor
+          Local
+          Returns
+          (params act)
+          Principal
+          (PrimE principalOfActor (VarE act))
+        )
+      )
+      (LetD
+        (VarP isController)
+        (FuncE
+          isController
+          Local
+          Returns
+          (params p)
+          Bool
+          (PrimE is_controller (VarE p))
+        )
+      )
+      (LetD
+        (VarP isReplicatedExecution)
+        (FuncE
+          isReplicatedExecution
+          Local
+          Returns
+          Bool
+          (PrimE replicated_execution)
+        )
+      )
+      (LetD
+        (VarP canisterVersion)
+        (FuncE canisterVersion Local Returns Nat64 (PrimE canister_version))
+      )
+      (LetD
+        (VarP canisterSubnet)
+        (FuncE canisterSubnet Local Returns Principal (PrimE canister_subnet))
+      )
+      (LetD (VarP rootKey) (FuncE rootKey Local Returns Blob (PrimE root_key)))
+      (LetD
+        (VarP getSelfPrincipal)
+        (FuncE
+          getSelfPrincipal
+          Local
+          Returns
+          ($ Any)
+          Principal
+          (PrimE canister_self)
+        )
+      )
+      (LetD (VarP createActor) (VarE @create_actor_helper))
+      (LetD
+        (VarP cyclesBalance)
+        (FuncE cyclesBalance Local Returns Nat (PrimE SystemCyclesBalancePrim))
+      )
+      (LetD
+        (VarP cyclesAvailable)
+        (FuncE
+          cyclesAvailable
+          Local
+          Returns
+          Nat
+          (PrimE SystemCyclesAvailablePrim)
+        )
+      )
+      (LetD
+        (VarP cyclesRefunded)
+        (FuncE cyclesRefunded Local Returns Nat (VarE! @refund))
+      )
+      (LetD
+        (VarP cyclesAccept)
+        (FuncE
+          cyclesAccept
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesAcceptPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP cyclesAdd)
+        (FuncE
+          cyclesAdd
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          ()
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat EqOp) (VarE amount) (LitE (NatLit 0)))
+                (PrimE RetPrim (PrimE TupPrim))
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              WildP
+              (AssignE
+                (VarLE @cycles)
+                (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE amount))
+              )
+            )
+            (IfE
+              (PrimE
+                (RelPrim Nat GtOp)
+                (VarE! @cycles)
+                (LitE
+                  (NatLit 340_282_366_920_938_463_463_374_607_431_768_211_455)
+                )
+              )
+              (PrimE
+                (CallPrim)
+                (VarE trap)
+                (LitE (TextLit cannot add more than 2^128 cycles))
+              )
+              (PrimE TupPrim)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP cyclesBurn)
+        (FuncE
+          cyclesBurn
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesBurnPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP costCall)
+        (FuncE
+          costCall
+          Local
+          Returns
+          (params methodNameSize payloadSize)
+          Nat
+          (PrimE costCall (VarE methodNameSize) (VarE payloadSize))
+        )
+      )
+      (LetD
+        (VarP costCreateCanister)
+        (FuncE costCreateCanister Local Returns Nat (PrimE costCreateCanister))
+      )
+      (LetD
+        (VarP costHttpRequest)
+        (FuncE
+          costHttpRequest
+          Local
+          Returns
+          (params requestSize maxResBytes)
+          Nat
+          (PrimE costHttpRequest (VarE requestSize) (VarE maxResBytes))
+        )
+      )
+      (LetD
+        (VarP costSignWithEcdsa)
+        (FuncE
+          costSignWithEcdsa
+          Local
+          Returns
+          (params keyName curveEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithEcdsa (VarE keyName) (VarE curveEncoding))
+        )
+      )
+      (LetD
+        (VarP costSignWithSchnorr)
+        (FuncE
+          costSignWithSchnorr
+          Local
+          Returns
+          (params keyName algorithmEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithSchnorr (VarE keyName) (VarE algorithmEncoding))
+        )
+      )
+      (LetD
+        (VarP setCertifiedData)
+        (FuncE
+          setCertifiedData
+          Local
+          Returns
+          (params data)
+          ()
+          (PrimE SetCertifiedData (VarE data))
+        )
+      )
+      (LetD
+        (VarP getCertificate)
+        (FuncE getCertificate Local Returns ?Blob (PrimE GetCertificate))
+      )
+      (LetD
+        (VarP stableMemorySize)
+        (FuncE stableMemorySize Local Returns Nat64 (PrimE stableMemorySize))
+      )
+      (LetD
+        (VarP stableMemoryGrow)
+        (FuncE
+          stableMemoryGrow
+          Local
+          Returns
+          (params pages)
+          Nat64
+          (PrimE stableMemoryGrow (VarE pages))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat32)
+        (FuncE
+          stableMemoryLoadNat32
+          Local
+          Returns
+          (params offset)
+          Nat32
+          (PrimE stableMemoryLoadNat32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat32)
+        (FuncE
+          stableMemoryStoreNat32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat8)
+        (FuncE
+          stableMemoryLoadNat8
+          Local
+          Returns
+          (params offset)
+          Nat8
+          (PrimE stableMemoryLoadNat8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat8)
+        (FuncE
+          stableMemoryStoreNat8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat16)
+        (FuncE
+          stableMemoryLoadNat16
+          Local
+          Returns
+          (params offset)
+          Nat16
+          (PrimE stableMemoryLoadNat16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat16)
+        (FuncE
+          stableMemoryStoreNat16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat64)
+        (FuncE
+          stableMemoryLoadNat64
+          Local
+          Returns
+          (params offset)
+          Nat64
+          (PrimE stableMemoryLoadNat64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat64)
+        (FuncE
+          stableMemoryStoreNat64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt32)
+        (FuncE
+          stableMemoryLoadInt32
+          Local
+          Returns
+          (params offset)
+          Int32
+          (PrimE stableMemoryLoadInt32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt32)
+        (FuncE
+          stableMemoryStoreInt32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt8)
+        (FuncE
+          stableMemoryLoadInt8
+          Local
+          Returns
+          (params offset)
+          Int8
+          (PrimE stableMemoryLoadInt8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt8)
+        (FuncE
+          stableMemoryStoreInt8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt16)
+        (FuncE
+          stableMemoryLoadInt16
+          Local
+          Returns
+          (params offset)
+          Int16
+          (PrimE stableMemoryLoadInt16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt16)
+        (FuncE
+          stableMemoryStoreInt16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt64)
+        (FuncE
+          stableMemoryLoadInt64
+          Local
+          Returns
+          (params offset)
+          Int64
+          (PrimE stableMemoryLoadInt64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt64)
+        (FuncE
+          stableMemoryStoreInt64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadFloat)
+        (FuncE
+          stableMemoryLoadFloat
+          Local
+          Returns
+          (params offset)
+          Float
+          (PrimE stableMemoryLoadFloat (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreFloat)
+        (FuncE
+          stableMemoryStoreFloat
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreFloat (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadBlob)
+        (FuncE
+          stableMemoryLoadBlob
+          Local
+          Returns
+          (params offset size)
+          Blob
+          (PrimE stableMemoryLoadBlob (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreBlob)
+        (FuncE
+          stableMemoryStoreBlob
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreBlob (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableVarQuery)
+        (FuncE
+          stableVarQuery
+          Local
+          Returns
+          shared query () -> async {size : Nat64}
+          (PrimE stableVarQuery)
+        )
+      )
+      (LetD
+        (VarP regionNew)
+        (FuncE regionNew Local Returns Region (PrimE regionNew))
+      )
+      (LetD
+        (VarP regionId)
+        (FuncE regionId Local Returns (params r) Nat (PrimE regionId (VarE r)))
+      )
+      (LetD
+        (VarP regionSize)
+        (FuncE
+          regionSize
+          Local
+          Returns
+          (params r)
+          Nat64
+          (PrimE regionSize (VarE r))
+        )
+      )
+      (LetD
+        (VarP regionGrow)
+        (FuncE
+          regionGrow
+          Local
+          Returns
+          (params r pages)
+          Nat64
+          (PrimE regionGrow (VarE r) (VarE pages))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat32)
+        (FuncE
+          regionLoadNat32
+          Local
+          Returns
+          (params r offset)
+          Nat32
+          (PrimE regionLoadNat32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat32)
+        (FuncE
+          regionStoreNat32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat8)
+        (FuncE
+          regionLoadNat8
+          Local
+          Returns
+          (params r offset)
+          Nat8
+          (PrimE regionLoadNat8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat8)
+        (FuncE
+          regionStoreNat8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat16)
+        (FuncE
+          regionLoadNat16
+          Local
+          Returns
+          (params r offset)
+          Nat16
+          (PrimE regionLoadNat16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat16)
+        (FuncE
+          regionStoreNat16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat64)
+        (FuncE
+          regionLoadNat64
+          Local
+          Returns
+          (params r offset)
+          Nat64
+          (PrimE regionLoadNat64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat64)
+        (FuncE
+          regionStoreNat64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt32)
+        (FuncE
+          regionLoadInt32
+          Local
+          Returns
+          (params r offset)
+          Int32
+          (PrimE regionLoadInt32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt32)
+        (FuncE
+          regionStoreInt32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt8)
+        (FuncE
+          regionLoadInt8
+          Local
+          Returns
+          (params r offset)
+          Int8
+          (PrimE regionLoadInt8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt8)
+        (FuncE
+          regionStoreInt8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt16)
+        (FuncE
+          regionLoadInt16
+          Local
+          Returns
+          (params r offset)
+          Int16
+          (PrimE regionLoadInt16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt16)
+        (FuncE
+          regionStoreInt16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt64)
+        (FuncE
+          regionLoadInt64
+          Local
+          Returns
+          (params r offset)
+          Int64
+          (PrimE regionLoadInt64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt64)
+        (FuncE
+          regionStoreInt64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadFloat)
+        (FuncE
+          regionLoadFloat
+          Local
+          Returns
+          (params r offset)
+          Float
+          (PrimE regionLoadFloat (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreFloat)
+        (FuncE
+          regionStoreFloat
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreFloat (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadBlob)
+        (FuncE
+          regionLoadBlob
+          Local
+          Returns
+          (params r offset size)
+          Blob
+          (PrimE regionLoadBlob (VarE r) (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP regionStoreBlob)
+        (FuncE
+          regionStoreBlob
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreBlob (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD (VarP call_raw) (VarE @call_raw))
+      (LetD
+        (VarP performanceCounter)
+        (FuncE
+          performanceCounter
+          Local
+          Returns
+          (params counter)
+          Nat64
+          (PrimE performanceCounter (VarE counter))
+        )
+      )
+      (LetD
+        (VarP setCandidLimits)
+        (FuncE
+          setCandidLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/0)
+          ()
+          (BlockE
+            (LetD
+              (ObjP
+                (numerator (VarP numerator))
+                (denominator (VarP denominator))
+                (bias (VarP bias))
+              )
+              (VarE $param/0)
+            )
+            (PrimE
+              setCandidLimits
+              (VarE numerator)
+              (VarE denominator)
+              (VarE bias)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidLimits)
+        (FuncE
+          getCandidLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; denominator : Nat32; numerator : Nat32}
+          (BlockE
+            (LetD
+              (TupP (VarP numerator) (VarP denominator) (VarP bias))
+              (PrimE getCandidLimits)
+            )
+            (NewObjE
+              Object
+              (bias bias)
+              (denominator denominator)
+              (numerator numerator)
+              {bias : Nat32; denominator : Nat32; numerator : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP setCandidTypeLimits)
+        (FuncE
+          setCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/1)
+          ()
+          (BlockE
+            (LetD
+              (ObjP (scalar (VarP scalar)) (bias (VarP bias)))
+              (VarE $param/1)
+            )
+            (PrimE setCandidTypeLimits (VarE scalar) (VarE bias))
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidTypeLimits)
+        (FuncE
+          getCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; scalar : Nat32}
+          (BlockE
+            (LetD (TupP (VarP scalar) (VarP bias)) (PrimE getCandidTypeLimits))
+            (NewObjE
+              Object
+              (bias bias)
+              (scalar scalar)
+              {bias : Nat32; scalar : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP forall)
+        (FuncE
+          forall
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE forall (VarE f))
+        )
+      )
+      (LetD
+        (VarP exists)
+        (FuncE
+          exists
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE exists (VarE f))
+        )
+      )
+      (LetD (VarP setTimer) (VarE @setTimer))
+      (LetD (VarP cancelTimer) (VarE @cancelTimer))
+      (NewObjE
+        Module
+        (weakGet weakGet)
+        (trap trap)
+        (time time)
+        (textUppercase textUppercase)
+        (textLowercase textLowercase)
+        (textCompare textCompare)
+        (tan tan)
+        (stableVarQuery stableVarQuery)
+        (stableMemoryStoreNat8 stableMemoryStoreNat8)
+        (stableMemoryStoreNat64 stableMemoryStoreNat64)
+        (stableMemoryStoreNat32 stableMemoryStoreNat32)
+        (stableMemoryStoreNat16 stableMemoryStoreNat16)
+        (stableMemoryStoreInt8 stableMemoryStoreInt8)
+        (stableMemoryStoreInt64 stableMemoryStoreInt64)
+        (stableMemoryStoreInt32 stableMemoryStoreInt32)
+        (stableMemoryStoreInt16 stableMemoryStoreInt16)
+        (stableMemoryStoreFloat stableMemoryStoreFloat)
+        (stableMemoryStoreBlob stableMemoryStoreBlob)
+        (stableMemorySize stableMemorySize)
+        (stableMemoryLoadNat8 stableMemoryLoadNat8)
+        (stableMemoryLoadNat64 stableMemoryLoadNat64)
+        (stableMemoryLoadNat32 stableMemoryLoadNat32)
+        (stableMemoryLoadNat16 stableMemoryLoadNat16)
+        (stableMemoryLoadInt8 stableMemoryLoadInt8)
+        (stableMemoryLoadInt64 stableMemoryLoadInt64)
+        (stableMemoryLoadInt32 stableMemoryLoadInt32)
+        (stableMemoryLoadInt16 stableMemoryLoadInt16)
+        (stableMemoryLoadFloat stableMemoryLoadFloat)
+        (stableMemoryLoadBlob stableMemoryLoadBlob)
+        (stableMemoryGrow stableMemoryGrow)
+        (sin sin)
+        (shiftRight shiftRight)
+        (shiftLeft shiftLeft)
+        (setTimer setTimer)
+        (setCertifiedData setCertifiedData)
+        (setCandidTypeLimits setCandidTypeLimits)
+        (setCandidLimits setCandidLimits)
+        (rts_version rts_version)
+        (rts_upgrade_instructions rts_upgrade_instructions)
+        (rts_total_allocation rts_total_allocation)
+        (rts_stable_memory_size rts_stable_memory_size)
+        (rts_reclaimed rts_reclaimed)
+        (rts_mutator_instructions rts_mutator_instructions)
+        (rts_memory_size rts_memory_size)
+        (rts_max_stack_size rts_max_stack_size)
+        (rts_max_live_size rts_max_live_size)
+        (rts_logical_stable_memory_size rts_logical_stable_memory_size)
+        (rts_lifetime_instructions rts_lifetime_instructions)
+        (rts_heap_size rts_heap_size)
+        (rts_collector_instructions rts_collector_instructions)
+        (rts_callback_table_size rts_callback_table_size)
+        (rts_callback_table_count rts_callback_table_count)
+        (rootKey rootKey)
+        (replyDeadline replyDeadline)
+        (regionStoreNat8 regionStoreNat8)
+        (regionStoreNat64 regionStoreNat64)
+        (regionStoreNat32 regionStoreNat32)
+        (regionStoreNat16 regionStoreNat16)
+        (regionStoreInt8 regionStoreInt8)
+        (regionStoreInt64 regionStoreInt64)
+        (regionStoreInt32 regionStoreInt32)
+        (regionStoreInt16 regionStoreInt16)
+        (regionStoreFloat regionStoreFloat)
+        (regionStoreBlob regionStoreBlob)
+        (regionSize regionSize)
+        (regionNew regionNew)
+        (regionLoadNat8 regionLoadNat8)
+        (regionLoadNat64 regionLoadNat64)
+        (regionLoadNat32 regionLoadNat32)
+        (regionLoadNat16 regionLoadNat16)
+        (regionLoadInt8 regionLoadInt8)
+        (regionLoadInt64 regionLoadInt64)
+        (regionLoadInt32 regionLoadInt32)
+        (regionLoadInt16 regionLoadInt16)
+        (regionLoadFloat regionLoadFloat)
+        (regionLoadBlob regionLoadBlob)
+        (regionId regionId)
+        (regionGrow regionGrow)
+        (pruneConfirmedDeadBlobs pruneConfirmedDeadBlobs)
+        (principalOfBlob principalOfBlob)
+        (principalOfActor principalOfActor)
+        (popcntNat8 popcntNat8)
+        (popcntNat64 popcntNat64)
+        (popcntNat32 popcntNat32)
+        (popcntNat16 popcntNat16)
+        (popcntInt8 popcntInt8)
+        (popcntInt64 popcntInt64)
+        (popcntInt32 popcntInt32)
+        (popcntInt16 popcntInt16)
+        (performanceCounter performanceCounter)
+        (natToNat8 natToNat8)
+        (natToNat64 natToNat64)
+        (natToNat32 natToNat32)
+        (natToNat16 natToNat16)
+        (nat8ToNat16 nat8ToNat16)
+        (nat8ToNat nat8ToNat)
+        (nat8ToInt8 nat8ToInt8)
+        (nat64ToNat32 nat64ToNat32)
+        (nat64ToNat nat64ToNat)
+        (nat64ToInt64 nat64ToInt64)
+        (nat32ToNat64 nat32ToNat64)
+        (nat32ToNat16 nat32ToNat16)
+        (nat32ToNat nat32ToNat)
+        (nat32ToInt32 nat32ToInt32)
+        (nat32ToChar nat32ToChar)
+        (nat16ToNat8 nat16ToNat8)
+        (nat16ToNat32 nat16ToNat32)
+        (nat16ToNat nat16ToNat)
+        (nat16ToInt16 nat16ToInt16)
+        (log log)
+        (isStorageBlobLive isStorageBlobLive)
+        (isReplicatedExecution isReplicatedExecution)
+        (isLive isLive)
+        (isController isController)
+        (intToNat8Wrap intToNat8Wrap)
+        (intToNat64Wrap intToNat64Wrap)
+        (intToNat32Wrap intToNat32Wrap)
+        (intToNat16Wrap intToNat16Wrap)
+        (intToInt8Wrap intToInt8Wrap)
+        (intToInt8 intToInt8)
+        (intToInt64Wrap intToInt64Wrap)
+        (intToInt64 intToInt64)
+        (intToInt32Wrap intToInt32Wrap)
+        (intToInt32 intToInt32)
+        (intToInt16Wrap intToInt16Wrap)
+        (intToInt16 intToInt16)
+        (intToFloat intToFloat)
+        (int8ToNat8 int8ToNat8)
+        (int8ToInt16 int8ToInt16)
+        (int8ToInt int8ToInt)
+        (int64ToNat64 int64ToNat64)
+        (int64ToInt32 int64ToInt32)
+        (int64ToInt int64ToInt)
+        (int64ToFloat int64ToFloat)
+        (int32ToNat32 int32ToNat32)
+        (int32ToInt64 int32ToInt64)
+        (int32ToInt16 int32ToInt16)
+        (int32ToInt int32ToInt)
+        (int16ToNat16 int16ToNat16)
+        (int16ToInt8 int16ToInt8)
+        (int16ToInt32 int16ToInt32)
+        (int16ToInt int16ToInt)
+        (idlHash idlHash)
+        (hashBlob hashBlob)
+        (getSelfPrincipal getSelfPrincipal)
+        (getDeadBlobs getDeadBlobs)
+        (getCertificate getCertificate)
+        (getCandidTypeLimits getCandidTypeLimits)
+        (getCandidLimits getCandidLimits)
+        (forall forall)
+        (floatTrunc floatTrunc)
+        (floatToText floatToText)
+        (floatToInt64 floatToInt64)
+        (floatToInt floatToInt)
+        (floatToFormattedText floatToFormattedText)
+        (floatSqrt floatSqrt)
+        (floatNearest floatNearest)
+        (floatMin floatMin)
+        (floatMax floatMax)
+        (floatFloor floatFloor)
+        (floatCopySign floatCopySign)
+        (floatCeil floatCeil)
+        (floatAbs floatAbs)
+        (explodeNat64 explodeNat64)
+        (explodeNat32 explodeNat32)
+        (explodeNat16 explodeNat16)
+        (explodeInt64 explodeInt64)
+        (explodeInt32 explodeInt32)
+        (explodeInt16 explodeInt16)
+        (exp exp)
+        (exists exists)
+        (errorMessage errorMessage)
+        (errorCode errorCode)
+        (error error)
+        (envVarNames envVarNames)
+        (envVar envVar)
+        (encodeUtf8 encodeUtf8)
+        (decodeUtf8 decodeUtf8)
+        (debugPrintNat debugPrintNat)
+        (debugPrintInt debugPrintInt)
+        (debugPrintChar debugPrintChar)
+        (debugPrint debugPrint)
+        (cyclesRefunded cyclesRefunded)
+        (cyclesBurn cyclesBurn)
+        (cyclesBalance cyclesBalance)
+        (cyclesAvailable cyclesAvailable)
+        (cyclesAdd cyclesAdd)
+        (cyclesAccept cyclesAccept)
+        (ctzNat8 ctzNat8)
+        (ctzNat64 ctzNat64)
+        (ctzNat32 ctzNat32)
+        (ctzNat16 ctzNat16)
+        (ctzInt8 ctzInt8)
+        (ctzInt64 ctzInt64)
+        (ctzInt32 ctzInt32)
+        (ctzInt16 ctzInt16)
+        (createActor createActor)
+        (costSignWithSchnorr costSignWithSchnorr)
+        (costSignWithEcdsa costSignWithEcdsa)
+        (costHttpRequest costHttpRequest)
+        (costCreateCanister costCreateCanister)
+        (costCall costCall)
+        (cos cos)
+        (clzNat8 clzNat8)
+        (clzNat64 clzNat64)
+        (clzNat32 clzNat32)
+        (clzNat16 clzNat16)
+        (clzInt8 clzInt8)
+        (clzInt64 clzInt64)
+        (clzInt32 clzInt32)
+        (clzInt16 clzInt16)
+        (charToUpper charToUpper)
+        (charToText charToText)
+        (charToNat32 charToNat32)
+        (charToLower charToLower)
+        (charIsWhitespace charIsWhitespace)
+        (charIsUppercase charIsUppercase)
+        (charIsLowercase charIsLowercase)
+        (charIsAlphabetic charIsAlphabetic)
+        (canisterVersion canisterVersion)
+        (canisterSubnet canisterSubnet)
+        (cancelTimer cancelTimer)
+        (call_raw call_raw)
+        (btstNat8 btstNat8)
+        (btstNat64 btstNat64)
+        (btstNat32 btstNat32)
+        (btstNat16 btstNat16)
+        (btstInt8 btstInt8)
+        (btstInt64 btstInt64)
+        (btstInt32 btstInt32)
+        (btstInt16 btstInt16)
+        (blobToArrayMut blobToArrayMut)
+        (blobToArray blobToArray)
+        (blobOfPrincipal blobOfPrincipal)
+        (blobCompare blobCompare)
+        (arrayToBlob arrayToBlob)
+        (arrayMutToBlob arrayMutToBlob)
+        (arctan2 arctan2)
+        (arctan arctan)
+        (arcsin arcsin)
+        (arccos arccos)
+        (allocWeakRef allocWeakRef)
+        (abs abs)
+        (__getDedupTable __getDedupTable)
+        (Types Types)
+        (BlobIterator BlobIterator)
+        (Array_tabulateVar Array_tabulateVar)
+        (Array_tabulate Array_tabulate)
+        (Array_init Array_init)
+        module {Array_init : <T>(Nat, T) -> [var T]; Array_tabulate : <T>(Nat, Nat -> T) -> [T]; Array_tabulateVar : <T>(Nat, Nat -> T) -> [var T]; BlobIterator : [var __List] -> BlobIterator; Types : module {}; __getDedupTable : () -> ?[var __List]; abs : Int -> Nat; allocWeakRef : <T>T -> weak T; arccos : Float -> Float; arcsin : Float -> Float; arctan : Float -> Float; arctan2 : (Float, Float) -> Float; arrayMutToBlob : [var Nat8] -> Blob; arrayToBlob : [Nat8] -> Blob; blobCompare : (Blob, Blob) -> Int8; blobOfPrincipal : Principal -> Blob; blobToArray : Blob -> [Nat8]; blobToArrayMut : Blob -> [var Nat8]; btstInt16 : (Int16, Int16) -> Bool; btstInt32 : (Int32, Int32) -> Bool; btstInt64 : (Int64, Int64) -> Bool; btstInt8 : (Int8, Int8) -> Bool; btstNat16 : (Nat16, Nat16) -> Bool; btstNat32 : (Nat32, Nat32) -> Bool; btstNat64 : (Nat64, Nat64) -> Bool; btstNat8 : (Nat8, Nat8) -> Bool; call_raw : (Principal, Text, Blob) -> async Blob; cancelTimer : Nat -> (); canisterSubnet : () -> Principal; canisterVersion : () -> Nat64; charIsAlphabetic : Char -> Bool; charIsLowercase : Char -> Bool; charIsUppercase : Char -> Bool; charIsWhitespace : Char -> Bool; charToLower : Char -> Char; charToNat32 : Char -> Nat32; charToText : Char -> Text; charToUpper : Char -> Char; clzInt16 : Int16 -> Int16; clzInt32 : Int32 -> Int32; clzInt64 : Int64 -> Int64; clzInt8 : Int8 -> Int8; clzNat16 : Nat16 -> Nat16; clzNat32 : Nat32 -> Nat32; clzNat64 : Nat64 -> Nat64; clzNat8 : Nat8 -> Nat8; cos : Float -> Float; costCall : (Nat64, Nat64) -> Nat; costCreateCanister : () -> Nat; costHttpRequest : (Nat64, Nat64) -> Nat; costSignWithEcdsa : (Text, Nat32) -> (Nat32, Nat); costSignWithSchnorr : (Text, Nat32) -> (Nat32, Nat); createActor : (Blob, Blob) -> async Principal; ctzInt16 : Int16 -> Int16; ctzInt32 : Int32 -> Int32; ctzInt64 : Int64 -> Int64; ctzInt8 : Int8 -> Int8; ctzNat16 : Nat16 -> Nat16; ctzNat32 : Nat32 -> Nat32; ctzNat64 : Nat64 -> Nat64; ctzNat8 : Nat8 -> Nat8; cyclesAccept : <system>Nat -> Nat; cyclesAdd : <system>Nat -> (); cyclesAvailable : () -> Nat; cyclesBalance : () -> Nat; cyclesBurn : <system>Nat -> Nat; cyclesRefunded : () -> Nat; debugPrint : Text -> (); debugPrintChar : Char -> (); debugPrintInt : Int -> (); debugPrintNat : Nat -> (); decodeUtf8 : Blob -> ?Text; encodeUtf8 : Text -> Blob; envVar : <system>Text -> ?Text; envVarNames : <system>() -> [Text]; error : Text -> Error; errorCode : Error -> ErrorCode; errorMessage : Error -> Text; exists : <T>(T -> Bool) -> Bool; exp : Float -> Float; explodeInt16 : Int16 -> (Nat8, Nat8); explodeInt32 : Int32 -> (Nat8, Nat8, Nat8, Nat8); explodeInt64 : Int64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); explodeNat16 : Nat16 -> (Nat8, Nat8); explodeNat32 : Nat32 -> (Nat8, Nat8, Nat8, Nat8); explodeNat64 : Nat64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); floatAbs : Float -> Float; floatCeil : Float -> Float; floatCopySign : (Float, Float) -> Float; floatFloor : Float -> Float; floatMax : (Float, Float) -> Float; floatMin : (Float, Float) -> Float; floatNearest : Float -> Float; floatSqrt : Float -> Float; floatToFormattedText : (Float, Nat8, Nat8) -> Text; floatToInt : Float -> Int; floatToInt64 : Float -> Int64; floatToText : Float -> Text; floatTrunc : Float -> Float; forall : <T>(T -> Bool) -> Bool; getCandidLimits : <system>() -> {bias : Nat32; denominator : Nat32; numerator : Nat32}; getCandidTypeLimits : <system>() -> {bias : Nat32; scalar : Nat32}; getCertificate : () -> ?Blob; getDeadBlobs : () -> ?[Blob]; getSelfPrincipal : <system>() -> Principal; hashBlob : Blob -> Nat32; idlHash : Text -> Nat32; int16ToInt : Int16 -> Int; int16ToInt32 : Int16 -> Int32; int16ToInt8 : Int16 -> Int8; int16ToNat16 : Int16 -> Nat16; int32ToInt : Int32 -> Int; int32ToInt16 : Int32 -> Int16; int32ToInt64 : Int32 -> Int64; int32ToNat32 : Int32 -> Nat32; int64ToFloat : Int64 -> Float; int64ToInt : Int64 -> Int; int64ToInt32 : Int64 -> Int32; int64ToNat64 : Int64 -> Nat64; int8ToInt : Int8 -> Int; int8ToInt16 : Int8 -> Int16; int8ToNat8 : Int8 -> Nat8; intToFloat : Int -> Float; intToInt16 : Int -> Int16; intToInt16Wrap : Int -> Int16; intToInt32 : Int -> Int32; intToInt32Wrap : Int -> Int32; intToInt64 : Int -> Int64; intToInt64Wrap : Int -> Int64; intToInt8 : Int -> Int8; intToInt8Wrap : Int -> Int8; intToNat16Wrap : Int -> Nat16; intToNat32Wrap : Int -> Nat32; intToNat64Wrap : Int -> Nat64; intToNat8Wrap : Int -> Nat8; isController : Principal -> Bool; isLive : weak Any -> Bool; isReplicatedExecution : () -> Bool; isStorageBlobLive : Blob -> Bool; log : Float -> Float; nat16ToInt16 : Nat16 -> Int16; nat16ToNat : Nat16 -> Nat; nat16ToNat32 : Nat16 -> Nat32; nat16ToNat8 : Nat16 -> Nat8; nat32ToChar : Nat32 -> Char; nat32ToInt32 : Nat32 -> Int32; nat32ToNat : Nat32 -> Nat; nat32ToNat16 : Nat32 -> Nat16; nat32ToNat64 : Nat32 -> Nat64; nat64ToInt64 : Nat64 -> Int64; nat64ToNat : Nat64 -> Nat; nat64ToNat32 : Nat64 -> Nat32; nat8ToInt8 : Nat8 -> Int8; nat8ToNat : Nat8 -> Nat; nat8ToNat16 : Nat8 -> Nat16; natToNat16 : Nat -> Nat16; natToNat32 : Nat -> Nat32; natToNat64 : Nat -> Nat64; natToNat8 : Nat -> Nat8; performanceCounter : Nat32 -> Nat64; popcntInt16 : Int16 -> Int16; popcntInt32 : Int32 -> Int32; popcntInt64 : Int64 -> Int64; popcntInt8 : Int8 -> Int8; popcntNat16 : Nat16 -> Nat16; popcntNat32 : Nat32 -> Nat32; popcntNat64 : Nat64 -> Nat64; popcntNat8 : Nat8 -> Nat8; principalOfActor : (actor {}) -> Principal; principalOfBlob : Blob -> Principal; pruneConfirmedDeadBlobs : [Blob] -> (); regionGrow : (Region, Nat64) -> Nat64; regionId : Region -> Nat; regionLoadBlob : (Region, Nat64, Nat) -> Blob; regionLoadFloat : (Region, Nat64) -> Float; regionLoadInt16 : (Region, Nat64) -> Int16; regionLoadInt32 : (Region, Nat64) -> Int32; regionLoadInt64 : (Region, Nat64) -> Int64; regionLoadInt8 : (Region, Nat64) -> Int8; regionLoadNat16 : (Region, Nat64) -> Nat16; regionLoadNat32 : (Region, Nat64) -> Nat32; regionLoadNat64 : (Region, Nat64) -> Nat64; regionLoadNat8 : (Region, Nat64) -> Nat8; regionNew : () -> Region; regionSize : Region -> Nat64; regionStoreBlob : (Region, Nat64, Blob) -> (); regionStoreFloat : (Region, Nat64, Float) -> (); regionStoreInt16 : (Region, Nat64, Int16) -> (); regionStoreInt32 : (Region, Nat64, Int32) -> (); regionStoreInt64 : (Region, Nat64, Int64) -> (); regionStoreInt8 : (Region, Nat64, Int8) -> (); regionStoreNat16 : (Region, Nat64, Nat16) -> (); regionStoreNat32 : (Region, Nat64, Nat32) -> (); regionStoreNat64 : (Region, Nat64, Nat64) -> (); regionStoreNat8 : (Region, Nat64, Nat8) -> (); replyDeadline : () -> Nat64; rootKey : () -> Blob; rts_callback_table_count : () -> Nat; rts_callback_table_size : () -> Nat; rts_collector_instructions : () -> Nat; rts_heap_size : () -> Nat; rts_lifetime_instructions : () -> Nat; rts_logical_stable_memory_size : () -> Nat; rts_max_live_size : () -> Nat; rts_max_stack_size : () -> Nat; rts_memory_size : () -> Nat; rts_mutator_instructions : () -> Nat; rts_reclaimed : () -> Nat; rts_stable_memory_size : () -> Nat; rts_total_allocation : () -> Nat; rts_upgrade_instructions : () -> Nat; rts_version : () -> Text; setCandidLimits : <system>{bias : Nat32; denominator : Nat32; numerator : Nat32} -> (); setCandidTypeLimits : <system>{bias : Nat32; scalar : Nat32} -> (); setCertifiedData : Blob -> (); setTimer : <system>(Nat64, Bool, () -> async ()) -> Nat; shiftLeft : (Nat, Nat32) -> Nat; shiftRight : (Nat, Nat32) -> Nat; sin : Float -> Float; stableMemoryGrow : Nat64 -> Nat64; stableMemoryLoadBlob : (Nat64, Nat) -> Blob; stableMemoryLoadFloat : Nat64 -> Float; stableMemoryLoadInt16 : Nat64 -> Int16; stableMemoryLoadInt32 : Nat64 -> Int32; stableMemoryLoadInt64 : Nat64 -> Int64; stableMemoryLoadInt8 : Nat64 -> Int8; stableMemoryLoadNat16 : Nat64 -> Nat16; stableMemoryLoadNat32 : Nat64 -> Nat32; stableMemoryLoadNat64 : Nat64 -> Nat64; stableMemoryLoadNat8 : Nat64 -> Nat8; stableMemorySize : () -> Nat64; stableMemoryStoreBlob : (Nat64, Blob) -> (); stableMemoryStoreFloat : (Nat64, Float) -> (); stableMemoryStoreInt16 : (Nat64, Int16) -> (); stableMemoryStoreInt32 : (Nat64, Int32) -> (); stableMemoryStoreInt64 : (Nat64, Int64) -> (); stableMemoryStoreInt8 : (Nat64, Int8) -> (); stableMemoryStoreNat16 : (Nat64, Nat16) -> (); stableMemoryStoreNat32 : (Nat64, Nat32) -> (); stableMemoryStoreNat64 : (Nat64, Nat64) -> (); stableMemoryStoreNat8 : (Nat64, Nat8) -> (); stableVarQuery : () -> shared query () -> async {size : Nat64}; tan : Float -> Float; textCompare : (Text, Text) -> Int8; textLowercase : Text -> Text; textUppercase : Text -> Text; time : () -> Nat64; trap : Text -> None; weakGet : <T>weak T -> ?T}
+      )
+    )
+  )
+  (LetD
+    (VarP file$issue-5767/Region.mo)
+    (BlockE
+      (LetD (VarP Prim) (VarE file$@prim))
+      (BlockE
+        (LetD (VarP new) (PrimE (DotPrim regionNew) (VarE Prim)))
+        (LetD
+          (VarP grow)
+          (FuncE
+            grow
+            Local
+            Returns
+            (params self newPages)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionGrow) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE newPages))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64)
+          (FuncE
+            loadNat64
+            Local
+            Returns
+            (params self offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE offset))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64Fn)
+          (FuncE
+            loadNat64Fn
+            Local
+            Returns
+            (params r offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE r) (VarE offset))
+            )
+          )
+        )
+        (NewObjE
+          Module
+          (new new)
+          (loadNat64Fn loadNat64Fn)
+          (loadNat64 loadNat64)
+          (grow grow)
+          module {grow : (Region, Nat64) -> Nat64; loadNat64 : (Region, Nat64) -> Nat64; loadNat64Fn : (Region, Nat64) -> Nat64; new : () -> Region}
+        )
+      )
+    )
+  )
+  (LetD (VarP Region) (VarE file$issue-5767/Region.mo))
+  (LetD
+    (VarP $__motoko_stable_var_info)
+    (FuncE
+      $__motoko_stable_var_info
+      Shared Query
+      Promises
+      (T1 Any)
+      {size : Nat64}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/0) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (PrimE
+              AssertPrim
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/0)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/0))
+              )
+            )
+          )
+          (LetD
+            (VarP $size/0)
+            (PrimE (ICStableSize memory {}) (NewObjE Memory memory {}))
+          )
+          (NewObjE Object (size $size/0) {size : Nat64})
+        )
+        T1
+      )
+    )
+  )
+  (LetD
+    (VarP $__motoko_runtime_information)
+    (FuncE
+      $__motoko_runtime_information
+      Shared Query
+      Promises
+      (T1 Any)
+      {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/1) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (IfE
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/1)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/1))
+              )
+              (PrimE TupPrim)
+              (PrimE
+                trap
+                (LitE
+                  (TextLit Unauthorized call of __motoko_runtime_information)
+                )
+              )
+            )
+          )
+          (LetD
+            (VarP $compilerVersion/0)
+            (LitE (TextLit 1.0.0-77-g4d85e5c86-dirty))
+          )
+          (LetD (VarP $garbageCollector/0) (LitE (TextLit default force)))
+          (LetD (VarP $rtsVersion/0) (PrimE rts_version))
+          (LetD (VarP $sanityChecks/0) (LitE (BoolLit false)))
+          (LetD (VarP $memorySize/0) (PrimE rts_memory_size))
+          (LetD (VarP $heapSize/0) (PrimE rts_heap_size))
+          (LetD (VarP $totalAllocation/0) (PrimE rts_total_allocation))
+          (LetD (VarP $reclaimed/0) (PrimE rts_reclaimed))
+          (LetD (VarP $maxLiveSize/0) (PrimE rts_max_live_size))
+          (LetD (VarP $stableMemorySize/0) (PrimE rts_stable_memory_size))
+          (LetD
+            (VarP $logicalStableMemorySize/0)
+            (PrimE rts_logical_stable_memory_size)
+          )
+          (LetD (VarP $maxStackSize/0) (PrimE rts_max_stack_size))
+          (LetD (VarP $callbackTableCount/0) (PrimE rts_callback_table_count))
+          (LetD (VarP $callbackTableSize/0) (PrimE rts_callback_table_size))
+          (NewObjE
+            Object
+            (callbackTableSize $callbackTableSize/0)
+            (callbackTableCount $callbackTableCount/0)
+            (maxStackSize $maxStackSize/0)
+            (logicalStableMemorySize $logicalStableMemorySize/0)
+            (stableMemorySize $stableMemorySize/0)
+            (maxLiveSize $maxLiveSize/0)
+            (reclaimed $reclaimed/0)
+            (totalAllocation $totalAllocation/0)
+            (heapSize $heapSize/0)
+            (memorySize $memorySize/0)
+            (sanityChecks $sanityChecks/0)
+            (rtsVersion $rtsVersion/0)
+            (garbageCollector $garbageCollector/0)
+            (compilerVersion $compilerVersion/0)
+            {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+          )
+        )
+        T1
+      )
+    )
+  )
+  (LetD (VarP A) (PrimE (SelfRef actor {go : shared () -> async ()})))
+  (VarD $state/0 ?(memory {}) (PrimE OptPrim (PrimE (ICStableRead memory {}))))
+  (LetD
+    (VarP $getState/0)
+    (FuncE
+      $getState/0
+      Local
+      Returns
+      memory {}
+      (SwitchE
+        (VarE! $state/0)
+        (case (LitP NullLit) (LoopE (PrimE TupPrim)))
+        (case (OptP (VarP $v/0)) (VarE $v/0))
+      )
+    )
+  )
+  (LetD
+    (VarP r)
+    (PrimE (CallPrim) (PrimE (DotPrim new) (VarE Region)) (PrimE TupPrim))
+  )
+  (LetD
+    WildP
+    (PrimE
+      (CallPrim)
+      (PrimE (DotPrim grow) (VarE Region))
+      (PrimE TupPrim (VarE r) (LitE (Nat64Lit 1)))
+    )
+  )
+  (LetD
+    (VarP kermit)
+    (FuncE
+      kermit
+      Local
+      Returns
+      ()
+      (BlockE
+        (LetD
+          (VarP w1)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w2)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w3)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64Fn) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (PrimE TupPrim)
+      )
+    )
+  )
+  (LetD
+    (VarP go)
+    (FuncE
+      go
+      Shared
+      Promises
+      ($ Any)
+      ()
+      (AsyncE ($go Any) (PrimE (CallPrim) (VarE kermit) (PrimE TupPrim)) $)
+    )
+  )
+  (LetD WildP (AssignE (VarLE $state/0) (LitE NullLit)))
+  (go go)
+  (__motoko_runtime_information $__motoko_runtime_information)
+  (__motoko_stable_var_info $__motoko_stable_var_info)
+  (System
+    (Pre (PrimE (ICStableWrite memory {})))
+    (Post (PrimE TupPrim))
+    (Heartbeat (PrimE TupPrim))
+    (Timer
+      (BlockE
+        (LetD WildP (PrimE (CallPrim ()) (VarE @timer_helper) (PrimE TupPrim)))
+        (PrimE TupPrim)
+      )
+    )
+    (Inspect (PrimE TupPrim))
+    (LowMemory (PrimE TupPrim))
+    (StableRecord (NewObjE Memory memory {}))
+    (StableType memory {} memory {})
+  )
+  actor {go : shared () -> async ()}
+)
+(ActorU
+  (VarD @cycles Nat (LitE (NatLit 0)))
+  (VarD @timeout ?Nat32 (LitE NullLit))
+  (LetD
+    (VarP @add_cycles)
+    (FuncE
+      @add_cycles
+      Local
+      Returns
+      ($ Any)
+      ()
+      (BlockE
+        (LetD (VarP cycles) (VarE! @cycles))
+        (LetD WildP (PrimE (CallPrim) (VarE @reset_cycles) (PrimE TupPrim)))
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE (RelPrim Nat EqOp) (VarE cycles) (LitE (NatLit 0)))
+              (LitE (BoolLit false))
+            )
+            (PrimE SystemCyclesAddPrim (VarE cycles))
+            (PrimE TupPrim)
+          )
+        )
+        (SwitchE
+          (VarE! @timeout)
+          (case
+            (OptP (VarP timeout))
+            (BlockE
+              (LetD WildP (AssignE (VarLE @timeout) (LitE NullLit)))
+              (PrimE SystemTimeoutSetPrim (VarE timeout))
+            )
+          )
+          (case (LitP NullLit) (PrimE TupPrim))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @reset_cycles)
+    (FuncE
+      @reset_cycles
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @cycles) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @immut_array_get)
+    (FuncE
+      @immut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-45.49
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_get)
+    (FuncE
+      @mut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-46.51
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_size)
+    (FuncE
+      @immut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-47.51 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_size)
+    (FuncE
+      @mut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-48.53 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_put)
+    (FuncE
+      @mut_array_put
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      (Nat, A) -> ()
+      (FuncE
+        @anon-func-49.57
+        Local
+        Returns
+        (params n x)
+        ()
+        (AssignE (IdxLE (VarE xs) (VarE n)) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_keys)
+    (FuncE
+      @immut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-50.58
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_keys)
+    (FuncE
+      @mut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-55.60
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_vals)
+    (FuncE
+      @immut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-60.56
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_vals)
+    (FuncE
+      @mut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-67.58
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_size)
+    (FuncE
+      @blob_size
+      Local
+      Returns
+      (params b)
+      () -> Nat
+      (FuncE @anon-func-74.41 Local Returns Nat (PrimE blob_size (VarE b)))
+    )
+  )
+  (LetD
+    (VarP @blob_keys)
+    (FuncE
+      @blob_keys
+      Local
+      Returns
+      (params b)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-75.48
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE blob_size (VarE b)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_get)
+    (FuncE
+      @blob_get
+      Local
+      Returns
+      (params b)
+      Nat -> Nat8
+      (FuncE
+        @anon-func-80.42
+        Local
+        Returns
+        (params n)
+        Nat8
+        (PrimE IdxBlobPrim (VarE b) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_vals)
+    (FuncE
+      @blob_vals
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Nat8>
+      (FuncE
+        @anon-func-81.50
+        Local
+        Returns
+        @Iter<Nat8>
+        (BlockE
+          (LetD (VarP i) (PrimE blob_vals_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat8
+              (IfE
+                (PrimE blob_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE blob_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat8})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_size)
+    (FuncE
+      @text_size
+      Local
+      Returns
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-88.42 Local Returns Nat (PrimE text_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @text_chars)
+    (FuncE
+      @text_chars
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Char>
+      (FuncE
+        @anon-func-89.51
+        Local
+        Returns
+        @Iter<Char>
+        (BlockE
+          (LetD (VarP i) (PrimE text_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Char
+              (IfE
+                (PrimE text_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE text_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Char})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_num)
+    (FuncE
+      @text_of_num
+      Local
+      Returns
+      (params x base sep digits)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit )))
+        (VarD n Nat (VarE x))
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat EqOp) (VarE! n) (LitE (NatLit 0)))
+            (PrimE RetPrim (LitE (TextLit 0)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD
+          WildP
+          (LabelE
+            $done/2
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat GtOp) (VarE! n) (LitE (NatLit 0)))
+                (BlockE
+                  (LetD
+                    (VarP rem)
+                    (PrimE (BinPrim Nat ModOp) (VarE! n) (VarE base))
+                  )
+                  (LetD
+                    WildP
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat GtOp) (VarE sep) (LitE (NatLit 0)))
+                        (PrimE (RelPrim Nat EqOp) (VarE! i) (VarE sep))
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE text)
+                            (PrimE
+                              (BinPrim Text CatOp)
+                              (LitE (TextLit _))
+                              (VarE! text)
+                            )
+                          )
+                        )
+                        (AssignE (VarLE i) (LitE (NatLit 0)))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE text)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (PrimE (CallPrim) (VarE digits) (VarE rem))
+                        (VarE! text)
+                      )
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE n)
+                      (PrimE (BinPrim Nat DivOp) (VarE! n) (VarE base))
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/2) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (VarE! text)
+      )
+    )
+  )
+  (LetD
+    (VarP @left_pad)
+    (FuncE
+      @left_pad
+      Local
+      Returns
+      (params pad char t)
+      Text
+      (IfE
+        (PrimE (RelPrim Nat GtOp) (VarE pad) (PrimE text_len (VarE t)))
+        (BlockE
+          (VarD
+            i
+            Nat
+            (PrimE (BinPrim Nat SubOp) (VarE pad) (PrimE text_len (VarE t)))
+          )
+          (VarD text Text (VarE t))
+          (LetD
+            WildP
+            (LabelE
+              $done/3
+              ()
+              (LoopE
+                (IfE
+                  (PrimE (RelPrim Nat GtOp) (VarE! i) (LitE (NatLit 0)))
+                  (BlockE
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE text)
+                        (PrimE (BinPrim Text CatOp) (VarE char) (VarE! text))
+                      )
+                    )
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat SubOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE (BreakPrim $done/3) (PrimE TupPrim))
+                )
+              )
+            )
+          )
+          (VarE! text)
+        )
+        (VarE t)
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_dec)
+    (FuncE
+      @digits_dec
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE (BinPrim Int AddOp) (VarE x) (LitE (IntLit 48)))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat)
+    (FuncE
+      @text_of_Nat
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_num)
+        (PrimE
+          TupPrim
+          (VarE x)
+          (LitE (NatLit 10))
+          (LitE (NatLit 3))
+          (VarE @digits_dec)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int)
+    (FuncE
+      @text_of_Int
+      Local
+      Returns
+      (params x)
+      Text
+      (IfE
+        (PrimE (RelPrim Int EqOp) (VarE x) (LitE (IntLit 0)))
+        (LitE (TextLit 0))
+        (PrimE
+          (BinPrim Text CatOp)
+          (IfE
+            (PrimE (RelPrim Int LtOp) (VarE x) (LitE (IntLit 0)))
+            (LitE (TextLit -))
+            (LitE (TextLit +))
+          )
+          (PrimE (CallPrim) (VarE @text_of_Nat) (PrimE abs (VarE x)))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_hex)
+    (FuncE
+      @digits_hex
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE
+              (BinPrim Int AddOp)
+              (VarE x)
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE x) (LitE (NatLit 10)))
+                (LitE (IntLit 48))
+                (LitE (IntLit 55))
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @int64ToInt)
+    (FuncE
+      @int64ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int64 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int32ToInt)
+    (FuncE
+      @int32ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int32 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int16ToInt)
+    (FuncE
+      @int16ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int16 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int8ToInt)
+    (FuncE
+      @int8ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int8 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat64ToNat)
+    (FuncE
+      @nat64ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat64 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat32ToNat)
+    (FuncE
+      @nat32ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat32 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat16ToNat)
+    (FuncE
+      @nat16ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat16 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat8ToNat)
+    (FuncE
+      @nat8ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat8 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat8)
+    (FuncE
+      @text_of_Nat8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat8ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat16)
+    (FuncE
+      @text_of_Nat16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat16ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat32)
+    (FuncE
+      @text_of_Nat32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat32ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat64)
+    (FuncE
+      @text_of_Nat64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat64ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int8)
+    (FuncE
+      @text_of_Int8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int8ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int16)
+    (FuncE
+      @text_of_Int16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int16ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int32)
+    (FuncE
+      @text_of_Int32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int32ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int64)
+    (FuncE
+      @text_of_Int64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int64ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Float)
+    (FuncE
+      @text_of_Float
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE Float->Text (VarE x))
+    )
+  )
+  (LetD
+    (VarP @text_of_Bool)
+    (FuncE
+      @text_of_Bool
+      Local
+      Returns
+      (params b)
+      Text
+      (IfE (VarE b) (LitE (TextLit true)) (LitE (TextLit false)))
+    )
+  )
+  (LetD
+    (VarP @text_of_Text)
+    (FuncE
+      @text_of_Text
+      Local
+      Returns
+      (params t)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE (BinPrim Text CatOp) (LitE (TextLit ")) (VarE t))
+        (LitE (TextLit "))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Char)
+    (FuncE
+      @text_of_Char
+      Local
+      Returns
+      (params c)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE
+          (BinPrim Text CatOp)
+          (LitE (TextLit '))
+          (PrimE conv_Char_Text (VarE c))
+        )
+        (LitE (TextLit '))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Blob)
+    (FuncE
+      @text_of_Blob
+      Local
+      Returns
+      (params blob)
+      Text
+      (BlockE
+        (VarD t Text (LitE (TextLit ")))
+        (LetD
+          WildP
+          (BlockE
+            (LetD
+              (VarP $nxt/0)
+              (PrimE
+                (DotPrim next)
+                (PrimE
+                  (CallPrim)
+                  (PrimE (CallPrim) (VarE @blob_vals) (VarE blob))
+                  (PrimE TupPrim)
+                )
+              )
+            )
+            (LabelE
+              $done/4
+              ()
+              (LoopE
+                (SwitchE
+                  (PrimE (CallPrim) (VarE $nxt/0) (PrimE TupPrim))
+                  (case
+                    (LitP NullLit)
+                    (PrimE (BreakPrim $done/4) (PrimE TupPrim))
+                  )
+                  (case
+                    (OptP (VarP b))
+                    (AssignE
+                      (VarLE t)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (VarE! t)
+                        (PrimE
+                          (BinPrim Text CatOp)
+                          (LitE (TextLit \))
+                          (PrimE
+                            (CallPrim)
+                            (VarE @left_pad)
+                            (PrimE
+                              TupPrim
+                              (LitE (NatLit 2))
+                              (LitE (TextLit 0))
+                              (PrimE
+                                (CallPrim)
+                                (VarE @text_of_num)
+                                (PrimE
+                                  TupPrim
+                                  (PrimE (CallPrim) (VarE @nat8ToNat) (VarE b))
+                                  (LitE (NatLit 16))
+                                  (LitE (NatLit 0))
+                                  (VarE @digits_hex)
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE t)
+            (PrimE (BinPrim Text CatOp) (VarE! t) (LitE (TextLit ")))
+          )
+        )
+        (PrimE RetPrim (VarE! t))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_has_parens)
+    (FuncE
+      @text_has_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case (OptP (LitP (CharLit 40))) (LitE (BoolLit true)))
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_needs_parens)
+    (FuncE
+      @text_needs_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case
+          (OptP
+            (AltP
+              (AltP
+                (AltP (LitP (CharLit 43)) (LitP (CharLit 45)))
+                (LitP (CharLit 63))
+              )
+              (LitP (CharLit 35))
+            )
+          )
+          (LitE (BoolLit true))
+        )
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_option)
+    (FuncE
+      @text_of_option
+      Local
+      Returns
+      (T Any)
+      (params f x)
+      Text
+      (SwitchE
+        (VarE x)
+        (case
+          (OptP (VarP y))
+          (BlockE
+            (LetD (VarP fy) (PrimE (CallPrim) (VarE f) (VarE y)))
+            (IfE
+              (PrimE (CallPrim) (VarE @text_needs_parens) (VarE fy))
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE (BinPrim Text CatOp) (LitE (TextLit ?()) (VarE fy))
+                (LitE (TextLit )))
+              )
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit ?)) (VarE fy))
+            )
+          )
+        )
+        (case (LitP NullLit) (LitE (TextLit null)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_variant)
+    (FuncE
+      @text_of_variant
+      Local
+      Returns
+      (T Any)
+      (params l f x)
+      Text
+      (BlockE
+        (LetD (VarP fx) (PrimE (CallPrim) (VarE f) (VarE x)))
+        (IfE
+          (PrimE (RelPrim Text EqOp) (VarE fx) (LitE (TextLit ())))
+          (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+          (IfE
+            (PrimE (CallPrim) (VarE @text_has_parens) (VarE fx))
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+              (VarE fx)
+            )
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE
+                  (BinPrim Text CatOp)
+                  (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+                  (LitE (TextLit ())
+                )
+                (VarE fx)
+              )
+              (LitE (TextLit )))
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array)
+    (FuncE
+      @text_of_array
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/0) (VarE xs))
+            (LetD (VarP $last/0) (PrimE GetLastArrayOffset (VarE $arr/0)))
+            (VarD $indx/0 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/0) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/5
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/0) (VarE! $indx/0))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (AssignE (VarLE first) (LitE (BoolLit false)))
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/0) (VarE $last/0))
+                      (PrimE (BreakPrim $done/5) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/0)
+                        (PrimE NextArrayOffset (VarE! $indx/0))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array_mut)
+    (FuncE
+      @text_of_array_mut
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [var)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/1) (VarE xs))
+            (LetD (VarP $last/1) (PrimE GetLastArrayOffset (VarE $arr/1)))
+            (VarD $indx/1 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/1) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/6
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/1) (VarE! $indx/1))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE (VarLE first) (LitE (BoolLit false)))
+                              )
+                              (AssignE
+                                (VarLE text)
+                                (PrimE
+                                  (BinPrim Text CatOp)
+                                  (VarE! text)
+                                  (LitE (TextLit  ))
+                                )
+                              )
+                            )
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/1) (VarE $last/1))
+                      (PrimE (BreakPrim $done/6) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/1)
+                        (PrimE NextArrayOffset (VarE! $indx/1))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @equal_array)
+    (FuncE
+      @equal_array
+      Local
+      Returns
+      (T Any)
+      (params eq a b)
+      Bool
+      (BlockE
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE
+                (RelPrim Nat EqOp)
+                (PrimE array_len (VarE a))
+                (PrimE array_len (VarE b))
+              )
+              (LitE (BoolLit false))
+            )
+            (PrimE RetPrim (LitE (BoolLit false)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD (VarP s) (PrimE array_len (VarE a)))
+        (LetD
+          WildP
+          (LabelE
+            $done/7
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE! i) (VarE s))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE eq)
+                          (PrimE
+                            TupPrim
+                            (PrimE IdxPrim (VarE a) (VarE! i))
+                            (PrimE IdxPrim (VarE b) (VarE! i))
+                          )
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (PrimE RetPrim (LitE (BoolLit false)))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/7) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (PrimE RetPrim (LitE (BoolLit true)))
+      )
+    )
+  )
+  (VarD @refund Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @reset_refund)
+    (FuncE
+      @reset_refund
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @refund) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @getSystemRefund)
+    (FuncE
+      @getSystemRefund
+      Local
+      Returns
+      @Refund
+      (PrimE RetPrim (PrimE SystemCyclesRefundedPrim))
+    )
+  )
+  (LetD (VarP @cleanup) (FuncE @cleanup Local Returns () (PrimE TupPrim)))
+  (LetD
+    (VarP @new_async)
+    (FuncE
+      @new_async
+      Local
+      Returns
+      (T Any)
+      (@Async<T>, @Cont<T>, @Cont<Error>, @CleanCont)
+      (BlockE
+        (LetD
+          (VarP w_null)
+          (FuncE
+            @anon-func-293.16
+            Local
+            Returns
+            (params r t)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP r_null)
+          (FuncE
+            @anon-func-294.16
+            Local
+            Returns
+            (params $ignored0/0)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (VarD result ?@Result<T> (LitE NullLit))
+        (VarD ws (@Refund, T) -> () (VarE w_null))
+        (VarD rs Error -> () (VarE r_null))
+        (LetD
+          (VarP getRefund)
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE (RelPrim Nat EqOp) (VarE! @cycles) (LitE (NatLit 0)))
+            (LitE (BoolLit false))
+          )
+        )
+        (LetD
+          (VarP fulfill)
+          (FuncE
+            fulfill
+            Local
+            Returns
+            (params t)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP refund)
+                    (IfE
+                      (VarE getRefund)
+                      (PrimE (CallPrim) (VarE @getSystemRefund) (PrimE TupPrim))
+                      (LitE (NatLit 0))
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE
+                        OptPrim
+                        (PrimE (TagE ok) (PrimE TupPrim (VarE refund) (VarE t)))
+                      )
+                    )
+                  )
+                  (LetD (VarP ws_) (VarE! ws))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE
+                    (CallPrim)
+                    (VarE ws_)
+                    (PrimE TupPrim (VarE refund) (VarE t))
+                  )
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (LetD
+          (VarP fail)
+          (FuncE
+            fail
+            Local
+            Returns
+            (params e)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE OptPrim (PrimE (TagE error) (VarE e)))
+                    )
+                  )
+                  (LetD (VarP rs_) (VarE! rs))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE (CallPrim) (VarE rs_) (VarE e))
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (VarD cleanup () -> () (VarE @cleanup))
+        (LetD
+          (VarP enqueue)
+          (FuncE
+            enqueue
+            Local
+            Returns
+            (params k r b)
+            {#schedule : () -> (); #suspend}
+            (BlockE
+              (LetD WildP (AssignE (VarLE cleanup) (VarE b)))
+              (SwitchE
+                (VarE! result)
+                (case
+                  (LitP NullLit)
+                  (BlockE
+                    (LetD (VarP ws_) (VarE! ws))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE ws)
+                        (FuncE
+                          @anon-func-337.15
+                          Local
+                          Returns
+                          (params r t)
+                          ()
+                          (BlockE
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE ws_)
+                                (PrimE TupPrim (VarE r) (VarE t))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                            (PrimE (CallPrim) (VarE k) (VarE t))
+                          )
+                        )
+                      )
+                    )
+                    (LetD (VarP rs_) (VarE! rs))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE rs)
+                        (FuncE
+                          @anon-func-344.15
+                          Local
+                          Returns
+                          (params e)
+                          ()
+                          (BlockE
+                            (LetD WildP (PrimE (CallPrim) (VarE rs_) (VarE e)))
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_refund)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (PrimE (CallPrim) (VarE r) (VarE e))
+                          )
+                        )
+                      )
+                    )
+                    (PrimE (TagE suspend) (PrimE TupPrim))
+                  )
+                )
+                (case
+                  (OptP (TagP ok (TupP (VarP r) (VarP t))))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-353.19
+                      Local
+                      Returns
+                      ()
+                      (BlockE
+                        (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                        (PrimE (CallPrim) (VarE k) (VarE t))
+                      )
+                    )
+                  )
+                )
+                (case
+                  (OptP (TagP error (VarP e)))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-356.19
+                      Local
+                      Returns
+                      ()
+                      (PrimE (CallPrim) (VarE r) (VarE e))
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (VarE enqueue)
+          (VarE fulfill)
+          (VarE fail)
+          (FuncE
+            @anon-func-361.28
+            Local
+            Returns
+            ()
+            (PrimE (CallPrim) (VarE! cleanup) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD (VarP @ManagementCanister) (NewObjE Module module {}))
+  (LetD
+    (VarP @ic00)
+    (PrimE
+      (ActorOfIdBlob
+        actor {create_canister : shared {sender_canister_version : ?Nat64; settings : ?canister_settings} -> async {canister_id : Principal}; install_code : shared {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module} -> async ()}
+      )
+      (PrimE BlobOfIcUrl (LitE (TextLit aaaaa-aa)))
+    )
+  )
+  (LetD
+    (VarP @install_actor_helper)
+    (FuncE
+      @install_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params install_arg enhanced_orthogonal_persistence wasm_module arg)
+      async*<$> Principal
+      (AsyncE*
+        ($@anon-async*-416.24 Any)
+        (BlockE
+          (LetD
+            (TupP (VarP mode) (VarP canister_id))
+            (SwitchE
+              (VarE install_arg)
+              (case
+                (TagP new (VarP settings))
+                (BlockE
+                  (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+                  (LetD
+                    (VarP accepted)
+                    (PrimE SystemCyclesAcceptPrim (VarE available))
+                  )
+                  (LetD
+                    (VarP sender_canister_version)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE @cycles)
+                      (PrimE
+                        (BinPrim Nat AddOp)
+                        (VarE! @cycles)
+                        (VarE accepted)
+                      )
+                    )
+                  )
+                  (LetD
+                    (ObjP (canister_id (VarP canister_id)))
+                    (PrimE
+                      AwaitPrim
+                      (PrimE
+                        (CallPrim $@anon-async*-416.24)
+                        (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                        (BlockE
+                          (LetD (VarP $base/0) (VarE settings))
+                          (LetD
+                            (VarP $settings/0)
+                            (PrimE (DotPrim settings) (VarE $base/0))
+                          )
+                          (NewObjE
+                            Object
+                            (settings $settings/0)
+                            (sender_canister_version sender_canister_version)
+                            {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE install) (PrimE TupPrim))
+                    (VarE canister_id)
+                  )
+                )
+              )
+              (case
+                (TagP install (VarP principal1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE install) (PrimE TupPrim))
+                  (VarE principal1)
+                )
+              )
+              (case
+                (TagP reinstall (VarP actor1))
+                (PrimE
+                  TupPrim
+                  (PrimE (TagE reinstall) (PrimE TupPrim))
+                  (PrimE principalOfActor (VarE actor1))
+                )
+              )
+              (case
+                (TagP upgrade (VarP actor2))
+                (BlockE
+                  (LetD
+                    (VarP wasm_memory_persistence)
+                    (IfE
+                      (VarE enhanced_orthogonal_persistence)
+                      (PrimE OptPrim (PrimE (TagE keep) (PrimE TupPrim)))
+                      (LitE NullLit)
+                    )
+                  )
+                  (LetD
+                    (VarP upgradeOptions)
+                    (NewObjE
+                      Object
+                      (wasm_memory_persistence wasm_memory_persistence)
+                      {wasm_memory_persistence : ?{#keep}}
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE actor2))
+                  )
+                )
+              )
+              (case
+                (TagP
+                  upgrade_with_persistence
+                  (ObjP
+                    (wasm_memory_persistence (VarP wasm_memory_persistence))
+                    (canister (VarP canister))
+                  )
+                )
+                (BlockE
+                  (LetD
+                    (VarP upgradeOptions)
+                    (BlockE
+                      (LetD
+                        (VarP $wasm_memory_persistence/0)
+                        (PrimE OptPrim (VarE wasm_memory_persistence))
+                      )
+                      (NewObjE
+                        Object
+                        (wasm_memory_persistence $wasm_memory_persistence/0)
+                        {wasm_memory_persistence : ?{#keep; #replace}}
+                      )
+                    )
+                  )
+                  (PrimE
+                    TupPrim
+                    (PrimE (TagE upgrade) (PrimE OptPrim (VarE upgradeOptions)))
+                    (PrimE principalOfActor (VarE canister))
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async*-416.24)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD
+                    (VarP $sender_canister_version/0)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/0)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode mode)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @create_actor_helper)
+    (FuncE
+      @create_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params wasm_module arg)
+      async<$> Principal
+      (AsyncE
+        ($@anon-async-464.79 Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD (VarP accepted) (PrimE SystemCyclesAcceptPrim (VarE available)))
+          (LetD
+            (VarP sender_canister_version)
+            (PrimE OptPrim (PrimE canister_version))
+          )
+          (LetD
+            WildP
+            (AssignE
+              (VarLE @cycles)
+              (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE accepted))
+            )
+          )
+          (LetD
+            (ObjP (canister_id (VarP canister_id)))
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim create_canister) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $settings/1) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (sender_canister_version sender_canister_version)
+                    (settings $settings/1)
+                    {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                  )
+                )
+              )
+            )
+          )
+          (LetD
+            WildP
+            (PrimE
+              AwaitPrim
+              (PrimE
+                (CallPrim $@anon-async-464.79)
+                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                (BlockE
+                  (LetD (VarP $mode/0) (PrimE (TagE install) (PrimE TupPrim)))
+                  (LetD
+                    (VarP $sender_canister_version/1)
+                    (PrimE OptPrim (PrimE canister_version))
+                  )
+                  (NewObjE
+                    Object
+                    (sender_canister_version $sender_canister_version/1)
+                    (arg arg)
+                    (wasm_module wasm_module)
+                    (canister_id canister_id)
+                    (mode $mode/0)
+                    {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                  )
+                )
+              )
+            )
+          )
+          (PrimE RetPrim (VarE canister_id))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_raw)
+    (FuncE
+      @call_raw
+      Local
+      Returns
+      ($ Any)
+      (params p m a)
+      async<$> Blob
+      (AsyncE
+        ($@call_raw Any)
+        (BlockE
+          (LetD (VarP available) (PrimE SystemCyclesAvailablePrim))
+          (LetD
+            WildP
+            (IfE
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE (RelPrim Nat EqOp) (VarE available) (LitE (NatLit 0)))
+                (LitE (BoolLit false))
+              )
+              (AssignE
+                (VarLE @cycles)
+                (PrimE SystemCyclesAcceptPrim (VarE available))
+              )
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE AwaitPrim (PrimE call_raw (VarE p) (VarE m) (VarE a)))
+        )
+        $
+      )
+    )
+  )
+  (LetD
+    (VarP @call_succeeded)
+    (FuncE
+      @call_succeeded
+      Local
+      Returns
+      Bool
+      (PrimE
+        (RelPrim Nat32 EqOp)
+        (PrimE call_perform_status)
+        (LitE (Nat32Lit 0))
+      )
+    )
+  )
+  (LetD
+    (VarP @call_error)
+    (FuncE
+      @call_error
+      Local
+      Returns
+      Error
+      (BlockE
+        (LetD (VarP status) (PrimE call_perform_status))
+        (LetD (VarP message) (PrimE call_perform_message))
+        (LetD
+          (VarP code)
+          (PrimE
+            (TagE call_error)
+            (NewObjE Object (err_code status) {err_code : Nat32})
+          )
+        )
+        (PrimE
+          (CastPrim ({#call_error : {err_code : Nat32}}, Text) Error)
+          (PrimE TupPrim (VarE code) (VarE message))
+        )
+      )
+    )
+  )
+  (VarD @timers ?@Node (LitE NullLit))
+  (LetD
+    (VarP @prune)
+    (FuncE
+      @prune
+      Local
+      Returns
+      (params n)
+      ?@Node
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE NullLit))
+        (case
+          (OptP (VarP n))
+          (IfE
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+              (LitE (Nat64Lit 0))
+            )
+            (PrimE (CallPrim) (VarE @prune) (PrimE (DotPrim post) (VarE n)))
+            (PrimE
+              OptPrim
+              (BlockE
+                (LetD (VarP $base/1) (VarE n))
+                (LetD
+                  (VarP $pre/0)
+                  (PrimE
+                    (CallPrim)
+                    (VarE @prune)
+                    (PrimE (DotPrim pre) (VarE n))
+                  )
+                )
+                (LetD (VarP $delay/0) (PrimE (DotPrim delay) (VarE $base/1)))
+                (LetD (VarP $expire/0) (PrimE (DotPrim expire) (VarE $base/1)))
+                (LetD (VarP $id/0) (PrimE (DotPrim id) (VarE $base/1)))
+                (LetD (VarP $job/0) (PrimE (DotPrim job) (VarE $base/1)))
+                (LetD (VarP $post/0) (PrimE (DotPrim post) (VarE $base/1)))
+                (NewObjE
+                  Object
+                  (post $post/0)
+                  (job $job/0)
+                  (id $id/0)
+                  (expire $expire/0)
+                  (delay $delay/0)
+                  (pre $pre/0)
+                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @nextExpiration)
+    (FuncE
+      @nextExpiration
+      Local
+      Returns
+      (params n)
+      Nat64
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE (Nat64Lit 0)))
+        (case
+          (OptP (VarP n))
+          (BlockE
+            (LetD
+              (VarP pivot)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+            )
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat64 EqOp) (VarE pivot) (LitE (Nat64Lit 0)))
+                (PrimE
+                  RetPrim
+                  (PrimE
+                    (CallPrim)
+                    (VarE @nextExpiration)
+                    (PrimE (DotPrim post) (VarE n))
+                  )
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              (VarP exp)
+              (PrimE
+                (CallPrim)
+                (VarE @nextExpiration)
+                (PrimE (DotPrim pre) (VarE n))
+              )
+            )
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (VarE pivot)
+              (VarE exp)
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @timer_helper)
+    (FuncE
+      @timer_helper
+      Local
+      Returns
+      ($ Any)
+      async<$> ()
+      (AsyncE
+        ($@timer_helper Any)
+        (BlockE
+          (LetD
+            (VarP Array_init)
+            (FuncE
+              Array_init
+              Local
+              Returns
+              (T Any)
+              (params len x)
+              [var T]
+              (PrimE Array.init (VarE len) (VarE x))
+            )
+          )
+          (LetD (VarP now) (PrimE SystemTimePrim))
+          (VarD gathered Nat (LitE (NatLit 0)))
+          (LetD
+            (VarP thunks)
+            (PrimE
+              (CallPrim ?(() -> async ()))
+              (VarE Array_init)
+              (PrimE TupPrim (LitE (NatLit 10)) (LitE NullLit))
+            )
+          )
+          (LetD
+            (VarP gatherExpired)
+            (FuncE
+              gatherExpired
+              Local
+              Returns
+              (params n)
+              ()
+              (SwitchE
+                (VarE n)
+                (case (LitP NullLit) (PrimE TupPrim))
+                (case
+                  (OptP (VarP n))
+                  (BlockE
+                    (LetD
+                      (VarP pivot)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (LetD
+                      WildP
+                      (IfE
+                        (PrimE
+                          (RelPrim Nat64 GtOp)
+                          (VarE pivot)
+                          (LitE (Nat64Lit 0))
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim pre) (VarE n))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat64 LeOp) (VarE pivot) (VarE now))
+                        (PrimE
+                          (RelPrim Nat LtOp)
+                          (VarE! gathered)
+                          (PrimE array_len (VarE thunks))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat64 GtOp)
+                              (VarE pivot)
+                              (LitE (Nat64Lit 0))
+                            )
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE
+                                  (IdxLE (VarE thunks) (VarE! gathered))
+                                  (PrimE OptPrim (PrimE (DotPrim job) (VarE n)))
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (SwitchE
+                                  (PrimE (DotPrim delay) (VarE n))
+                                  (case
+                                    (AltP
+                                      (LitP NullLit)
+                                      (OptP (LitP (Nat64Lit 0)))
+                                    )
+                                    (AssignE
+                                      (IdxLE
+                                        (PrimE (DotPrim expire) (VarE n))
+                                        (LitE (NatLit 0))
+                                      )
+                                      (LitE (Nat64Lit 0))
+                                    )
+                                  )
+                                  (case
+                                    (OptP (VarP delay))
+                                    (BlockE
+                                      (LetD
+                                        (VarP expire)
+                                        (PrimE
+                                          (BinPrim Nat64 AddOp)
+                                          (VarE pivot)
+                                          (PrimE
+                                            (BinPrim Nat64 MulOp)
+                                            (VarE delay)
+                                            (PrimE
+                                              (BinPrim Nat64 AddOp)
+                                              (LitE (Nat64Lit 1))
+                                              (PrimE
+                                                (BinPrim Nat64 DivOp)
+                                                (PrimE
+                                                  (BinPrim Nat64 SubOp)
+                                                  (VarE now)
+                                                  (VarE pivot)
+                                                )
+                                                (VarE delay)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE
+                                            (PrimE (DotPrim expire) (VarE n))
+                                            (LitE (NatLit 0))
+                                          )
+                                          (LitE (Nat64Lit 0))
+                                        )
+                                      )
+                                      (LetD
+                                        (VarP reinsert)
+                                        (FuncE
+                                          reinsert
+                                          Local
+                                          Returns
+                                          (params m)
+                                          @Node
+                                          (SwitchE
+                                            (VarE m)
+                                            (case
+                                              (LitP NullLit)
+                                              (BlockE
+                                                (LetD (VarP $base/2) (VarE n))
+                                                (LetD
+                                                  (VarP $expire/1)
+                                                  (PrimE
+                                                    (ArrayPrim Var Nat64)
+                                                    (VarE expire)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $pre/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $post/1)
+                                                  (LitE NullLit)
+                                                )
+                                                (LetD
+                                                  (VarP $delay/1)
+                                                  (PrimE
+                                                    (DotPrim delay)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $id/1)
+                                                  (PrimE
+                                                    (DotPrim id)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (LetD
+                                                  (VarP $job/1)
+                                                  (PrimE
+                                                    (DotPrim job)
+                                                    (VarE $base/2)
+                                                  )
+                                                )
+                                                (NewObjE
+                                                  Object
+                                                  (job $job/1)
+                                                  (id $id/1)
+                                                  (delay $delay/1)
+                                                  (post $post/1)
+                                                  (pre $pre/1)
+                                                  (expire $expire/1)
+                                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                )
+                                              )
+                                            )
+                                            (case
+                                              (OptP (VarP m))
+                                              (BlockE
+                                                (LetD
+                                                  WildP
+                                                  (PrimE
+                                                    AssertPrim
+                                                    (PrimE
+                                                      (RelPrim Bool EqOp)
+                                                      (PrimE
+                                                        (RelPrim Nat64 EqOp)
+                                                        (PrimE
+                                                          IdxPrim
+                                                          (PrimE
+                                                            (DotPrim expire)
+                                                            (VarE m)
+                                                          )
+                                                          (LitE (NatLit 0))
+                                                        )
+                                                        (LitE (Nat64Lit 0))
+                                                      )
+                                                      (LitE (BoolLit false))
+                                                    )
+                                                  )
+                                                )
+                                                (IfE
+                                                  (PrimE
+                                                    (RelPrim Nat64 LtOp)
+                                                    (VarE expire)
+                                                    (PrimE
+                                                      IdxPrim
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE m)
+                                                      )
+                                                      (LitE (NatLit 0))
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/4)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/3)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim pre)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/3)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/3)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/3)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/3)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/3)
+                                                      (PrimE
+                                                        (DotPrim post)
+                                                        (VarE $base/4)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (post $post/3)
+                                                      (job $job/3)
+                                                      (id $id/3)
+                                                      (expire $expire/3)
+                                                      (delay $delay/3)
+                                                      (pre $pre/3)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $base/3)
+                                                      (VarE m)
+                                                    )
+                                                    (LetD
+                                                      (VarP $post/2)
+                                                      (PrimE
+                                                        OptPrim
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE reinsert)
+                                                          (PrimE
+                                                            (DotPrim post)
+                                                            (VarE m)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $delay/2)
+                                                      (PrimE
+                                                        (DotPrim delay)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $expire/2)
+                                                      (PrimE
+                                                        (DotPrim expire)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $id/2)
+                                                      (PrimE
+                                                        (DotPrim id)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $job/2)
+                                                      (PrimE
+                                                        (DotPrim job)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      (VarP $pre/2)
+                                                      (PrimE
+                                                        (DotPrim pre)
+                                                        (VarE $base/3)
+                                                      )
+                                                    )
+                                                    (NewObjE
+                                                      Object
+                                                      (pre $pre/2)
+                                                      (job $job/2)
+                                                      (id $id/2)
+                                                      (expire $expire/2)
+                                                      (delay $delay/2)
+                                                      (post $post/2)
+                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                      (AssignE
+                                        (VarLE @timers)
+                                        (PrimE
+                                          OptPrim
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE reinsert)
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE @prune)
+                                              (VarE! @timers)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                              (AssignE
+                                (VarLE gathered)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! gathered)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE TupPrim)
+                          )
+                        )
+                        (PrimE
+                          (CallPrim)
+                          (VarE gatherExpired)
+                          (PrimE (DotPrim post) (VarE n))
+                        )
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (LetD WildP (PrimE (CallPrim) (VarE gatherExpired) (VarE! @timers)))
+          (LetD
+            (VarP exp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+          )
+          (LetD
+            WildP
+            (BlockE
+              (LetD WildP (PrimE global_timer_set (VarE exp)))
+              (PrimE TupPrim)
+            )
+          )
+          (LetD
+            WildP
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (AssignE (VarLE @timers) (LitE NullLit))
+              (PrimE TupPrim)
+            )
+          )
+          (VarD failed Nat64 (LitE (Nat64Lit 0)))
+          (LetD
+            (VarP reinsert)
+            (FuncE
+              reinsert
+              Local
+              Returns
+              (params job)
+              ()
+              (BlockE
+                (LetD
+                  WildP
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 EqOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 0))
+                    )
+                    (BlockE
+                      (LetD
+                        WildP
+                        (AssignE
+                          (VarLE @timers)
+                          (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+                        )
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (PrimE global_timer_set (LitE (Nat64Lit 1)))
+                        )
+                        (PrimE TupPrim)
+                      )
+                    )
+                    (PrimE TupPrim)
+                  )
+                )
+                (LetD
+                  WildP
+                  (AssignE
+                    (VarLE failed)
+                    (PrimE
+                      (BinPrim Nat64 AddOp)
+                      (VarE! failed)
+                      (LitE (Nat64Lit 1))
+                    )
+                  )
+                )
+                (AssignE
+                  (VarLE @timers)
+                  (PrimE
+                    OptPrim
+                    (SwitchE
+                      (VarE! @timers)
+                      (case
+                        (OptP
+                          (ObjP
+                            (id (LitP (IntLit 0)))
+                            (pre (VarP pre))
+                            (post (VarP post))
+                            (job (VarP j))
+                            (expire (VarP expire))
+                            (delay (VarP delay))
+                          )
+                        )
+                        (BlockE
+                          (LetD
+                            (VarP $expire/4)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/4) (LitE (NatLit 0)))
+                          (LetD
+                            (VarP $pre/4)
+                            (PrimE
+                              OptPrim
+                              (BlockE
+                                (LetD (VarP $id/5) (LitE (NatLit 0)))
+                                (LetD (VarP $post/4) (LitE NullLit))
+                                (NewObjE
+                                  Object
+                                  (job j)
+                                  (delay delay)
+                                  (post $post/4)
+                                  (pre pre)
+                                  (expire expire)
+                                  (id $id/5)
+                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                )
+                              )
+                            )
+                          )
+                          (NewObjE
+                            Object
+                            (pre $pre/4)
+                            (post post)
+                            (job job)
+                            (delay delay)
+                            (id $id/4)
+                            (expire $expire/4)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                      (case
+                        WildP
+                        (BlockE
+                          (LetD
+                            (VarP $expire/5)
+                            (PrimE (ArrayPrim Var Nat64) (VarE! failed))
+                          )
+                          (LetD (VarP $id/6) (LitE (NatLit 0)))
+                          (LetD (VarP $delay/4) (LitE NullLit))
+                          (LetD (VarP $pre/5) (LitE NullLit))
+                          (LetD (VarP $post/5) (VarE! @timers))
+                          (NewObjE
+                            Object
+                            (post $post/5)
+                            (pre $pre/5)
+                            (job job)
+                            (delay $delay/4)
+                            (id $id/6)
+                            (expire $expire/5)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (BlockE
+            (LetD (VarP $arr/2) (VarE thunks))
+            (LetD (VarP $last/2) (PrimE GetLastArrayOffset (VarE $arr/2)))
+            (VarD $indx/2 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/2) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/8
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP o)
+                      (PrimE DerefArrayOffset (VarE $arr/2) (VarE! $indx/2))
+                    )
+                    (LetD
+                      WildP
+                      (SwitchE
+                        (VarE o)
+                        (case
+                          (OptP (VarP thunk))
+                          (TryE
+                            (BlockE
+                              (LetD
+                                WildP
+                                (PrimE
+                                  (CallPrim $@timer_helper)
+                                  (VarE thunk)
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                            (case
+                              WildP
+                              (PrimE (CallPrim) (VarE reinsert) (VarE thunk))
+                            )
+                          )
+                        )
+                        (case WildP (PrimE RetPrim (PrimE TupPrim)))
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/2) (VarE $last/2))
+                      (PrimE (BreakPrim $done/8) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/2)
+                        (PrimE NextArrayOffset (VarE! $indx/2))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        $
+      )
+    )
+  )
+  (VarD @lastTimerId Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @setTimer)
+    (FuncE
+      @setTimer
+      Local
+      Returns
+      ($ Any)
+      (params delayNanos recurring job)
+      Nat
+      (BlockE
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @lastTimerId)
+            (PrimE (BinPrim Nat AddOp) (VarE! @lastTimerId) (LitE (NatLit 1)))
+          )
+        )
+        (LetD (VarP id) (VarE! @lastTimerId))
+        (LetD (VarP now) (PrimE SystemTimePrim))
+        (LetD
+          (VarP expire)
+          (PrimE (BinPrim Nat64 AddOp) (VarE now) (VarE delayNanos))
+        )
+        (LetD
+          (VarP delay)
+          (IfE
+            (VarE recurring)
+            (PrimE OptPrim (VarE delayNanos))
+            (LitE NullLit)
+          )
+        )
+        (LetD
+          (VarP insert)
+          (FuncE
+            insert
+            Local
+            Returns
+            (params n)
+            @Node
+            (SwitchE
+              (VarE n)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP $expire/6)
+                    (PrimE (ArrayPrim Var Nat64) (VarE expire))
+                  )
+                  (LetD (VarP $pre/6) (LitE NullLit))
+                  (LetD (VarP $post/6) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (post $post/6)
+                    (pre $pre/6)
+                    (job job)
+                    (delay delay)
+                    (id id)
+                    (expire $expire/6)
+                    {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                  )
+                )
+              )
+              (case
+                (OptP (VarP n))
+                (BlockE
+                  (LetD
+                    WildP
+                    (PrimE
+                      AssertPrim
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (PrimE
+                            IdxPrim
+                            (PrimE (DotPrim expire) (VarE n))
+                            (LitE (NatLit 0))
+                          )
+                          (LitE (Nat64Lit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                    )
+                  )
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 LtOp)
+                      (VarE expire)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/6) (VarE n))
+                      (LetD
+                        (VarP $pre/8)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim pre) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/6)
+                        (PrimE (DotPrim delay) (VarE $base/6))
+                      )
+                      (LetD
+                        (VarP $expire/8)
+                        (PrimE (DotPrim expire) (VarE $base/6))
+                      )
+                      (LetD (VarP $id/8) (PrimE (DotPrim id) (VarE $base/6)))
+                      (LetD (VarP $job/5) (PrimE (DotPrim job) (VarE $base/6)))
+                      (LetD
+                        (VarP $post/8)
+                        (PrimE (DotPrim post) (VarE $base/6))
+                      )
+                      (NewObjE
+                        Object
+                        (post $post/8)
+                        (job $job/5)
+                        (id $id/8)
+                        (expire $expire/8)
+                        (delay $delay/6)
+                        (pre $pre/8)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/5) (VarE n))
+                      (LetD
+                        (VarP $post/7)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/5)
+                        (PrimE (DotPrim delay) (VarE $base/5))
+                      )
+                      (LetD
+                        (VarP $expire/7)
+                        (PrimE (DotPrim expire) (VarE $base/5))
+                      )
+                      (LetD (VarP $id/7) (PrimE (DotPrim id) (VarE $base/5)))
+                      (LetD (VarP $job/4) (PrimE (DotPrim job) (VarE $base/5)))
+                      (LetD (VarP $pre/7) (PrimE (DotPrim pre) (VarE $base/5)))
+                      (NewObjE
+                        Object
+                        (pre $pre/7)
+                        (job $job/4)
+                        (id $id/7)
+                        (expire $expire/7)
+                        (delay $delay/5)
+                        (post $post/7)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE
+              OptPrim
+              (PrimE
+                (CallPrim)
+                (VarE insert)
+                (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP exp)
+          (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+            (AssignE (VarLE @timers) (LitE NullLit))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (BlockE
+            (LetD WildP (PrimE global_timer_set (VarE exp)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarE id)
+      )
+    )
+  )
+  (LetD
+    (VarP @cancelTimer)
+    (FuncE
+      @cancelTimer
+      Local
+      Returns
+      (params id)
+      ()
+      (BlockE
+        (LetD
+          (VarP graft)
+          (FuncE
+            graft
+            Local
+            Returns
+            (params onto branch)
+            ?@Node
+            (SwitchE
+              (PrimE TupPrim (VarE onto) (VarE branch))
+              (case (TupP (LitP NullLit) (LitP NullLit)) (LitE NullLit))
+              (case (TupP (LitP NullLit) WildP) (VarE branch))
+              (case (TupP WildP (LitP NullLit)) (VarE onto))
+              (case
+                (TupP (OptP (VarP onto)) WildP)
+                (PrimE
+                  OptPrim
+                  (BlockE
+                    (LetD (VarP $base/7) (VarE onto))
+                    (LetD
+                      (VarP $post/9)
+                      (PrimE
+                        (CallPrim)
+                        (VarE graft)
+                        (PrimE
+                          TupPrim
+                          (PrimE (DotPrim post) (VarE onto))
+                          (VarE branch)
+                        )
+                      )
+                    )
+                    (LetD
+                      (VarP $delay/7)
+                      (PrimE (DotPrim delay) (VarE $base/7))
+                    )
+                    (LetD
+                      (VarP $expire/9)
+                      (PrimE (DotPrim expire) (VarE $base/7))
+                    )
+                    (LetD (VarP $id/9) (PrimE (DotPrim id) (VarE $base/7)))
+                    (LetD (VarP $job/6) (PrimE (DotPrim job) (VarE $base/7)))
+                    (LetD (VarP $pre/9) (PrimE (DotPrim pre) (VarE $base/7)))
+                    (NewObjE
+                      Object
+                      (pre $pre/9)
+                      (job $job/6)
+                      (id $id/9)
+                      (expire $expire/9)
+                      (delay $delay/7)
+                      (post $post/9)
+                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP hunt)
+          (FuncE
+            hunt
+            Local
+            Returns
+            (params n)
+            ?@Node
+            (SwitchE
+              (VarE n)
+              (case (LitP NullLit) (VarE n))
+              (case
+                (OptP
+                  (ObjP (id (VarP node)) (pre (VarP pre)) (post (VarP post)))
+                )
+                (IfE
+                  (PrimE (RelPrim Nat EqOp) (VarE node) (VarE id))
+                  (PrimE
+                    (CallPrim)
+                    (VarE graft)
+                    (PrimE TupPrim (VarE pre) (VarE post))
+                  )
+                  (LabelE
+                    !
+                    ?@Node
+                    (PrimE
+                      OptPrim
+                      (BlockE
+                        (LetD
+                          (VarP $base/8)
+                          (SwitchE
+                            (VarE n)
+                            (case
+                              (LitP NullLit)
+                              (PrimE (BreakPrim !) (LitE NullLit))
+                            )
+                            (case (OptP (VarP $v/1)) (VarE $v/1))
+                          )
+                        )
+                        (LetD
+                          (VarP $pre/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE pre))
+                        )
+                        (LetD
+                          (VarP $post/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE post))
+                        )
+                        (LetD
+                          (VarP $delay/8)
+                          (PrimE (DotPrim delay) (VarE $base/8))
+                        )
+                        (LetD
+                          (VarP $expire/10)
+                          (PrimE (DotPrim expire) (VarE $base/8))
+                        )
+                        (LetD (VarP $id/10) (PrimE (DotPrim id) (VarE $base/8)))
+                        (LetD
+                          (VarP $job/7)
+                          (PrimE (DotPrim job) (VarE $base/8))
+                        )
+                        (NewObjE
+                          Object
+                          (job $job/7)
+                          (id $id/10)
+                          (expire $expire/10)
+                          (delay $delay/8)
+                          (post $post/10)
+                          (pre $pre/10)
+                          {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE (CallPrim) (VarE hunt) (VarE! @timers))
+          )
+        )
+        (IfE
+          (PrimE
+            (RelPrim Nat64 EqOp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+            (LitE (Nat64Lit 0))
+          )
+          (BlockE
+            (LetD
+              WildP
+              (BlockE
+                (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 0))))
+                (PrimE TupPrim)
+              )
+            )
+            (AssignE (VarLE @timers) (LitE NullLit))
+          )
+          (PrimE TupPrim)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @set_global_timer)
+    (FuncE
+      @set_global_timer
+      Local
+      Returns
+      (params time)
+      ()
+      (BlockE (LetD WildP (PrimE global_timer_set (VarE time))) (PrimE TupPrim))
+    )
+  )
+  (LetD
+    (VarP @dedup)
+    (FuncE
+      @dedup
+      Local
+      Returns
+      (params b)
+      Blob
+      (BlockE
+        (LetD
+          (VarP Array_tabulate)
+          (FuncE
+            Array_tabulate
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [T]
+            (PrimE Array.tabulate (VarE len) (VarE gen))
+          )
+        )
+        (LetD
+          (VarP Array_tabulateVar)
+          (FuncE
+            Array_tabulateVar
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [var T]
+            (PrimE Array.tabulateVar (VarE len) (VarE gen))
+          )
+        )
+        (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+        (LetD
+          (VarP debugPrint)
+          (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+        )
+        (LetD
+          (VarP hashBlob)
+          (FuncE
+            hashBlob
+            Local
+            Returns
+            (params b)
+            Nat32
+            (PrimE crc32Hash (VarE b))
+          )
+        )
+        (LetD
+          (VarP allocWeakRef)
+          (FuncE
+            allocWeakRef
+            Local
+            Returns
+            (T Any)
+            (params obj)
+            weak T
+            (PrimE alloc_weak_ref (VarE obj))
+          )
+        )
+        (LetD
+          (VarP weakGet)
+          (FuncE
+            weakGet
+            Local
+            Returns
+            (T Any)
+            (params w)
+            ?T
+            (PrimE weak_get (VarE w))
+          )
+        )
+        (LetD
+          (VarP getDedupTable)
+          (FuncE
+            getDedupTable
+            Local
+            Returns
+            ?[var List]
+            (PrimE get_dedup_table)
+          )
+        )
+        (LetD
+          (VarP setDedupTable)
+          (FuncE
+            setDedupTable
+            Local
+            Returns
+            (params dedupTable)
+            ()
+            (PrimE set_dedup_table (VarE dedupTable))
+          )
+        )
+        (LetD
+          (VarP arrayToBlob)
+          (FuncE
+            arrayToBlob
+            Local
+            Returns
+            (params a)
+            Blob
+            (PrimE arrayToBlob (VarE a))
+          )
+        )
+        (LetD
+          (VarP getOriginalBlob)
+          (FuncE
+            getOriginalBlob
+            Local
+            Returns
+            (params b)
+            Blob
+            (BlockE
+              (LetD
+                (VarP copiedArr)
+                (PrimE
+                  (CallPrim Nat8)
+                  (VarE Array_tabulate)
+                  (PrimE
+                    TupPrim
+                    (PrimE
+                      (BinPrim Nat SubOp)
+                      (PrimE blob_size (VarE b))
+                      (LitE (NatLit 5))
+                    )
+                    (FuncE
+                      @anon-func-744.50
+                      Local
+                      Returns
+                      (params i)
+                      Nat8
+                      (PrimE
+                        IdxBlobPrim
+                        (VarE b)
+                        (PrimE (BinPrim Nat AddOp) (VarE i) (LitE (NatLit 5)))
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP originalBlob)
+                (PrimE (CallPrim) (VarE arrayToBlob) (VarE copiedArr))
+              )
+              (VarE originalBlob)
+            )
+          )
+        )
+        (LetD
+          (VarP blobCompare)
+          (FuncE
+            blobCompare
+            Local
+            Returns
+            (params b1 b2)
+            Int8
+            (PrimE blob_compare (VarE b1) (VarE b2))
+          )
+        )
+        (LetD
+          (VarP addToList)
+          (FuncE
+            addToList
+            Local
+            Returns
+            (params list originalBlob weakRef)
+            List
+            (BlockE
+              (LetD
+                (VarP newList)
+                (BlockE
+                  (VarD
+                    $next/0
+                    ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                    (PrimE OptPrim (VarE list))
+                  )
+                  (LetD (VarP $value/0) (PrimE OptPrim (VarE weakRef)))
+                  (LetD
+                    (VarP $index/0)
+                    (PrimE
+                      (BinPrim Nat AddOp)
+                      (PrimE (DotPrim index) (VarE list))
+                      (LitE (NatLit 1))
+                    )
+                  )
+                  (NewObjE
+                    Object
+                    (index $index/0)
+                    (originalBlob originalBlob)
+                    (value $value/0)
+                    (next $next/0)
+                    {index : Nat; var next : ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}; originalBlob : Blob; value : ?{ref : weak Blob}}
+                  )
+                )
+              )
+              (VarE newList)
+            )
+          )
+        )
+        (LetD
+          (VarP getFromList)
+          (FuncE
+            getFromList
+            Local
+            Returns
+            (params list originalBlob)
+            ?WeakRef
+            (BlockE
+              (VarD
+                copy
+                {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                (VarE list)
+              )
+              (LoopE
+                (IfE
+                  (PrimE
+                    (RelPrim Int8 EqOp)
+                    (PrimE
+                      (CallPrim)
+                      (VarE blobCompare)
+                      (PrimE
+                        TupPrim
+                        (PrimE (DotPrim originalBlob) (VarE! copy))
+                        (VarE originalBlob)
+                      )
+                    )
+                    (LitE (Int8Lit 0))
+                  )
+                  (PrimE RetPrim (PrimE (DotPrim value) (VarE! copy)))
+                  (BlockE
+                    (LetD (VarP next) (PrimE (DotPrim next) (VarE! copy)))
+                    (SwitchE
+                      (VarE next)
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                      (case
+                        (OptP (VarP next))
+                        (AssignE (VarLE copy) (VarE next))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getListLen)
+          (FuncE
+            getListLen
+            Local
+            Returns
+            (params list)
+            Nat
+            (PrimE (DotPrim index) (VarE list))
+          )
+        )
+        (LetD
+          (VarP getHashArrayLen)
+          (FuncE
+            getHashArrayLen
+            Local
+            Returns
+            (params hashArray)
+            Nat
+            (BlockE
+              (VarD len Nat (LitE (NatLit 0)))
+              (VarD i Nat (LitE (NatLit 0)))
+              (LetD
+                WildP
+                (LabelE
+                  $done/9
+                  ()
+                  (LoopE
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat LtOp)
+                        (VarE! i)
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE len)
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (VarE! len)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getListLen)
+                                (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE i)
+                          (PrimE
+                            (BinPrim Nat AddOp)
+                            (VarE! i)
+                            (LitE (NatLit 1))
+                          )
+                        )
+                      )
+                      (PrimE (BreakPrim $done/9) (PrimE TupPrim))
+                    )
+                  )
+                )
+              )
+              (VarE! len)
+            )
+          )
+        )
+        (LetD
+          (VarP addToHashArray)
+          (FuncE
+            addToHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ()
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (LetD
+                (VarP weakRef)
+                (BlockE
+                  (LetD
+                    (VarP $ref/0)
+                    (PrimE (CallPrim Blob) (VarE allocWeakRef) (VarE b))
+                  )
+                  (NewObjE Object (ref $ref/0) {ref : weak Blob})
+                )
+              )
+              (AssignE
+                (IdxLE (VarE hashArray) (VarE index))
+                (PrimE
+                  (CallPrim)
+                  (VarE addToList)
+                  (PrimE
+                    TupPrim
+                    (VarE list)
+                    (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                    (VarE weakRef)
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getFromHashArray)
+          (FuncE
+            getFromHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ?WeakRef
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (PrimE
+                (CallPrim)
+                (VarE getFromList)
+                (PrimE
+                  TupPrim
+                  (VarE list)
+                  (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Nat LtOp)
+              (PrimE blob_size (VarE b))
+              (LitE (NatLit 5))
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (IfE
+              (IfE
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 0)))
+                        (LitE (Nat8Lit 33))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 1)))
+                        (LitE (Nat8Lit 99))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                  (LitE (BoolLit true))
+                  (PrimE
+                    (RelPrim Bool EqOp)
+                    (PrimE
+                      (RelPrim Nat8 EqOp)
+                      (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 2)))
+                      (LitE (Nat8Lit 97))
+                    )
+                    (LitE (BoolLit false))
+                  )
+                )
+                (LitE (BoolLit true))
+                (PrimE
+                  (RelPrim Bool EqOp)
+                  (PrimE
+                    (RelPrim Nat8 EqOp)
+                    (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 3)))
+                    (LitE (Nat8Lit 102))
+                  )
+                  (LitE (BoolLit false))
+                )
+              )
+              (LitE (BoolLit true))
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE
+                  (RelPrim Nat8 EqOp)
+                  (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 4)))
+                  (LitE (Nat8Lit 33))
+                )
+                (LitE (BoolLit false))
+              )
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP ptr)
+          (PrimE (CallPrim) (VarE getDedupTable) (PrimE TupPrim))
+        )
+        (LetD
+          (VarP hashArray)
+          (SwitchE
+            (VarE ptr)
+            (case (OptP (VarP dedupTable)) (VarE dedupTable))
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  (VarP arr)
+                  (PrimE
+                    (CallPrim List)
+                    (VarE Array_tabulateVar)
+                    (PrimE
+                      TupPrim
+                      (VarE HASH_ARRAY_SIZE)
+                      (FuncE
+                        @anon-func-830.58
+                        Local
+                        Returns
+                        (params i)
+                        List
+                        (BlockE
+                          (VarD $next/1 ?List (LitE NullLit))
+                          (LetD (VarP $value/1) (LitE NullLit))
+                          (LetD (VarP $originalBlob/0) (LitE (BlobLit "")))
+                          (LetD (VarP $index/1) (LitE (NatLit 0)))
+                          (NewObjE
+                            Object
+                            (index $index/1)
+                            (originalBlob $originalBlob/0)
+                            (value $value/1)
+                            (next $next/1)
+                            {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD WildP (PrimE (CallPrim) (VarE setDedupTable) (VarE arr)))
+                (VarE arr)
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP dedupedBlobWeakRef)
+          (PrimE
+            (CallPrim)
+            (VarE getFromHashArray)
+            (PrimE TupPrim (VarE hashArray) (VarE b))
+          )
+        )
+        (LetD
+          (VarP result)
+          (SwitchE
+            (VarE dedupedBlobWeakRef)
+            (case
+              (OptP (VarP weakRef))
+              (BlockE
+                (LetD
+                  (VarP derefed)
+                  (PrimE
+                    (CallPrim Blob)
+                    (VarE weakGet)
+                    (PrimE (DotPrim ref) (VarE weakRef))
+                  )
+                )
+                (SwitchE
+                  (VarE derefed)
+                  (case (OptP (VarP derefed)) (VarE derefed))
+                  (case
+                    (LitP NullLit)
+                    (BlockE
+                      (LetD
+                        WildP
+                        (PrimE
+                          (CallPrim)
+                          (VarE addToHashArray)
+                          (PrimE TupPrim (VarE hashArray) (VarE b))
+                        )
+                      )
+                      (VarE b)
+                    )
+                  )
+                )
+              )
+            )
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  WildP
+                  (PrimE
+                    (CallPrim)
+                    (VarE addToHashArray)
+                    (PrimE TupPrim (VarE hashArray) (VarE b))
+                  )
+                )
+                (VarE b)
+              )
+            )
+          )
+        )
+        (VarE result)
+      )
+    )
+  )
+  (LetD
+    (VarP file$@prim)
+    (BlockE
+      (LetD (VarP Types) (NewObjE Module module {}))
+      (LetD
+        (VarP abs)
+        (FuncE abs Local Returns (params x) Nat (PrimE abs (VarE x)))
+      )
+      (LetD
+        (VarP shiftLeft)
+        (FuncE
+          shiftLeft
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE lsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP shiftRight)
+        (FuncE
+          shiftRight
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE rsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP idlHash)
+        (FuncE idlHash Local Returns (params x) Nat32 (PrimE idlHash (VarE x)))
+      )
+      (LetD
+        (VarP debugPrint)
+        (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+      )
+      (LetD
+        (VarP debugPrintNat)
+        (FuncE
+          debugPrintNat
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Nat) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintInt)
+        (FuncE
+          debugPrintInt
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Int) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintChar)
+        (FuncE
+          debugPrintChar
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE charToText) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP trap)
+        (FuncE trap Local Returns (params x) None (PrimE trap (VarE x)))
+      )
+      (LetD
+        (VarP rts_version)
+        (FuncE rts_version Local Returns Text (PrimE rts_version))
+      )
+      (LetD
+        (VarP rts_memory_size)
+        (FuncE rts_memory_size Local Returns Nat (PrimE rts_memory_size))
+      )
+      (LetD
+        (VarP rts_heap_size)
+        (FuncE rts_heap_size Local Returns Nat (PrimE rts_heap_size))
+      )
+      (LetD
+        (VarP rts_total_allocation)
+        (FuncE
+          rts_total_allocation
+          Local
+          Returns
+          Nat
+          (PrimE rts_total_allocation)
+        )
+      )
+      (LetD
+        (VarP rts_reclaimed)
+        (FuncE rts_reclaimed Local Returns Nat (PrimE rts_reclaimed))
+      )
+      (LetD
+        (VarP rts_max_live_size)
+        (FuncE rts_max_live_size Local Returns Nat (PrimE rts_max_live_size))
+      )
+      (LetD
+        (VarP rts_max_stack_size)
+        (FuncE rts_max_stack_size Local Returns Nat (PrimE rts_max_stack_size))
+      )
+      (LetD
+        (VarP rts_callback_table_count)
+        (FuncE
+          rts_callback_table_count
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_count)
+        )
+      )
+      (LetD
+        (VarP rts_callback_table_size)
+        (FuncE
+          rts_callback_table_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_size)
+        )
+      )
+      (LetD
+        (VarP rts_mutator_instructions)
+        (FuncE
+          rts_mutator_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_mutator_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_collector_instructions)
+        (FuncE
+          rts_collector_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_collector_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_lifetime_instructions)
+        (FuncE
+          rts_lifetime_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_lifetime_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_upgrade_instructions)
+        (FuncE
+          rts_upgrade_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_upgrade_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_stable_memory_size)
+        (FuncE
+          rts_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP rts_logical_stable_memory_size)
+        (FuncE
+          rts_logical_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_logical_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP allocWeakRef)
+        (FuncE
+          allocWeakRef
+          Local
+          Returns
+          (T Any)
+          (params obj)
+          weak T
+          (PrimE alloc_weak_ref (VarE obj))
+        )
+      )
+      (LetD
+        (VarP weakGet)
+        (FuncE
+          weakGet
+          Local
+          Returns
+          (T Any)
+          (params w)
+          ?T
+          (PrimE weak_get (VarE w))
+        )
+      )
+      (LetD
+        (VarP isLive)
+        (FuncE
+          isLive
+          Local
+          Returns
+          (params weak_ref)
+          Bool
+          (PrimE weak_ref_is_live (VarE weak_ref))
+        )
+      )
+      (LetD
+        (VarP envVarNames)
+        (FuncE envVarNames Local Returns ($ Any) [Text] (PrimE env_var_names))
+      )
+      (LetD
+        (VarP envVar)
+        (FuncE
+          envVar
+          Local
+          Returns
+          ($ Any)
+          (params name)
+          ?Text
+          (PrimE env_var (VarE name))
+        )
+      )
+      (LetD
+        (VarP __getDedupTable)
+        (FuncE
+          __getDedupTable
+          Local
+          Returns
+          ?[var __List]
+          (PrimE get_dedup_table)
+        )
+      )
+      (LetD
+        (VarP BlobIterator)
+        (FuncE
+          BlobIterator
+          Local
+          Returns
+          (params hash)
+          {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+          (BlockE
+            (LetD
+              (VarP @anon-object-138.41)
+              (BlockE
+                (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+                (VarD currentIndex Nat (LitE (NatLit 0)))
+                (VarD currentList ?__List (LitE NullLit))
+                (LetD (VarP hashArray) (VarE hash))
+                (LetD
+                  (VarP size)
+                  (FuncE
+                    size
+                    Local
+                    Returns
+                    Nat
+                    (BlockE
+                      (VarD len Nat (LitE (NatLit 0)))
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LetD
+                        WildP
+                        (LabelE
+                          $done/0
+                          ()
+                          (LoopE
+                            (IfE
+                              (PrimE
+                                (RelPrim Nat LtOp)
+                                (VarE! i)
+                                (VarE HASH_ARRAY_SIZE)
+                              )
+                              (BlockE
+                                (VarD
+                                  list
+                                  {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                  (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                                )
+                                (LetD
+                                  WildP
+                                  (LabelE
+                                    countLoop
+                                    ()
+                                    (LoopE
+                                      (LabelE
+                                        continue countLoop
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (VarP weakRef)
+                                            (PrimE (DotPrim value) (VarE! list))
+                                          )
+                                          (LetD
+                                            WildP
+                                            (SwitchE
+                                              (VarE weakRef)
+                                              (case
+                                                (OptP (VarP weakRef))
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP deref)
+                                                    (PrimE
+                                                      (CallPrim Blob)
+                                                      (VarE weakGet)
+                                                      (PrimE
+                                                        (DotPrim ref)
+                                                        (VarE weakRef)
+                                                      )
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (VarE deref)
+                                                    (case
+                                                      (OptP (VarP deref))
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (LitP NullLit)
+                                                      (AssignE
+                                                        (VarLE len)
+                                                        (PrimE
+                                                          (BinPrim Nat AddOp)
+                                                          (VarE! len)
+                                                          (LitE (NatLit 1))
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            (VarP next)
+                                            (PrimE (DotPrim next) (VarE! list))
+                                          )
+                                          (SwitchE
+                                            (VarE next)
+                                            (case
+                                              (OptP (VarP next))
+                                              (AssignE (VarLE list) (VarE next))
+                                            )
+                                            (case
+                                              (LitP NullLit)
+                                              (PrimE
+                                                (BreakPrim countLoop)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (AssignE
+                                  (VarLE i)
+                                  (PrimE
+                                    (BinPrim Nat AddOp)
+                                    (VarE! i)
+                                    (LitE (NatLit 1))
+                                  )
+                                )
+                              )
+                              (PrimE (BreakPrim $done/0) (PrimE TupPrim))
+                            )
+                          )
+                        )
+                      )
+                      (VarE! len)
+                    )
+                  )
+                )
+                (LetD
+                  (VarP getDeadBlobFromListNode)
+                  (FuncE
+                    getDeadBlobFromListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?Blob
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP myList))
+                        (BlockE
+                          (LetD
+                            (VarP weakRef)
+                            (PrimE (DotPrim value) (VarE myList))
+                          )
+                          (SwitchE
+                            (VarE weakRef)
+                            (case
+                              (OptP (VarP weakRef))
+                              (BlockE
+                                (LetD
+                                  (VarP deref)
+                                  (PrimE
+                                    (CallPrim Blob)
+                                    (VarE weakGet)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                                (SwitchE
+                                  (VarE deref)
+                                  (case
+                                    (OptP (VarP deref))
+                                    (PrimE RetPrim (LitE NullLit))
+                                  )
+                                  (case
+                                    (LitP NullLit)
+                                    (PrimE
+                                      RetPrim
+                                      (PrimE
+                                        OptPrim
+                                        (PrimE
+                                          (DotPrim originalBlob)
+                                          (VarE myList)
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                          )
+                        )
+                      )
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP advanceListNode)
+                  (FuncE
+                    advanceListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?__List
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP list))
+                        (PrimE (DotPrim next) (VarE list))
+                      )
+                      (case (LitP NullLit) (LitE NullLit))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP nextDeadBlob)
+                  (FuncE
+                    nextDeadBlob
+                    Local
+                    Returns
+                    Blob
+                    (BlockE
+                      (LetD
+                        WildP
+                        (LoopE
+                          (BlockE
+                            (LetD
+                              (VarP blob)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getDeadBlobFromListNode)
+                                (VarE! currentList)
+                              )
+                            )
+                            (SwitchE
+                              (VarE blob)
+                              (case
+                                (OptP (VarP blob))
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (PrimE RetPrim (VarE blob))
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (SwitchE
+                                    (VarE! currentList)
+                                    (case (OptP WildP) (PrimE TupPrim))
+                                    (case
+                                      (LitP NullLit)
+                                      (BlockE
+                                        (LetD
+                                          WildP
+                                          (AssignE
+                                            (VarLE currentIndex)
+                                            (PrimE
+                                              (BinPrim Nat AddOp)
+                                              (VarE! currentIndex)
+                                              (LitE (NatLit 1))
+                                            )
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (IfE
+                                            (PrimE
+                                              (RelPrim Nat GeOp)
+                                              (VarE! currentIndex)
+                                              (VarE HASH_ARRAY_SIZE)
+                                            )
+                                            (PrimE RetPrim (LitE (BlobLit "")))
+                                            (PrimE TupPrim)
+                                          )
+                                        )
+                                        (AssignE
+                                          (VarLE currentList)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE
+                                              IdxPrim
+                                              (VarE hashArray)
+                                              (VarE! currentIndex)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LitE (BlobLit ""))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP computeIndex)
+                  (FuncE
+                    computeIndex
+                    Local
+                    Returns
+                    (params b)
+                    Nat
+                    (BlockE
+                      (LetD
+                        (VarP magicBytes)
+                        (PrimE
+                          (ArrayPrim Const Nat8)
+                          (LitE (Nat8Lit 33))
+                          (LitE (Nat8Lit 99))
+                          (LitE (Nat8Lit 97))
+                          (LitE (Nat8Lit 102))
+                          (LitE (Nat8Lit 33))
+                        )
+                      )
+                      (LetD
+                        (VarP originalBlob)
+                        (PrimE (CallPrim) (VarE blobToArray) (VarE b))
+                      )
+                      (LetD
+                        (VarP concat)
+                        (PrimE
+                          (CallPrim Nat8)
+                          (VarE Array_tabulate)
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (PrimE array_len (VarE magicBytes))
+                              (PrimE array_len (VarE originalBlob))
+                            )
+                            (FuncE
+                              @anon-func-240.74
+                              Local
+                              Returns
+                              (params i)
+                              Nat8
+                              (IfE
+                                (PrimE
+                                  (RelPrim Nat LtOp)
+                                  (VarE i)
+                                  (PrimE array_len (VarE magicBytes))
+                                )
+                                (PrimE IdxPrim (VarE magicBytes) (VarE i))
+                                (PrimE
+                                  IdxPrim
+                                  (VarE originalBlob)
+                                  (PrimE
+                                    (BinPrim Nat SubOp)
+                                    (VarE i)
+                                    (PrimE array_len (VarE magicBytes))
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP bWithMagic)
+                        (PrimE (CallPrim) (VarE arrayToBlob) (VarE concat))
+                      )
+                      (LetD
+                        (VarP hashValue)
+                        (PrimE (CallPrim) (VarE hashBlob) (VarE bWithMagic))
+                      )
+                      (PrimE
+                        (BinPrim Nat ModOp)
+                        (PrimE (CallPrim) (VarE nat32ToNat) (VarE hashValue))
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP isBlobLive)
+                  (FuncE
+                    isBlobLive
+                    Local
+                    Returns
+                    (params b)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP index)
+                        (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                      )
+                      (VarD
+                        list
+                        {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                        (PrimE IdxPrim (VarE hashArray) (VarE index))
+                      )
+                      (LoopE
+                        (IfE
+                          (PrimE
+                            (RelPrim Int8 EqOp)
+                            (PrimE
+                              (CallPrim)
+                              (VarE blobCompare)
+                              (PrimE
+                                TupPrim
+                                (PrimE (DotPrim originalBlob) (VarE! list))
+                                (VarE b)
+                              )
+                            )
+                            (LitE (Int8Lit 0))
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP weakRef)
+                              (PrimE (DotPrim value) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE weakRef)
+                              (case
+                                (OptP (VarP weakRef))
+                                (PrimE
+                                  RetPrim
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE isLive)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP next)
+                              (PrimE (DotPrim next) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE next)
+                              (case
+                                (OptP (VarP next))
+                                (AssignE (VarLE list) (VarE next))
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneFirstElement)
+                  (FuncE
+                    pruneFirstElement
+                    Local
+                    Returns
+                    (params list b index)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP deadBlob)
+                        (PrimE
+                          (CallPrim)
+                          (VarE getDeadBlobFromListNode)
+                          (PrimE OptPrim (VarE list))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (SwitchE
+                          (VarE deadBlob)
+                          (case
+                            (OptP (VarP deadBlob))
+                            (IfE
+                              (PrimE
+                                (RelPrim Int8 EqOp)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE blobCompare)
+                                  (PrimE TupPrim (VarE deadBlob) (VarE b))
+                                )
+                                (LitE (Int8Lit 0))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP nextElem)
+                                  (PrimE (DotPrim next) (VarE list))
+                                )
+                                (SwitchE
+                                  (VarE nextElem)
+                                  (case
+                                    (OptP (VarP next))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE (VarE hashArray) (VarE index))
+                                          (VarE next)
+                                        )
+                                      )
+                                      (PrimE RetPrim (LitE (BoolLit true)))
+                                    )
+                                  )
+                                  (case (LitP NullLit) (PrimE TupPrim))
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                          )
+                          (case (LitP NullLit) (PrimE TupPrim))
+                        )
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneDeadBlobs)
+                  (FuncE
+                    pruneDeadBlobs
+                    Local
+                    Returns
+                    (params confirmedDeadBlobs)
+                    ()
+                    (BlockE
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LabelE
+                        $done/1
+                        ()
+                        (LoopE
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat LtOp)
+                              (VarE! i)
+                              (PrimE array_len (VarE confirmedDeadBlobs))
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP b)
+                                (PrimE
+                                  IdxPrim
+                                  (VarE confirmedDeadBlobs)
+                                  (VarE! i)
+                                )
+                              )
+                              (LetD
+                                (VarP index)
+                                (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                              )
+                              (LetD
+                                (VarP list)
+                                (PrimE IdxPrim (VarE hashArray) (VarE index))
+                              )
+                              (LetD
+                                (VarP pruned)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE pruneFirstElement)
+                                  (PrimE
+                                    TupPrim
+                                    (VarE list)
+                                    (VarE b)
+                                    (VarE index)
+                                  )
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (IfE
+                                  (PrimE
+                                    (RelPrim Bool EqOp)
+                                    (VarE pruned)
+                                    (LitE (BoolLit false))
+                                  )
+                                  (BlockE
+                                    (VarD
+                                      prev
+                                      ?{index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                      (PrimE OptPrim (VarE list))
+                                    )
+                                    (VarD
+                                      crntNode
+                                      ?__List
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (PrimE OptPrim (VarE list))
+                                      )
+                                    )
+                                    (LabelE
+                                      findLoop
+                                      ()
+                                      (LoopE
+                                        (LabelE
+                                          continue findLoop
+                                          ()
+                                          (BlockE
+                                            (LetD
+                                              (VarP crntBlob)
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE getDeadBlobFromListNode)
+                                                (VarE! crntNode)
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (SwitchE
+                                                (VarE crntBlob)
+                                                (case
+                                                  (OptP (VarP crntBlob))
+                                                  (IfE
+                                                    (PrimE
+                                                      (RelPrim Int8 EqOp)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE blobCompare)
+                                                        (PrimE
+                                                          TupPrim
+                                                          (VarE crntBlob)
+                                                          (VarE b)
+                                                        )
+                                                      )
+                                                      (LitE (Int8Lit 0))
+                                                    )
+                                                    (SwitchE
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE! prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                      (case
+                                                        (TupP
+                                                          (OptP (VarP prev))
+                                                          (OptP (VarP crntNode))
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (AssignE
+                                                              (DotLE
+                                                                (VarE prev)
+                                                                next
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim next)
+                                                                (VarE crntNode)
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (BreakPrim findLoop)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                      (case
+                                                        WildP
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                                (case
+                                                  (LitP NullLit)
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (AssignE
+                                                        (VarLE prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                    (AssignE
+                                                      (VarLE crntNode)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE advanceListNode)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (SwitchE
+                                              (VarE! crntNode)
+                                              (case
+                                                (OptP (VarP crntNode))
+                                                (PrimE TupPrim)
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE
+                                                  (BreakPrim findLoop)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (AssignE
+                                (VarLE i)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! i)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE (BreakPrim $done/1) (PrimE TupPrim))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (NewObjE
+                  Object
+                  (size size)
+                  (pruneDeadBlobs pruneDeadBlobs)
+                  (nextDeadBlob nextDeadBlob)
+                  (isBlobLive isBlobLive)
+                  {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+                )
+              )
+            )
+            (VarE @anon-object-138.41)
+          )
+        )
+      )
+      (LetD
+        (VarP getDeadBlobs)
+        (FuncE
+          getDeadBlobs
+          Local
+          Returns
+          ?[Blob]
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (LetD
+                    (VarP numDeadBlobs)
+                    (PrimE
+                      (CallPrim)
+                      (PrimE (DotPrim size) (VarE dedupTableIter))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    (VarP deadBlobs)
+                    (PrimE
+                      (CallPrim Blob)
+                      (VarE Array_tabulate)
+                      (PrimE
+                        TupPrim
+                        (VarE numDeadBlobs)
+                        (FuncE
+                          @anon-func-355.58
+                          Local
+                          Returns
+                          (params i)
+                          Blob
+                          (PrimE
+                            (CallPrim)
+                            (PrimE (DotPrim nextDeadBlob) (VarE dedupTableIter))
+                            (PrimE TupPrim)
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE RetPrim (PrimE OptPrim (VarE deadBlobs)))
+                )
+              )
+              (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP pruneConfirmedDeadBlobs)
+        (FuncE
+          pruneConfirmedDeadBlobs
+          Local
+          Returns
+          (params confirmedDeadBlobs)
+          ()
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim pruneDeadBlobs) (VarE dedupTableIter))
+                    (VarE confirmedDeadBlobs)
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP isStorageBlobLive)
+        (FuncE
+          isStorageBlobLive
+          Local
+          Returns
+          (params b)
+          Bool
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP iter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim isBlobLive) (VarE iter))
+                    (VarE b)
+                  )
+                )
+              )
+              (case (LitP NullLit) (LitE (BoolLit false)))
+            )
+          )
+        )
+      )
+      (LetD (VarP int64ToInt) (VarE @int64ToInt))
+      (LetD (VarP int32ToInt) (VarE @int32ToInt))
+      (LetD (VarP int16ToInt) (VarE @int16ToInt))
+      (LetD (VarP int8ToInt) (VarE @int8ToInt))
+      (LetD (VarP nat64ToNat) (VarE @nat64ToNat))
+      (LetD (VarP nat32ToNat) (VarE @nat32ToNat))
+      (LetD (VarP nat16ToNat) (VarE @nat16ToNat))
+      (LetD (VarP nat8ToNat) (VarE @nat8ToNat))
+      (LetD
+        (VarP intToInt64)
+        (FuncE
+          intToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32)
+        (FuncE
+          intToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16)
+        (FuncE
+          intToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8)
+        (FuncE
+          intToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat64)
+        (FuncE
+          natToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat32)
+        (FuncE
+          natToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat16)
+        (FuncE
+          natToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat8)
+        (FuncE
+          natToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt64Wrap)
+        (FuncE
+          intToInt64Wrap
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32Wrap)
+        (FuncE
+          intToInt32Wrap
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16Wrap)
+        (FuncE
+          intToInt16Wrap
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8Wrap)
+        (FuncE
+          intToInt8Wrap
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat64Wrap)
+        (FuncE
+          intToNat64Wrap
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat32Wrap)
+        (FuncE
+          intToNat32Wrap
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat16Wrap)
+        (FuncE
+          intToNat16Wrap
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat8Wrap)
+        (FuncE
+          intToNat8Wrap
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToNat64)
+        (FuncE
+          int64ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int64 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToInt64)
+        (FuncE
+          nat64ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Nat64 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToNat32)
+        (FuncE
+          int32ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int32 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToInt32)
+        (FuncE
+          nat32ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Nat32 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToNat16)
+        (FuncE
+          int16ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int16 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToInt16)
+        (FuncE
+          nat16ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Nat16 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToNat8)
+        (FuncE
+          int8ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int8 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToInt8)
+        (FuncE
+          nat8ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Nat8 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToNat16)
+        (FuncE
+          nat8ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat8 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat32)
+        (FuncE
+          nat16ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat16 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat64)
+        (FuncE
+          nat32ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat32 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToNat32)
+        (FuncE
+          nat64ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat64 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat16)
+        (FuncE
+          nat32ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat32 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat8)
+        (FuncE
+          nat16ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat16 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToInt16)
+        (FuncE
+          int8ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int8 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt32)
+        (FuncE
+          int16ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int16 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt64)
+        (FuncE
+          int32ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int32 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToInt32)
+        (FuncE
+          int64ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int64 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt16)
+        (FuncE
+          int32ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int32 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt8)
+        (FuncE
+          int16ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int16 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat16)
+        (FuncE
+          explodeNat16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Nat16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt16)
+        (FuncE
+          explodeInt16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Int16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat32)
+        (FuncE
+          explodeNat32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt32)
+        (FuncE
+          explodeInt32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat64)
+        (FuncE
+          explodeNat64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt64)
+        (FuncE
+          explodeInt64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP charToNat32)
+        (FuncE
+          charToNat32
+          Local
+          Returns
+          (params c)
+          Nat32
+          (PrimE (NumConvWrapPrim Char Nat32) (VarE c))
+        )
+      )
+      (LetD
+        (VarP nat32ToChar)
+        (FuncE
+          nat32ToChar
+          Local
+          Returns
+          (params w)
+          Char
+          (PrimE (NumConvTrapPrim Nat32 Char) (VarE w))
+        )
+      )
+      (LetD
+        (VarP charToText)
+        (FuncE
+          charToText
+          Local
+          Returns
+          (params c)
+          Text
+          (PrimE conv_Char_Text (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToUpper)
+        (FuncE
+          charToUpper
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_upper (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToLower)
+        (FuncE
+          charToLower
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_lower (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsWhitespace)
+        (FuncE
+          charIsWhitespace
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_whitespace (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsLowercase)
+        (FuncE
+          charIsLowercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_lowercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsUppercase)
+        (FuncE
+          charIsUppercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_uppercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsAlphabetic)
+        (FuncE
+          charIsAlphabetic
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_alphabetic (VarE c))
+        )
+      )
+      (LetD
+        (VarP blobCompare)
+        (FuncE
+          blobCompare
+          Local
+          Returns
+          (params b1 b2)
+          Int8
+          (PrimE blob_compare (VarE b1) (VarE b2))
+        )
+      )
+      (LetD
+        (VarP hashBlob)
+        (FuncE
+          hashBlob
+          Local
+          Returns
+          (params b)
+          Nat32
+          (PrimE crc32Hash (VarE b))
+        )
+      )
+      (LetD
+        (VarP decodeUtf8)
+        (FuncE
+          decodeUtf8
+          Local
+          Returns
+          (params b)
+          ?Text
+          (PrimE DecodeUtf8 (VarE b))
+        )
+      )
+      (LetD
+        (VarP encodeUtf8)
+        (FuncE
+          encodeUtf8
+          Local
+          Returns
+          (params t)
+          Blob
+          (PrimE EncodeUtf8 (VarE t))
+        )
+      )
+      (LetD
+        (VarP textCompare)
+        (FuncE
+          textCompare
+          Local
+          Returns
+          (params t1 t2)
+          Int8
+          (PrimE text_compare (VarE t1) (VarE t2))
+        )
+      )
+      (LetD
+        (VarP textLowercase)
+        (FuncE
+          textLowercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_lowercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP textUppercase)
+        (FuncE
+          textUppercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_uppercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP popcntNat8)
+        (FuncE
+          popcntNat8
+          Local
+          Returns
+          (params w)
+          Nat8
+          (PrimE popcnt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat8)
+        (FuncE clzNat8 Local Returns (params w) Nat8 (PrimE clz8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat8)
+        (FuncE ctzNat8 Local Returns (params w) Nat8 (PrimE ctz8 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat8)
+        (FuncE
+          btstNat8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat8 EqOp)
+              (PrimE btst8 (VarE w) (VarE amount))
+              (LitE (Nat8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat16)
+        (FuncE
+          popcntNat16
+          Local
+          Returns
+          (params w)
+          Nat16
+          (PrimE popcnt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat16)
+        (FuncE clzNat16 Local Returns (params w) Nat16 (PrimE clz16 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat16)
+        (FuncE ctzNat16 Local Returns (params w) Nat16 (PrimE ctz16 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat16)
+        (FuncE
+          btstNat16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat16 EqOp)
+              (PrimE btst16 (VarE w) (VarE amount))
+              (LitE (Nat16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat32)
+        (FuncE
+          popcntNat32
+          Local
+          Returns
+          (params w)
+          Nat32
+          (PrimE popcnt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat32)
+        (FuncE clzNat32 Local Returns (params w) Nat32 (PrimE clz32 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat32)
+        (FuncE ctzNat32 Local Returns (params w) Nat32 (PrimE ctz32 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat32)
+        (FuncE
+          btstNat32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat32 EqOp)
+              (PrimE btst32 (VarE w) (VarE amount))
+              (LitE (Nat32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat64)
+        (FuncE
+          popcntNat64
+          Local
+          Returns
+          (params w)
+          Nat64
+          (PrimE popcnt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat64)
+        (FuncE clzNat64 Local Returns (params w) Nat64 (PrimE clz64 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat64)
+        (FuncE ctzNat64 Local Returns (params w) Nat64 (PrimE ctz64 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat64)
+        (FuncE
+          btstNat64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE btst64 (VarE w) (VarE amount))
+              (LitE (Nat64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt8)
+        (FuncE
+          popcntInt8
+          Local
+          Returns
+          (params w)
+          Int8
+          (PrimE popcntInt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt8)
+        (FuncE clzInt8 Local Returns (params w) Int8 (PrimE clzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzInt8)
+        (FuncE ctzInt8 Local Returns (params w) Int8 (PrimE ctzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP btstInt8)
+        (FuncE
+          btstInt8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int8 EqOp)
+              (PrimE btstInt8 (VarE w) (VarE amount))
+              (LitE (Int8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt16)
+        (FuncE
+          popcntInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE popcntInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt16)
+        (FuncE
+          clzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE clzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt16)
+        (FuncE
+          ctzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE ctzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt16)
+        (FuncE
+          btstInt16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int16 EqOp)
+              (PrimE btstInt16 (VarE w) (VarE amount))
+              (LitE (Int16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt32)
+        (FuncE
+          popcntInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE popcntInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt32)
+        (FuncE
+          clzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE clzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt32)
+        (FuncE
+          ctzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE ctzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt32)
+        (FuncE
+          btstInt32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int32 EqOp)
+              (PrimE btstInt32 (VarE w) (VarE amount))
+              (LitE (Int32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt64)
+        (FuncE
+          popcntInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE popcntInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt64)
+        (FuncE
+          clzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE clzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt64)
+        (FuncE
+          ctzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE ctzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt64)
+        (FuncE
+          btstInt64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int64 EqOp)
+              (PrimE btstInt64 (VarE w) (VarE amount))
+              (LitE (Int64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP floatAbs)
+        (FuncE floatAbs Local Returns (params f) Float (PrimE fabs (VarE f)))
+      )
+      (LetD
+        (VarP floatSqrt)
+        (FuncE floatSqrt Local Returns (params f) Float (PrimE fsqrt (VarE f)))
+      )
+      (LetD
+        (VarP floatCeil)
+        (FuncE floatCeil Local Returns (params f) Float (PrimE fceil (VarE f)))
+      )
+      (LetD
+        (VarP floatFloor)
+        (FuncE
+          floatFloor
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ffloor (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatTrunc)
+        (FuncE
+          floatTrunc
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ftrunc (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatNearest)
+        (FuncE
+          floatNearest
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE fnearest (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatMin)
+        (FuncE
+          floatMin
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmin (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatMax)
+        (FuncE
+          floatMax
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmax (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatCopySign)
+        (FuncE
+          floatCopySign
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fcopysign (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatToInt)
+        (FuncE
+          floatToInt
+          Local
+          Returns
+          (params f)
+          Int
+          (PrimE (NumConvTrapPrim Float Int) (VarE f))
+        )
+      )
+      (LetD
+        (VarP intToFloat)
+        (FuncE
+          intToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int Float) (VarE n))
+        )
+      )
+      (LetD
+        (VarP floatToInt64)
+        (FuncE
+          floatToInt64
+          Local
+          Returns
+          (params f)
+          Int64
+          (PrimE (NumConvTrapPrim Float Int64) (VarE f))
+        )
+      )
+      (LetD
+        (VarP int64ToFloat)
+        (FuncE
+          int64ToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int64 Float) (VarE n))
+        )
+      )
+      (LetD (VarP floatToText) (VarE @text_of_Float))
+      (LetD
+        (VarP floatToFormattedText)
+        (FuncE
+          floatToFormattedText
+          Local
+          Returns
+          (params f prec mode)
+          Text
+          (PrimE fmtFloat->Text (VarE f) (VarE prec) (VarE mode))
+        )
+      )
+      (LetD
+        (VarP sin)
+        (FuncE sin Local Returns (params f) Float (PrimE fsin (VarE f)))
+      )
+      (LetD
+        (VarP cos)
+        (FuncE cos Local Returns (params f) Float (PrimE fcos (VarE f)))
+      )
+      (LetD
+        (VarP tan)
+        (FuncE tan Local Returns (params f) Float (PrimE ftan (VarE f)))
+      )
+      (LetD
+        (VarP arcsin)
+        (FuncE arcsin Local Returns (params f) Float (PrimE fasin (VarE f)))
+      )
+      (LetD
+        (VarP arccos)
+        (FuncE arccos Local Returns (params f) Float (PrimE facos (VarE f)))
+      )
+      (LetD
+        (VarP arctan)
+        (FuncE arctan Local Returns (params f) Float (PrimE fatan (VarE f)))
+      )
+      (LetD
+        (VarP arctan2)
+        (FuncE
+          arctan2
+          Local
+          Returns
+          (params y x)
+          Float
+          (PrimE fatan2 (VarE y) (VarE x))
+        )
+      )
+      (LetD
+        (VarP exp)
+        (FuncE exp Local Returns (params f) Float (PrimE fexp (VarE f)))
+      )
+      (LetD
+        (VarP log)
+        (FuncE log Local Returns (params f) Float (PrimE flog (VarE f)))
+      )
+      (LetD
+        (VarP Array_init)
+        (FuncE
+          Array_init
+          Local
+          Returns
+          (T Any)
+          (params len x)
+          [var T]
+          (PrimE Array.init (VarE len) (VarE x))
+        )
+      )
+      (LetD
+        (VarP Array_tabulate)
+        (FuncE
+          Array_tabulate
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [T]
+          (PrimE Array.tabulate (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP Array_tabulateVar)
+        (FuncE
+          Array_tabulateVar
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [var T]
+          (PrimE Array.tabulateVar (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP blobToArray)
+        (FuncE
+          blobToArray
+          Local
+          Returns
+          (params b)
+          [Nat8]
+          (PrimE blobToArray (VarE b))
+        )
+      )
+      (LetD
+        (VarP blobToArrayMut)
+        (FuncE
+          blobToArrayMut
+          Local
+          Returns
+          (params b)
+          [var Nat8]
+          (PrimE blobToArrayMut (VarE b))
+        )
+      )
+      (LetD
+        (VarP arrayToBlob)
+        (FuncE
+          arrayToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP arrayMutToBlob)
+        (FuncE
+          arrayMutToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayMutToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP error)
+        (FuncE
+          error
+          Local
+          Returns
+          (params message)
+          Error
+          (BlockE
+            (LetD
+              (VarP e)
+              (PrimE
+                TupPrim
+                (PrimE (TagE canister_reject) (PrimE TupPrim))
+                (VarE message)
+              )
+            )
+            (PrimE (CastPrim (ErrorCode, Text) Error) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorCode)
+        (FuncE
+          errorCode
+          Local
+          Returns
+          (params e)
+          ErrorCode
+          (PrimE
+            (ProjPrim 0)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorMessage)
+        (FuncE
+          errorMessage
+          Local
+          Returns
+          (params e)
+          Text
+          (PrimE
+            (ProjPrim 1)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP replyDeadline)
+        (FuncE replyDeadline Local Returns Nat64 (PrimE ICReplyDeadlinePrim))
+      )
+      (LetD (VarP time) (FuncE time Local Returns Nat64 (PrimE SystemTimePrim)))
+      (LetD
+        (VarP blobOfPrincipal)
+        (FuncE
+          blobOfPrincipal
+          Local
+          Returns
+          (params id)
+          Blob
+          (PrimE blobOfPrincipal (VarE id))
+        )
+      )
+      (LetD
+        (VarP principalOfBlob)
+        (FuncE
+          principalOfBlob
+          Local
+          Returns
+          (params act)
+          Principal
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE
+                  (RelPrim Nat GtOp)
+                  (PrimE blob_size (VarE act))
+                  (LitE (NatLit 29))
+                )
+                (PrimE
+                  (CallPrim)
+                  (VarE trap)
+                  (LitE (TextLit blob too long for principal))
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (PrimE principalOfBlob (VarE act))
+          )
+        )
+      )
+      (LetD
+        (VarP principalOfActor)
+        (FuncE
+          principalOfActor
+          Local
+          Returns
+          (params act)
+          Principal
+          (PrimE principalOfActor (VarE act))
+        )
+      )
+      (LetD
+        (VarP isController)
+        (FuncE
+          isController
+          Local
+          Returns
+          (params p)
+          Bool
+          (PrimE is_controller (VarE p))
+        )
+      )
+      (LetD
+        (VarP isReplicatedExecution)
+        (FuncE
+          isReplicatedExecution
+          Local
+          Returns
+          Bool
+          (PrimE replicated_execution)
+        )
+      )
+      (LetD
+        (VarP canisterVersion)
+        (FuncE canisterVersion Local Returns Nat64 (PrimE canister_version))
+      )
+      (LetD
+        (VarP canisterSubnet)
+        (FuncE canisterSubnet Local Returns Principal (PrimE canister_subnet))
+      )
+      (LetD (VarP rootKey) (FuncE rootKey Local Returns Blob (PrimE root_key)))
+      (LetD
+        (VarP getSelfPrincipal)
+        (FuncE
+          getSelfPrincipal
+          Local
+          Returns
+          ($ Any)
+          Principal
+          (PrimE canister_self)
+        )
+      )
+      (LetD (VarP createActor) (VarE @create_actor_helper))
+      (LetD
+        (VarP cyclesBalance)
+        (FuncE cyclesBalance Local Returns Nat (PrimE SystemCyclesBalancePrim))
+      )
+      (LetD
+        (VarP cyclesAvailable)
+        (FuncE
+          cyclesAvailable
+          Local
+          Returns
+          Nat
+          (PrimE SystemCyclesAvailablePrim)
+        )
+      )
+      (LetD
+        (VarP cyclesRefunded)
+        (FuncE cyclesRefunded Local Returns Nat (VarE! @refund))
+      )
+      (LetD
+        (VarP cyclesAccept)
+        (FuncE
+          cyclesAccept
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesAcceptPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP cyclesAdd)
+        (FuncE
+          cyclesAdd
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          ()
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat EqOp) (VarE amount) (LitE (NatLit 0)))
+                (PrimE RetPrim (PrimE TupPrim))
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              WildP
+              (AssignE
+                (VarLE @cycles)
+                (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE amount))
+              )
+            )
+            (IfE
+              (PrimE
+                (RelPrim Nat GtOp)
+                (VarE! @cycles)
+                (LitE
+                  (NatLit 340_282_366_920_938_463_463_374_607_431_768_211_455)
+                )
+              )
+              (PrimE
+                (CallPrim)
+                (VarE trap)
+                (LitE (TextLit cannot add more than 2^128 cycles))
+              )
+              (PrimE TupPrim)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP cyclesBurn)
+        (FuncE
+          cyclesBurn
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesBurnPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP costCall)
+        (FuncE
+          costCall
+          Local
+          Returns
+          (params methodNameSize payloadSize)
+          Nat
+          (PrimE costCall (VarE methodNameSize) (VarE payloadSize))
+        )
+      )
+      (LetD
+        (VarP costCreateCanister)
+        (FuncE costCreateCanister Local Returns Nat (PrimE costCreateCanister))
+      )
+      (LetD
+        (VarP costHttpRequest)
+        (FuncE
+          costHttpRequest
+          Local
+          Returns
+          (params requestSize maxResBytes)
+          Nat
+          (PrimE costHttpRequest (VarE requestSize) (VarE maxResBytes))
+        )
+      )
+      (LetD
+        (VarP costSignWithEcdsa)
+        (FuncE
+          costSignWithEcdsa
+          Local
+          Returns
+          (params keyName curveEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithEcdsa (VarE keyName) (VarE curveEncoding))
+        )
+      )
+      (LetD
+        (VarP costSignWithSchnorr)
+        (FuncE
+          costSignWithSchnorr
+          Local
+          Returns
+          (params keyName algorithmEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithSchnorr (VarE keyName) (VarE algorithmEncoding))
+        )
+      )
+      (LetD
+        (VarP setCertifiedData)
+        (FuncE
+          setCertifiedData
+          Local
+          Returns
+          (params data)
+          ()
+          (PrimE SetCertifiedData (VarE data))
+        )
+      )
+      (LetD
+        (VarP getCertificate)
+        (FuncE getCertificate Local Returns ?Blob (PrimE GetCertificate))
+      )
+      (LetD
+        (VarP stableMemorySize)
+        (FuncE stableMemorySize Local Returns Nat64 (PrimE stableMemorySize))
+      )
+      (LetD
+        (VarP stableMemoryGrow)
+        (FuncE
+          stableMemoryGrow
+          Local
+          Returns
+          (params pages)
+          Nat64
+          (PrimE stableMemoryGrow (VarE pages))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat32)
+        (FuncE
+          stableMemoryLoadNat32
+          Local
+          Returns
+          (params offset)
+          Nat32
+          (PrimE stableMemoryLoadNat32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat32)
+        (FuncE
+          stableMemoryStoreNat32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat8)
+        (FuncE
+          stableMemoryLoadNat8
+          Local
+          Returns
+          (params offset)
+          Nat8
+          (PrimE stableMemoryLoadNat8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat8)
+        (FuncE
+          stableMemoryStoreNat8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat16)
+        (FuncE
+          stableMemoryLoadNat16
+          Local
+          Returns
+          (params offset)
+          Nat16
+          (PrimE stableMemoryLoadNat16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat16)
+        (FuncE
+          stableMemoryStoreNat16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat64)
+        (FuncE
+          stableMemoryLoadNat64
+          Local
+          Returns
+          (params offset)
+          Nat64
+          (PrimE stableMemoryLoadNat64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat64)
+        (FuncE
+          stableMemoryStoreNat64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt32)
+        (FuncE
+          stableMemoryLoadInt32
+          Local
+          Returns
+          (params offset)
+          Int32
+          (PrimE stableMemoryLoadInt32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt32)
+        (FuncE
+          stableMemoryStoreInt32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt8)
+        (FuncE
+          stableMemoryLoadInt8
+          Local
+          Returns
+          (params offset)
+          Int8
+          (PrimE stableMemoryLoadInt8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt8)
+        (FuncE
+          stableMemoryStoreInt8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt16)
+        (FuncE
+          stableMemoryLoadInt16
+          Local
+          Returns
+          (params offset)
+          Int16
+          (PrimE stableMemoryLoadInt16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt16)
+        (FuncE
+          stableMemoryStoreInt16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt64)
+        (FuncE
+          stableMemoryLoadInt64
+          Local
+          Returns
+          (params offset)
+          Int64
+          (PrimE stableMemoryLoadInt64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt64)
+        (FuncE
+          stableMemoryStoreInt64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadFloat)
+        (FuncE
+          stableMemoryLoadFloat
+          Local
+          Returns
+          (params offset)
+          Float
+          (PrimE stableMemoryLoadFloat (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreFloat)
+        (FuncE
+          stableMemoryStoreFloat
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreFloat (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadBlob)
+        (FuncE
+          stableMemoryLoadBlob
+          Local
+          Returns
+          (params offset size)
+          Blob
+          (PrimE stableMemoryLoadBlob (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreBlob)
+        (FuncE
+          stableMemoryStoreBlob
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreBlob (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableVarQuery)
+        (FuncE
+          stableVarQuery
+          Local
+          Returns
+          shared query () -> async {size : Nat64}
+          (PrimE stableVarQuery)
+        )
+      )
+      (LetD
+        (VarP regionNew)
+        (FuncE regionNew Local Returns Region (PrimE regionNew))
+      )
+      (LetD
+        (VarP regionId)
+        (FuncE regionId Local Returns (params r) Nat (PrimE regionId (VarE r)))
+      )
+      (LetD
+        (VarP regionSize)
+        (FuncE
+          regionSize
+          Local
+          Returns
+          (params r)
+          Nat64
+          (PrimE regionSize (VarE r))
+        )
+      )
+      (LetD
+        (VarP regionGrow)
+        (FuncE
+          regionGrow
+          Local
+          Returns
+          (params r pages)
+          Nat64
+          (PrimE regionGrow (VarE r) (VarE pages))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat32)
+        (FuncE
+          regionLoadNat32
+          Local
+          Returns
+          (params r offset)
+          Nat32
+          (PrimE regionLoadNat32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat32)
+        (FuncE
+          regionStoreNat32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat8)
+        (FuncE
+          regionLoadNat8
+          Local
+          Returns
+          (params r offset)
+          Nat8
+          (PrimE regionLoadNat8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat8)
+        (FuncE
+          regionStoreNat8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat16)
+        (FuncE
+          regionLoadNat16
+          Local
+          Returns
+          (params r offset)
+          Nat16
+          (PrimE regionLoadNat16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat16)
+        (FuncE
+          regionStoreNat16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat64)
+        (FuncE
+          regionLoadNat64
+          Local
+          Returns
+          (params r offset)
+          Nat64
+          (PrimE regionLoadNat64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat64)
+        (FuncE
+          regionStoreNat64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt32)
+        (FuncE
+          regionLoadInt32
+          Local
+          Returns
+          (params r offset)
+          Int32
+          (PrimE regionLoadInt32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt32)
+        (FuncE
+          regionStoreInt32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt8)
+        (FuncE
+          regionLoadInt8
+          Local
+          Returns
+          (params r offset)
+          Int8
+          (PrimE regionLoadInt8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt8)
+        (FuncE
+          regionStoreInt8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt16)
+        (FuncE
+          regionLoadInt16
+          Local
+          Returns
+          (params r offset)
+          Int16
+          (PrimE regionLoadInt16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt16)
+        (FuncE
+          regionStoreInt16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt64)
+        (FuncE
+          regionLoadInt64
+          Local
+          Returns
+          (params r offset)
+          Int64
+          (PrimE regionLoadInt64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt64)
+        (FuncE
+          regionStoreInt64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadFloat)
+        (FuncE
+          regionLoadFloat
+          Local
+          Returns
+          (params r offset)
+          Float
+          (PrimE regionLoadFloat (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreFloat)
+        (FuncE
+          regionStoreFloat
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreFloat (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadBlob)
+        (FuncE
+          regionLoadBlob
+          Local
+          Returns
+          (params r offset size)
+          Blob
+          (PrimE regionLoadBlob (VarE r) (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP regionStoreBlob)
+        (FuncE
+          regionStoreBlob
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreBlob (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD (VarP call_raw) (VarE @call_raw))
+      (LetD
+        (VarP performanceCounter)
+        (FuncE
+          performanceCounter
+          Local
+          Returns
+          (params counter)
+          Nat64
+          (PrimE performanceCounter (VarE counter))
+        )
+      )
+      (LetD
+        (VarP setCandidLimits)
+        (FuncE
+          setCandidLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/0)
+          ()
+          (BlockE
+            (LetD
+              (ObjP
+                (numerator (VarP numerator))
+                (denominator (VarP denominator))
+                (bias (VarP bias))
+              )
+              (VarE $param/0)
+            )
+            (PrimE
+              setCandidLimits
+              (VarE numerator)
+              (VarE denominator)
+              (VarE bias)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidLimits)
+        (FuncE
+          getCandidLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; denominator : Nat32; numerator : Nat32}
+          (BlockE
+            (LetD
+              (TupP (VarP numerator) (VarP denominator) (VarP bias))
+              (PrimE getCandidLimits)
+            )
+            (NewObjE
+              Object
+              (bias bias)
+              (denominator denominator)
+              (numerator numerator)
+              {bias : Nat32; denominator : Nat32; numerator : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP setCandidTypeLimits)
+        (FuncE
+          setCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/1)
+          ()
+          (BlockE
+            (LetD
+              (ObjP (scalar (VarP scalar)) (bias (VarP bias)))
+              (VarE $param/1)
+            )
+            (PrimE setCandidTypeLimits (VarE scalar) (VarE bias))
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidTypeLimits)
+        (FuncE
+          getCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; scalar : Nat32}
+          (BlockE
+            (LetD (TupP (VarP scalar) (VarP bias)) (PrimE getCandidTypeLimits))
+            (NewObjE
+              Object
+              (bias bias)
+              (scalar scalar)
+              {bias : Nat32; scalar : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP forall)
+        (FuncE
+          forall
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE forall (VarE f))
+        )
+      )
+      (LetD
+        (VarP exists)
+        (FuncE
+          exists
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE exists (VarE f))
+        )
+      )
+      (LetD (VarP setTimer) (VarE @setTimer))
+      (LetD (VarP cancelTimer) (VarE @cancelTimer))
+      (NewObjE
+        Module
+        (weakGet weakGet)
+        (trap trap)
+        (time time)
+        (textUppercase textUppercase)
+        (textLowercase textLowercase)
+        (textCompare textCompare)
+        (tan tan)
+        (stableVarQuery stableVarQuery)
+        (stableMemoryStoreNat8 stableMemoryStoreNat8)
+        (stableMemoryStoreNat64 stableMemoryStoreNat64)
+        (stableMemoryStoreNat32 stableMemoryStoreNat32)
+        (stableMemoryStoreNat16 stableMemoryStoreNat16)
+        (stableMemoryStoreInt8 stableMemoryStoreInt8)
+        (stableMemoryStoreInt64 stableMemoryStoreInt64)
+        (stableMemoryStoreInt32 stableMemoryStoreInt32)
+        (stableMemoryStoreInt16 stableMemoryStoreInt16)
+        (stableMemoryStoreFloat stableMemoryStoreFloat)
+        (stableMemoryStoreBlob stableMemoryStoreBlob)
+        (stableMemorySize stableMemorySize)
+        (stableMemoryLoadNat8 stableMemoryLoadNat8)
+        (stableMemoryLoadNat64 stableMemoryLoadNat64)
+        (stableMemoryLoadNat32 stableMemoryLoadNat32)
+        (stableMemoryLoadNat16 stableMemoryLoadNat16)
+        (stableMemoryLoadInt8 stableMemoryLoadInt8)
+        (stableMemoryLoadInt64 stableMemoryLoadInt64)
+        (stableMemoryLoadInt32 stableMemoryLoadInt32)
+        (stableMemoryLoadInt16 stableMemoryLoadInt16)
+        (stableMemoryLoadFloat stableMemoryLoadFloat)
+        (stableMemoryLoadBlob stableMemoryLoadBlob)
+        (stableMemoryGrow stableMemoryGrow)
+        (sin sin)
+        (shiftRight shiftRight)
+        (shiftLeft shiftLeft)
+        (setTimer setTimer)
+        (setCertifiedData setCertifiedData)
+        (setCandidTypeLimits setCandidTypeLimits)
+        (setCandidLimits setCandidLimits)
+        (rts_version rts_version)
+        (rts_upgrade_instructions rts_upgrade_instructions)
+        (rts_total_allocation rts_total_allocation)
+        (rts_stable_memory_size rts_stable_memory_size)
+        (rts_reclaimed rts_reclaimed)
+        (rts_mutator_instructions rts_mutator_instructions)
+        (rts_memory_size rts_memory_size)
+        (rts_max_stack_size rts_max_stack_size)
+        (rts_max_live_size rts_max_live_size)
+        (rts_logical_stable_memory_size rts_logical_stable_memory_size)
+        (rts_lifetime_instructions rts_lifetime_instructions)
+        (rts_heap_size rts_heap_size)
+        (rts_collector_instructions rts_collector_instructions)
+        (rts_callback_table_size rts_callback_table_size)
+        (rts_callback_table_count rts_callback_table_count)
+        (rootKey rootKey)
+        (replyDeadline replyDeadline)
+        (regionStoreNat8 regionStoreNat8)
+        (regionStoreNat64 regionStoreNat64)
+        (regionStoreNat32 regionStoreNat32)
+        (regionStoreNat16 regionStoreNat16)
+        (regionStoreInt8 regionStoreInt8)
+        (regionStoreInt64 regionStoreInt64)
+        (regionStoreInt32 regionStoreInt32)
+        (regionStoreInt16 regionStoreInt16)
+        (regionStoreFloat regionStoreFloat)
+        (regionStoreBlob regionStoreBlob)
+        (regionSize regionSize)
+        (regionNew regionNew)
+        (regionLoadNat8 regionLoadNat8)
+        (regionLoadNat64 regionLoadNat64)
+        (regionLoadNat32 regionLoadNat32)
+        (regionLoadNat16 regionLoadNat16)
+        (regionLoadInt8 regionLoadInt8)
+        (regionLoadInt64 regionLoadInt64)
+        (regionLoadInt32 regionLoadInt32)
+        (regionLoadInt16 regionLoadInt16)
+        (regionLoadFloat regionLoadFloat)
+        (regionLoadBlob regionLoadBlob)
+        (regionId regionId)
+        (regionGrow regionGrow)
+        (pruneConfirmedDeadBlobs pruneConfirmedDeadBlobs)
+        (principalOfBlob principalOfBlob)
+        (principalOfActor principalOfActor)
+        (popcntNat8 popcntNat8)
+        (popcntNat64 popcntNat64)
+        (popcntNat32 popcntNat32)
+        (popcntNat16 popcntNat16)
+        (popcntInt8 popcntInt8)
+        (popcntInt64 popcntInt64)
+        (popcntInt32 popcntInt32)
+        (popcntInt16 popcntInt16)
+        (performanceCounter performanceCounter)
+        (natToNat8 natToNat8)
+        (natToNat64 natToNat64)
+        (natToNat32 natToNat32)
+        (natToNat16 natToNat16)
+        (nat8ToNat16 nat8ToNat16)
+        (nat8ToNat nat8ToNat)
+        (nat8ToInt8 nat8ToInt8)
+        (nat64ToNat32 nat64ToNat32)
+        (nat64ToNat nat64ToNat)
+        (nat64ToInt64 nat64ToInt64)
+        (nat32ToNat64 nat32ToNat64)
+        (nat32ToNat16 nat32ToNat16)
+        (nat32ToNat nat32ToNat)
+        (nat32ToInt32 nat32ToInt32)
+        (nat32ToChar nat32ToChar)
+        (nat16ToNat8 nat16ToNat8)
+        (nat16ToNat32 nat16ToNat32)
+        (nat16ToNat nat16ToNat)
+        (nat16ToInt16 nat16ToInt16)
+        (log log)
+        (isStorageBlobLive isStorageBlobLive)
+        (isReplicatedExecution isReplicatedExecution)
+        (isLive isLive)
+        (isController isController)
+        (intToNat8Wrap intToNat8Wrap)
+        (intToNat64Wrap intToNat64Wrap)
+        (intToNat32Wrap intToNat32Wrap)
+        (intToNat16Wrap intToNat16Wrap)
+        (intToInt8Wrap intToInt8Wrap)
+        (intToInt8 intToInt8)
+        (intToInt64Wrap intToInt64Wrap)
+        (intToInt64 intToInt64)
+        (intToInt32Wrap intToInt32Wrap)
+        (intToInt32 intToInt32)
+        (intToInt16Wrap intToInt16Wrap)
+        (intToInt16 intToInt16)
+        (intToFloat intToFloat)
+        (int8ToNat8 int8ToNat8)
+        (int8ToInt16 int8ToInt16)
+        (int8ToInt int8ToInt)
+        (int64ToNat64 int64ToNat64)
+        (int64ToInt32 int64ToInt32)
+        (int64ToInt int64ToInt)
+        (int64ToFloat int64ToFloat)
+        (int32ToNat32 int32ToNat32)
+        (int32ToInt64 int32ToInt64)
+        (int32ToInt16 int32ToInt16)
+        (int32ToInt int32ToInt)
+        (int16ToNat16 int16ToNat16)
+        (int16ToInt8 int16ToInt8)
+        (int16ToInt32 int16ToInt32)
+        (int16ToInt int16ToInt)
+        (idlHash idlHash)
+        (hashBlob hashBlob)
+        (getSelfPrincipal getSelfPrincipal)
+        (getDeadBlobs getDeadBlobs)
+        (getCertificate getCertificate)
+        (getCandidTypeLimits getCandidTypeLimits)
+        (getCandidLimits getCandidLimits)
+        (forall forall)
+        (floatTrunc floatTrunc)
+        (floatToText floatToText)
+        (floatToInt64 floatToInt64)
+        (floatToInt floatToInt)
+        (floatToFormattedText floatToFormattedText)
+        (floatSqrt floatSqrt)
+        (floatNearest floatNearest)
+        (floatMin floatMin)
+        (floatMax floatMax)
+        (floatFloor floatFloor)
+        (floatCopySign floatCopySign)
+        (floatCeil floatCeil)
+        (floatAbs floatAbs)
+        (explodeNat64 explodeNat64)
+        (explodeNat32 explodeNat32)
+        (explodeNat16 explodeNat16)
+        (explodeInt64 explodeInt64)
+        (explodeInt32 explodeInt32)
+        (explodeInt16 explodeInt16)
+        (exp exp)
+        (exists exists)
+        (errorMessage errorMessage)
+        (errorCode errorCode)
+        (error error)
+        (envVarNames envVarNames)
+        (envVar envVar)
+        (encodeUtf8 encodeUtf8)
+        (decodeUtf8 decodeUtf8)
+        (debugPrintNat debugPrintNat)
+        (debugPrintInt debugPrintInt)
+        (debugPrintChar debugPrintChar)
+        (debugPrint debugPrint)
+        (cyclesRefunded cyclesRefunded)
+        (cyclesBurn cyclesBurn)
+        (cyclesBalance cyclesBalance)
+        (cyclesAvailable cyclesAvailable)
+        (cyclesAdd cyclesAdd)
+        (cyclesAccept cyclesAccept)
+        (ctzNat8 ctzNat8)
+        (ctzNat64 ctzNat64)
+        (ctzNat32 ctzNat32)
+        (ctzNat16 ctzNat16)
+        (ctzInt8 ctzInt8)
+        (ctzInt64 ctzInt64)
+        (ctzInt32 ctzInt32)
+        (ctzInt16 ctzInt16)
+        (createActor createActor)
+        (costSignWithSchnorr costSignWithSchnorr)
+        (costSignWithEcdsa costSignWithEcdsa)
+        (costHttpRequest costHttpRequest)
+        (costCreateCanister costCreateCanister)
+        (costCall costCall)
+        (cos cos)
+        (clzNat8 clzNat8)
+        (clzNat64 clzNat64)
+        (clzNat32 clzNat32)
+        (clzNat16 clzNat16)
+        (clzInt8 clzInt8)
+        (clzInt64 clzInt64)
+        (clzInt32 clzInt32)
+        (clzInt16 clzInt16)
+        (charToUpper charToUpper)
+        (charToText charToText)
+        (charToNat32 charToNat32)
+        (charToLower charToLower)
+        (charIsWhitespace charIsWhitespace)
+        (charIsUppercase charIsUppercase)
+        (charIsLowercase charIsLowercase)
+        (charIsAlphabetic charIsAlphabetic)
+        (canisterVersion canisterVersion)
+        (canisterSubnet canisterSubnet)
+        (cancelTimer cancelTimer)
+        (call_raw call_raw)
+        (btstNat8 btstNat8)
+        (btstNat64 btstNat64)
+        (btstNat32 btstNat32)
+        (btstNat16 btstNat16)
+        (btstInt8 btstInt8)
+        (btstInt64 btstInt64)
+        (btstInt32 btstInt32)
+        (btstInt16 btstInt16)
+        (blobToArrayMut blobToArrayMut)
+        (blobToArray blobToArray)
+        (blobOfPrincipal blobOfPrincipal)
+        (blobCompare blobCompare)
+        (arrayToBlob arrayToBlob)
+        (arrayMutToBlob arrayMutToBlob)
+        (arctan2 arctan2)
+        (arctan arctan)
+        (arcsin arcsin)
+        (arccos arccos)
+        (allocWeakRef allocWeakRef)
+        (abs abs)
+        (__getDedupTable __getDedupTable)
+        (Types Types)
+        (BlobIterator BlobIterator)
+        (Array_tabulateVar Array_tabulateVar)
+        (Array_tabulate Array_tabulate)
+        (Array_init Array_init)
+        module {Array_init : <T>(Nat, T) -> [var T]; Array_tabulate : <T>(Nat, Nat -> T) -> [T]; Array_tabulateVar : <T>(Nat, Nat -> T) -> [var T]; BlobIterator : [var __List] -> BlobIterator; Types : module {}; __getDedupTable : () -> ?[var __List]; abs : Int -> Nat; allocWeakRef : <T>T -> weak T; arccos : Float -> Float; arcsin : Float -> Float; arctan : Float -> Float; arctan2 : (Float, Float) -> Float; arrayMutToBlob : [var Nat8] -> Blob; arrayToBlob : [Nat8] -> Blob; blobCompare : (Blob, Blob) -> Int8; blobOfPrincipal : Principal -> Blob; blobToArray : Blob -> [Nat8]; blobToArrayMut : Blob -> [var Nat8]; btstInt16 : (Int16, Int16) -> Bool; btstInt32 : (Int32, Int32) -> Bool; btstInt64 : (Int64, Int64) -> Bool; btstInt8 : (Int8, Int8) -> Bool; btstNat16 : (Nat16, Nat16) -> Bool; btstNat32 : (Nat32, Nat32) -> Bool; btstNat64 : (Nat64, Nat64) -> Bool; btstNat8 : (Nat8, Nat8) -> Bool; call_raw : (Principal, Text, Blob) -> async Blob; cancelTimer : Nat -> (); canisterSubnet : () -> Principal; canisterVersion : () -> Nat64; charIsAlphabetic : Char -> Bool; charIsLowercase : Char -> Bool; charIsUppercase : Char -> Bool; charIsWhitespace : Char -> Bool; charToLower : Char -> Char; charToNat32 : Char -> Nat32; charToText : Char -> Text; charToUpper : Char -> Char; clzInt16 : Int16 -> Int16; clzInt32 : Int32 -> Int32; clzInt64 : Int64 -> Int64; clzInt8 : Int8 -> Int8; clzNat16 : Nat16 -> Nat16; clzNat32 : Nat32 -> Nat32; clzNat64 : Nat64 -> Nat64; clzNat8 : Nat8 -> Nat8; cos : Float -> Float; costCall : (Nat64, Nat64) -> Nat; costCreateCanister : () -> Nat; costHttpRequest : (Nat64, Nat64) -> Nat; costSignWithEcdsa : (Text, Nat32) -> (Nat32, Nat); costSignWithSchnorr : (Text, Nat32) -> (Nat32, Nat); createActor : (Blob, Blob) -> async Principal; ctzInt16 : Int16 -> Int16; ctzInt32 : Int32 -> Int32; ctzInt64 : Int64 -> Int64; ctzInt8 : Int8 -> Int8; ctzNat16 : Nat16 -> Nat16; ctzNat32 : Nat32 -> Nat32; ctzNat64 : Nat64 -> Nat64; ctzNat8 : Nat8 -> Nat8; cyclesAccept : <system>Nat -> Nat; cyclesAdd : <system>Nat -> (); cyclesAvailable : () -> Nat; cyclesBalance : () -> Nat; cyclesBurn : <system>Nat -> Nat; cyclesRefunded : () -> Nat; debugPrint : Text -> (); debugPrintChar : Char -> (); debugPrintInt : Int -> (); debugPrintNat : Nat -> (); decodeUtf8 : Blob -> ?Text; encodeUtf8 : Text -> Blob; envVar : <system>Text -> ?Text; envVarNames : <system>() -> [Text]; error : Text -> Error; errorCode : Error -> ErrorCode; errorMessage : Error -> Text; exists : <T>(T -> Bool) -> Bool; exp : Float -> Float; explodeInt16 : Int16 -> (Nat8, Nat8); explodeInt32 : Int32 -> (Nat8, Nat8, Nat8, Nat8); explodeInt64 : Int64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); explodeNat16 : Nat16 -> (Nat8, Nat8); explodeNat32 : Nat32 -> (Nat8, Nat8, Nat8, Nat8); explodeNat64 : Nat64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); floatAbs : Float -> Float; floatCeil : Float -> Float; floatCopySign : (Float, Float) -> Float; floatFloor : Float -> Float; floatMax : (Float, Float) -> Float; floatMin : (Float, Float) -> Float; floatNearest : Float -> Float; floatSqrt : Float -> Float; floatToFormattedText : (Float, Nat8, Nat8) -> Text; floatToInt : Float -> Int; floatToInt64 : Float -> Int64; floatToText : Float -> Text; floatTrunc : Float -> Float; forall : <T>(T -> Bool) -> Bool; getCandidLimits : <system>() -> {bias : Nat32; denominator : Nat32; numerator : Nat32}; getCandidTypeLimits : <system>() -> {bias : Nat32; scalar : Nat32}; getCertificate : () -> ?Blob; getDeadBlobs : () -> ?[Blob]; getSelfPrincipal : <system>() -> Principal; hashBlob : Blob -> Nat32; idlHash : Text -> Nat32; int16ToInt : Int16 -> Int; int16ToInt32 : Int16 -> Int32; int16ToInt8 : Int16 -> Int8; int16ToNat16 : Int16 -> Nat16; int32ToInt : Int32 -> Int; int32ToInt16 : Int32 -> Int16; int32ToInt64 : Int32 -> Int64; int32ToNat32 : Int32 -> Nat32; int64ToFloat : Int64 -> Float; int64ToInt : Int64 -> Int; int64ToInt32 : Int64 -> Int32; int64ToNat64 : Int64 -> Nat64; int8ToInt : Int8 -> Int; int8ToInt16 : Int8 -> Int16; int8ToNat8 : Int8 -> Nat8; intToFloat : Int -> Float; intToInt16 : Int -> Int16; intToInt16Wrap : Int -> Int16; intToInt32 : Int -> Int32; intToInt32Wrap : Int -> Int32; intToInt64 : Int -> Int64; intToInt64Wrap : Int -> Int64; intToInt8 : Int -> Int8; intToInt8Wrap : Int -> Int8; intToNat16Wrap : Int -> Nat16; intToNat32Wrap : Int -> Nat32; intToNat64Wrap : Int -> Nat64; intToNat8Wrap : Int -> Nat8; isController : Principal -> Bool; isLive : weak Any -> Bool; isReplicatedExecution : () -> Bool; isStorageBlobLive : Blob -> Bool; log : Float -> Float; nat16ToInt16 : Nat16 -> Int16; nat16ToNat : Nat16 -> Nat; nat16ToNat32 : Nat16 -> Nat32; nat16ToNat8 : Nat16 -> Nat8; nat32ToChar : Nat32 -> Char; nat32ToInt32 : Nat32 -> Int32; nat32ToNat : Nat32 -> Nat; nat32ToNat16 : Nat32 -> Nat16; nat32ToNat64 : Nat32 -> Nat64; nat64ToInt64 : Nat64 -> Int64; nat64ToNat : Nat64 -> Nat; nat64ToNat32 : Nat64 -> Nat32; nat8ToInt8 : Nat8 -> Int8; nat8ToNat : Nat8 -> Nat; nat8ToNat16 : Nat8 -> Nat16; natToNat16 : Nat -> Nat16; natToNat32 : Nat -> Nat32; natToNat64 : Nat -> Nat64; natToNat8 : Nat -> Nat8; performanceCounter : Nat32 -> Nat64; popcntInt16 : Int16 -> Int16; popcntInt32 : Int32 -> Int32; popcntInt64 : Int64 -> Int64; popcntInt8 : Int8 -> Int8; popcntNat16 : Nat16 -> Nat16; popcntNat32 : Nat32 -> Nat32; popcntNat64 : Nat64 -> Nat64; popcntNat8 : Nat8 -> Nat8; principalOfActor : (actor {}) -> Principal; principalOfBlob : Blob -> Principal; pruneConfirmedDeadBlobs : [Blob] -> (); regionGrow : (Region, Nat64) -> Nat64; regionId : Region -> Nat; regionLoadBlob : (Region, Nat64, Nat) -> Blob; regionLoadFloat : (Region, Nat64) -> Float; regionLoadInt16 : (Region, Nat64) -> Int16; regionLoadInt32 : (Region, Nat64) -> Int32; regionLoadInt64 : (Region, Nat64) -> Int64; regionLoadInt8 : (Region, Nat64) -> Int8; regionLoadNat16 : (Region, Nat64) -> Nat16; regionLoadNat32 : (Region, Nat64) -> Nat32; regionLoadNat64 : (Region, Nat64) -> Nat64; regionLoadNat8 : (Region, Nat64) -> Nat8; regionNew : () -> Region; regionSize : Region -> Nat64; regionStoreBlob : (Region, Nat64, Blob) -> (); regionStoreFloat : (Region, Nat64, Float) -> (); regionStoreInt16 : (Region, Nat64, Int16) -> (); regionStoreInt32 : (Region, Nat64, Int32) -> (); regionStoreInt64 : (Region, Nat64, Int64) -> (); regionStoreInt8 : (Region, Nat64, Int8) -> (); regionStoreNat16 : (Region, Nat64, Nat16) -> (); regionStoreNat32 : (Region, Nat64, Nat32) -> (); regionStoreNat64 : (Region, Nat64, Nat64) -> (); regionStoreNat8 : (Region, Nat64, Nat8) -> (); replyDeadline : () -> Nat64; rootKey : () -> Blob; rts_callback_table_count : () -> Nat; rts_callback_table_size : () -> Nat; rts_collector_instructions : () -> Nat; rts_heap_size : () -> Nat; rts_lifetime_instructions : () -> Nat; rts_logical_stable_memory_size : () -> Nat; rts_max_live_size : () -> Nat; rts_max_stack_size : () -> Nat; rts_memory_size : () -> Nat; rts_mutator_instructions : () -> Nat; rts_reclaimed : () -> Nat; rts_stable_memory_size : () -> Nat; rts_total_allocation : () -> Nat; rts_upgrade_instructions : () -> Nat; rts_version : () -> Text; setCandidLimits : <system>{bias : Nat32; denominator : Nat32; numerator : Nat32} -> (); setCandidTypeLimits : <system>{bias : Nat32; scalar : Nat32} -> (); setCertifiedData : Blob -> (); setTimer : <system>(Nat64, Bool, () -> async ()) -> Nat; shiftLeft : (Nat, Nat32) -> Nat; shiftRight : (Nat, Nat32) -> Nat; sin : Float -> Float; stableMemoryGrow : Nat64 -> Nat64; stableMemoryLoadBlob : (Nat64, Nat) -> Blob; stableMemoryLoadFloat : Nat64 -> Float; stableMemoryLoadInt16 : Nat64 -> Int16; stableMemoryLoadInt32 : Nat64 -> Int32; stableMemoryLoadInt64 : Nat64 -> Int64; stableMemoryLoadInt8 : Nat64 -> Int8; stableMemoryLoadNat16 : Nat64 -> Nat16; stableMemoryLoadNat32 : Nat64 -> Nat32; stableMemoryLoadNat64 : Nat64 -> Nat64; stableMemoryLoadNat8 : Nat64 -> Nat8; stableMemorySize : () -> Nat64; stableMemoryStoreBlob : (Nat64, Blob) -> (); stableMemoryStoreFloat : (Nat64, Float) -> (); stableMemoryStoreInt16 : (Nat64, Int16) -> (); stableMemoryStoreInt32 : (Nat64, Int32) -> (); stableMemoryStoreInt64 : (Nat64, Int64) -> (); stableMemoryStoreInt8 : (Nat64, Int8) -> (); stableMemoryStoreNat16 : (Nat64, Nat16) -> (); stableMemoryStoreNat32 : (Nat64, Nat32) -> (); stableMemoryStoreNat64 : (Nat64, Nat64) -> (); stableMemoryStoreNat8 : (Nat64, Nat8) -> (); stableVarQuery : () -> shared query () -> async {size : Nat64}; tan : Float -> Float; textCompare : (Text, Text) -> Int8; textLowercase : Text -> Text; textUppercase : Text -> Text; time : () -> Nat64; trap : Text -> None; weakGet : <T>weak T -> ?T}
+      )
+    )
+  )
+  (LetD
+    (VarP file$issue-5767/Region.mo)
+    (BlockE
+      (LetD (VarP Prim) (VarE file$@prim))
+      (BlockE
+        (LetD (VarP new) (PrimE (DotPrim regionNew) (VarE Prim)))
+        (LetD
+          (VarP grow)
+          (FuncE
+            grow
+            Local
+            Returns
+            (params self newPages)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionGrow) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE newPages))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64)
+          (FuncE
+            loadNat64
+            Local
+            Returns
+            (params self offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE offset))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64Fn)
+          (FuncE
+            loadNat64Fn
+            Local
+            Returns
+            (params r offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE r) (VarE offset))
+            )
+          )
+        )
+        (NewObjE
+          Module
+          (new new)
+          (loadNat64Fn loadNat64Fn)
+          (loadNat64 loadNat64)
+          (grow grow)
+          module {grow : (Region, Nat64) -> Nat64; loadNat64 : (Region, Nat64) -> Nat64; loadNat64Fn : (Region, Nat64) -> Nat64; new : () -> Region}
+        )
+      )
+    )
+  )
+  (LetD (VarP Region) (VarE file$issue-5767/Region.mo))
+  (LetD
+    (VarP $__motoko_stable_var_info)
+    (FuncE
+      $__motoko_stable_var_info
+      Shared Query
+      Promises
+      (T1 Any)
+      {size : Nat64}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/0) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (PrimE
+              AssertPrim
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/0)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/0))
+              )
+            )
+          )
+          (LetD
+            (VarP $size/0)
+            (PrimE (ICStableSize memory {}) (NewObjE Memory memory {}))
+          )
+          (NewObjE Object (size $size/0) {size : Nat64})
+        )
+        T1
+      )
+    )
+  )
+  (LetD
+    (VarP $__motoko_runtime_information)
+    (FuncE
+      $__motoko_runtime_information
+      Shared Query
+      Promises
+      (T1 Any)
+      {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+      (AsyncE
+        (T2 Any)
+        (BlockE
+          (LetD (VarP $caller/1) (PrimE ICCallerPrim))
+          (LetD
+            WildP
+            (IfE
+              (IfE
+                (PrimE
+                  (RelPrim Principal EqOp)
+                  (VarE $caller/1)
+                  (PrimE (SelfRef Principal))
+                )
+                (LitE (BoolLit true))
+                (PrimE is_controller (VarE $caller/1))
+              )
+              (PrimE TupPrim)
+              (PrimE
+                trap
+                (LitE
+                  (TextLit Unauthorized call of __motoko_runtime_information)
+                )
+              )
+            )
+          )
+          (LetD
+            (VarP $compilerVersion/0)
+            (LitE (TextLit 1.0.0-77-g4d85e5c86-dirty))
+          )
+          (LetD (VarP $garbageCollector/0) (LitE (TextLit default force)))
+          (LetD (VarP $rtsVersion/0) (PrimE rts_version))
+          (LetD (VarP $sanityChecks/0) (LitE (BoolLit false)))
+          (LetD (VarP $memorySize/0) (PrimE rts_memory_size))
+          (LetD (VarP $heapSize/0) (PrimE rts_heap_size))
+          (LetD (VarP $totalAllocation/0) (PrimE rts_total_allocation))
+          (LetD (VarP $reclaimed/0) (PrimE rts_reclaimed))
+          (LetD (VarP $maxLiveSize/0) (PrimE rts_max_live_size))
+          (LetD (VarP $stableMemorySize/0) (PrimE rts_stable_memory_size))
+          (LetD
+            (VarP $logicalStableMemorySize/0)
+            (PrimE rts_logical_stable_memory_size)
+          )
+          (LetD (VarP $maxStackSize/0) (PrimE rts_max_stack_size))
+          (LetD (VarP $callbackTableCount/0) (PrimE rts_callback_table_count))
+          (LetD (VarP $callbackTableSize/0) (PrimE rts_callback_table_size))
+          (NewObjE
+            Object
+            (callbackTableSize $callbackTableSize/0)
+            (callbackTableCount $callbackTableCount/0)
+            (maxStackSize $maxStackSize/0)
+            (logicalStableMemorySize $logicalStableMemorySize/0)
+            (stableMemorySize $stableMemorySize/0)
+            (maxLiveSize $maxLiveSize/0)
+            (reclaimed $reclaimed/0)
+            (totalAllocation $totalAllocation/0)
+            (heapSize $heapSize/0)
+            (memorySize $memorySize/0)
+            (sanityChecks $sanityChecks/0)
+            (rtsVersion $rtsVersion/0)
+            (garbageCollector $garbageCollector/0)
+            (compilerVersion $compilerVersion/0)
+            {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+          )
+        )
+        T1
+      )
+    )
+  )
+  (LetD (VarP A) (PrimE (SelfRef actor {go : shared () -> async ()})))
+  (VarD $state/0 ?(memory {}) (PrimE OptPrim (PrimE (ICStableRead memory {}))))
+  (LetD
+    (VarP $getState/0)
+    (FuncE
+      $getState/0
+      Local
+      Returns
+      memory {}
+      (SwitchE
+        (VarE! $state/0)
+        (case (LitP NullLit) (LoopE (PrimE TupPrim)))
+        (case (OptP (VarP $v/0)) (VarE $v/0))
+      )
+    )
+  )
+  (LetD
+    (VarP r)
+    (PrimE (CallPrim) (PrimE (DotPrim new) (VarE Region)) (PrimE TupPrim))
+  )
+  (LetD
+    WildP
+    (PrimE
+      (CallPrim)
+      (PrimE (DotPrim grow) (VarE Region))
+      (PrimE TupPrim (VarE r) (LitE (Nat64Lit 1)))
+    )
+  )
+  (LetD
+    (VarP kermit)
+    (FuncE
+      kermit
+      Local
+      Returns
+      ()
+      (BlockE
+        (LetD
+          (VarP w1)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w2)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w3)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64Fn) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (PrimE TupPrim)
+      )
+    )
+  )
+  (LetD
+    (VarP go)
+    (FuncE
+      go
+      Shared
+      Promises
+      ($ Any)
+      ()
+      (AsyncE ($go Any) (PrimE (CallPrim) (VarE kermit) (PrimE TupPrim)) $)
+    )
+  )
+  (LetD WildP (AssignE (VarLE $state/0) (LitE NullLit)))
+  (go go)
+  (__motoko_runtime_information $__motoko_runtime_information)
+  (__motoko_stable_var_info $__motoko_stable_var_info)
+  (System
+    (Pre (PrimE (ICStableWrite memory {})))
+    (Post (PrimE TupPrim))
+    (Heartbeat (PrimE TupPrim))
+    (Timer
+      (BlockE
+        (LetD WildP (PrimE (CallPrim ()) (VarE @timer_helper) (PrimE TupPrim)))
+        (PrimE TupPrim)
+      )
+    )
+    (Inspect (PrimE TupPrim))
+    (LowMemory (PrimE TupPrim))
+    (StableRecord (NewObjE Memory memory {}))
+    (StableType memory {} memory {})
+  )
+  actor {go : shared () -> async ()}
+)
+(ActorU
+  (VarD @cycles Nat (LitE (NatLit 0)))
+  (VarD @timeout ?Nat32 (LitE NullLit))
+  (LetD
+    (VarP @add_cycles)
+    (FuncE
+      @add_cycles
+      Local
+      Returns
+      ($ Any)
+      ()
+      (BlockE
+        (LetD (VarP cycles) (VarE! @cycles))
+        (LetD WildP (PrimE (CallPrim) (VarE @reset_cycles) (PrimE TupPrim)))
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE (RelPrim Nat EqOp) (VarE cycles) (LitE (NatLit 0)))
+              (LitE (BoolLit false))
+            )
+            (PrimE SystemCyclesAddPrim (VarE cycles))
+            (PrimE TupPrim)
+          )
+        )
+        (SwitchE
+          (VarE! @timeout)
+          (case
+            (OptP (VarP timeout))
+            (BlockE
+              (LetD WildP (AssignE (VarLE @timeout) (LitE NullLit)))
+              (PrimE SystemTimeoutSetPrim (VarE timeout))
+            )
+          )
+          (case (LitP NullLit) (PrimE TupPrim))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @reset_cycles)
+    (FuncE
+      @reset_cycles
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @cycles) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @immut_array_get)
+    (FuncE
+      @immut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-45.49
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_get)
+    (FuncE
+      @mut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-46.51
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_size)
+    (FuncE
+      @immut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-47.51 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_size)
+    (FuncE
+      @mut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-48.53 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_put)
+    (FuncE
+      @mut_array_put
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      (Nat, A) -> ()
+      (FuncE
+        @anon-func-49.57
+        Local
+        Returns
+        (params n x)
+        ()
+        (AssignE (IdxLE (VarE xs) (VarE n)) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_keys)
+    (FuncE
+      @immut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-50.58
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_keys)
+    (FuncE
+      @mut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-55.60
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_vals)
+    (FuncE
+      @immut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-60.56
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_vals)
+    (FuncE
+      @mut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-67.58
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_size)
+    (FuncE
+      @blob_size
+      Local
+      Returns
+      (params b)
+      () -> Nat
+      (FuncE @anon-func-74.41 Local Returns Nat (PrimE blob_size (VarE b)))
+    )
+  )
+  (LetD
+    (VarP @blob_keys)
+    (FuncE
+      @blob_keys
+      Local
+      Returns
+      (params b)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-75.48
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE blob_size (VarE b)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_get)
+    (FuncE
+      @blob_get
+      Local
+      Returns
+      (params b)
+      Nat -> Nat8
+      (FuncE
+        @anon-func-80.42
+        Local
+        Returns
+        (params n)
+        Nat8
+        (PrimE IdxBlobPrim (VarE b) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_vals)
+    (FuncE
+      @blob_vals
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Nat8>
+      (FuncE
+        @anon-func-81.50
+        Local
+        Returns
+        @Iter<Nat8>
+        (BlockE
+          (LetD (VarP i) (PrimE blob_vals_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat8
+              (IfE
+                (PrimE blob_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE blob_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat8})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_size)
+    (FuncE
+      @text_size
+      Local
+      Returns
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-88.42 Local Returns Nat (PrimE text_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @text_chars)
+    (FuncE
+      @text_chars
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Char>
+      (FuncE
+        @anon-func-89.51
+        Local
+        Returns
+        @Iter<Char>
+        (BlockE
+          (LetD (VarP i) (PrimE text_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Char
+              (IfE
+                (PrimE text_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE text_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Char})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_num)
+    (FuncE
+      @text_of_num
+      Local
+      Returns
+      (params x base sep digits)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit )))
+        (VarD n Nat (VarE x))
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat EqOp) (VarE! n) (LitE (NatLit 0)))
+            (PrimE RetPrim (LitE (TextLit 0)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD
+          WildP
+          (LabelE
+            $done/2
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat GtOp) (VarE! n) (LitE (NatLit 0)))
+                (BlockE
+                  (LetD
+                    (VarP rem)
+                    (PrimE (BinPrim Nat ModOp) (VarE! n) (VarE base))
+                  )
+                  (LetD
+                    WildP
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat GtOp) (VarE sep) (LitE (NatLit 0)))
+                        (PrimE (RelPrim Nat EqOp) (VarE! i) (VarE sep))
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE text)
+                            (PrimE
+                              (BinPrim Text CatOp)
+                              (LitE (TextLit _))
+                              (VarE! text)
+                            )
+                          )
+                        )
+                        (AssignE (VarLE i) (LitE (NatLit 0)))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE text)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (PrimE (CallPrim) (VarE digits) (VarE rem))
+                        (VarE! text)
+                      )
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE n)
+                      (PrimE (BinPrim Nat DivOp) (VarE! n) (VarE base))
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/2) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (VarE! text)
+      )
+    )
+  )
+  (LetD
+    (VarP @left_pad)
+    (FuncE
+      @left_pad
+      Local
+      Returns
+      (params pad char t)
+      Text
+      (IfE
+        (PrimE (RelPrim Nat GtOp) (VarE pad) (PrimE text_len (VarE t)))
+        (BlockE
+          (VarD
+            i
+            Nat
+            (PrimE (BinPrim Nat SubOp) (VarE pad) (PrimE text_len (VarE t)))
+          )
+          (VarD text Text (VarE t))
+          (LetD
+            WildP
+            (LabelE
+              $done/3
+              ()
+              (LoopE
+                (IfE
+                  (PrimE (RelPrim Nat GtOp) (VarE! i) (LitE (NatLit 0)))
+                  (BlockE
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE text)
+                        (PrimE (BinPrim Text CatOp) (VarE char) (VarE! text))
+                      )
+                    )
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat SubOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE (BreakPrim $done/3) (PrimE TupPrim))
+                )
+              )
+            )
+          )
+          (VarE! text)
+        )
+        (VarE t)
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_dec)
+    (FuncE
+      @digits_dec
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE (BinPrim Int AddOp) (VarE x) (LitE (IntLit 48)))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat)
+    (FuncE
+      @text_of_Nat
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_num)
+        (PrimE
+          TupPrim
+          (VarE x)
+          (LitE (NatLit 10))
+          (LitE (NatLit 3))
+          (VarE @digits_dec)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int)
+    (FuncE
+      @text_of_Int
+      Local
+      Returns
+      (params x)
+      Text
+      (IfE
+        (PrimE (RelPrim Int EqOp) (VarE x) (LitE (IntLit 0)))
+        (LitE (TextLit 0))
+        (PrimE
+          (BinPrim Text CatOp)
+          (IfE
+            (PrimE (RelPrim Int LtOp) (VarE x) (LitE (IntLit 0)))
+            (LitE (TextLit -))
+            (LitE (TextLit +))
+          )
+          (PrimE (CallPrim) (VarE @text_of_Nat) (PrimE abs (VarE x)))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_hex)
+    (FuncE
+      @digits_hex
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE
+              (BinPrim Int AddOp)
+              (VarE x)
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE x) (LitE (NatLit 10)))
+                (LitE (IntLit 48))
+                (LitE (IntLit 55))
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @int64ToInt)
+    (FuncE
+      @int64ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int64 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int32ToInt)
+    (FuncE
+      @int32ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int32 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int16ToInt)
+    (FuncE
+      @int16ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int16 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int8ToInt)
+    (FuncE
+      @int8ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int8 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat64ToNat)
+    (FuncE
+      @nat64ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat64 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat32ToNat)
+    (FuncE
+      @nat32ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat32 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat16ToNat)
+    (FuncE
+      @nat16ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat16 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat8ToNat)
+    (FuncE
+      @nat8ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat8 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat8)
+    (FuncE
+      @text_of_Nat8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat8ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat16)
+    (FuncE
+      @text_of_Nat16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat16ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat32)
+    (FuncE
+      @text_of_Nat32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat32ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat64)
+    (FuncE
+      @text_of_Nat64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat64ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int8)
+    (FuncE
+      @text_of_Int8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int8ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int16)
+    (FuncE
+      @text_of_Int16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int16ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int32)
+    (FuncE
+      @text_of_Int32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int32ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int64)
+    (FuncE
+      @text_of_Int64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int64ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Float)
+    (FuncE
+      @text_of_Float
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE Float->Text (VarE x))
+    )
+  )
+  (LetD
+    (VarP @text_of_Bool)
+    (FuncE
+      @text_of_Bool
+      Local
+      Returns
+      (params b)
+      Text
+      (IfE (VarE b) (LitE (TextLit true)) (LitE (TextLit false)))
+    )
+  )
+  (LetD
+    (VarP @text_of_Text)
+    (FuncE
+      @text_of_Text
+      Local
+      Returns
+      (params t)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE (BinPrim Text CatOp) (LitE (TextLit ")) (VarE t))
+        (LitE (TextLit "))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Char)
+    (FuncE
+      @text_of_Char
+      Local
+      Returns
+      (params c)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE
+          (BinPrim Text CatOp)
+          (LitE (TextLit '))
+          (PrimE conv_Char_Text (VarE c))
+        )
+        (LitE (TextLit '))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Blob)
+    (FuncE
+      @text_of_Blob
+      Local
+      Returns
+      (params blob)
+      Text
+      (BlockE
+        (VarD t Text (LitE (TextLit ")))
+        (LetD
+          WildP
+          (BlockE
+            (LetD
+              (VarP $nxt/0)
+              (PrimE
+                (DotPrim next)
+                (PrimE
+                  (CallPrim)
+                  (PrimE (CallPrim) (VarE @blob_vals) (VarE blob))
+                  (PrimE TupPrim)
+                )
+              )
+            )
+            (LabelE
+              $done/4
+              ()
+              (LoopE
+                (SwitchE
+                  (PrimE (CallPrim) (VarE $nxt/0) (PrimE TupPrim))
+                  (case
+                    (LitP NullLit)
+                    (PrimE (BreakPrim $done/4) (PrimE TupPrim))
+                  )
+                  (case
+                    (OptP (VarP b))
+                    (AssignE
+                      (VarLE t)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (VarE! t)
+                        (PrimE
+                          (BinPrim Text CatOp)
+                          (LitE (TextLit \))
+                          (PrimE
+                            (CallPrim)
+                            (VarE @left_pad)
+                            (PrimE
+                              TupPrim
+                              (LitE (NatLit 2))
+                              (LitE (TextLit 0))
+                              (PrimE
+                                (CallPrim)
+                                (VarE @text_of_num)
+                                (PrimE
+                                  TupPrim
+                                  (PrimE (CallPrim) (VarE @nat8ToNat) (VarE b))
+                                  (LitE (NatLit 16))
+                                  (LitE (NatLit 0))
+                                  (VarE @digits_hex)
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE t)
+            (PrimE (BinPrim Text CatOp) (VarE! t) (LitE (TextLit ")))
+          )
+        )
+        (PrimE RetPrim (VarE! t))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_has_parens)
+    (FuncE
+      @text_has_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case (OptP (LitP (CharLit 40))) (LitE (BoolLit true)))
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_needs_parens)
+    (FuncE
+      @text_needs_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case
+          (OptP
+            (AltP
+              (AltP
+                (AltP (LitP (CharLit 43)) (LitP (CharLit 45)))
+                (LitP (CharLit 63))
+              )
+              (LitP (CharLit 35))
+            )
+          )
+          (LitE (BoolLit true))
+        )
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_option)
+    (FuncE
+      @text_of_option
+      Local
+      Returns
+      (T Any)
+      (params f x)
+      Text
+      (SwitchE
+        (VarE x)
+        (case
+          (OptP (VarP y))
+          (BlockE
+            (LetD (VarP fy) (PrimE (CallPrim) (VarE f) (VarE y)))
+            (IfE
+              (PrimE (CallPrim) (VarE @text_needs_parens) (VarE fy))
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE (BinPrim Text CatOp) (LitE (TextLit ?()) (VarE fy))
+                (LitE (TextLit )))
+              )
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit ?)) (VarE fy))
+            )
+          )
+        )
+        (case (LitP NullLit) (LitE (TextLit null)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_variant)
+    (FuncE
+      @text_of_variant
+      Local
+      Returns
+      (T Any)
+      (params l f x)
+      Text
+      (BlockE
+        (LetD (VarP fx) (PrimE (CallPrim) (VarE f) (VarE x)))
+        (IfE
+          (PrimE (RelPrim Text EqOp) (VarE fx) (LitE (TextLit ())))
+          (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+          (IfE
+            (PrimE (CallPrim) (VarE @text_has_parens) (VarE fx))
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+              (VarE fx)
+            )
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE
+                  (BinPrim Text CatOp)
+                  (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+                  (LitE (TextLit ())
+                )
+                (VarE fx)
+              )
+              (LitE (TextLit )))
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array)
+    (FuncE
+      @text_of_array
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/0) (VarE xs))
+            (LetD (VarP $last/0) (PrimE GetLastArrayOffset (VarE $arr/0)))
+            (VarD $indx/0 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/0) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/5
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/0) (VarE! $indx/0))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (AssignE (VarLE first) (LitE (BoolLit false)))
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/0) (VarE $last/0))
+                      (PrimE (BreakPrim $done/5) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/0)
+                        (PrimE NextArrayOffset (VarE! $indx/0))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array_mut)
+    (FuncE
+      @text_of_array_mut
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [var)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/1) (VarE xs))
+            (LetD (VarP $last/1) (PrimE GetLastArrayOffset (VarE $arr/1)))
+            (VarD $indx/1 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/1) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/6
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/1) (VarE! $indx/1))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE (VarLE first) (LitE (BoolLit false)))
+                              )
+                              (AssignE
+                                (VarLE text)
+                                (PrimE
+                                  (BinPrim Text CatOp)
+                                  (VarE! text)
+                                  (LitE (TextLit  ))
+                                )
+                              )
+                            )
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/1) (VarE $last/1))
+                      (PrimE (BreakPrim $done/6) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/1)
+                        (PrimE NextArrayOffset (VarE! $indx/1))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @equal_array)
+    (FuncE
+      @equal_array
+      Local
+      Returns
+      (T Any)
+      (params eq a b)
+      Bool
+      (BlockE
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE
+                (RelPrim Nat EqOp)
+                (PrimE array_len (VarE a))
+                (PrimE array_len (VarE b))
+              )
+              (LitE (BoolLit false))
+            )
+            (PrimE RetPrim (LitE (BoolLit false)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD (VarP s) (PrimE array_len (VarE a)))
+        (LetD
+          WildP
+          (LabelE
+            $done/7
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE! i) (VarE s))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE eq)
+                          (PrimE
+                            TupPrim
+                            (PrimE IdxPrim (VarE a) (VarE! i))
+                            (PrimE IdxPrim (VarE b) (VarE! i))
+                          )
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (PrimE RetPrim (LitE (BoolLit false)))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/7) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (PrimE RetPrim (LitE (BoolLit true)))
+      )
+    )
+  )
+  (VarD @refund Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @reset_refund)
+    (FuncE
+      @reset_refund
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @refund) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @getSystemRefund)
+    (FuncE
+      @getSystemRefund
+      Local
+      Returns
+      @Refund
+      (PrimE RetPrim (PrimE SystemCyclesRefundedPrim))
+    )
+  )
+  (LetD (VarP @cleanup) (FuncE @cleanup Local Returns () (PrimE TupPrim)))
+  (LetD
+    (VarP @new_async)
+    (FuncE
+      @new_async
+      Local
+      Returns
+      (T Any)
+      (@Async<T>, @Cont<T>, @Cont<Error>, @CleanCont)
+      (BlockE
+        (LetD
+          (VarP w_null)
+          (FuncE
+            @anon-func-293.16
+            Local
+            Returns
+            (params r t)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP r_null)
+          (FuncE
+            @anon-func-294.16
+            Local
+            Returns
+            (params $ignored0/0)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (VarD result ?@Result<T> (LitE NullLit))
+        (VarD ws (@Refund, T) -> () (VarE w_null))
+        (VarD rs Error -> () (VarE r_null))
+        (LetD
+          (VarP getRefund)
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE (RelPrim Nat EqOp) (VarE! @cycles) (LitE (NatLit 0)))
+            (LitE (BoolLit false))
+          )
+        )
+        (LetD
+          (VarP fulfill)
+          (FuncE
+            fulfill
+            Local
+            Returns
+            (params t)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP refund)
+                    (IfE
+                      (VarE getRefund)
+                      (PrimE (CallPrim) (VarE @getSystemRefund) (PrimE TupPrim))
+                      (LitE (NatLit 0))
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE
+                        OptPrim
+                        (PrimE (TagE ok) (PrimE TupPrim (VarE refund) (VarE t)))
+                      )
+                    )
+                  )
+                  (LetD (VarP ws_) (VarE! ws))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE
+                    (CallPrim)
+                    (VarE ws_)
+                    (PrimE TupPrim (VarE refund) (VarE t))
+                  )
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (LetD
+          (VarP fail)
+          (FuncE
+            fail
+            Local
+            Returns
+            (params e)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE OptPrim (PrimE (TagE error) (VarE e)))
+                    )
+                  )
+                  (LetD (VarP rs_) (VarE! rs))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE (CallPrim) (VarE rs_) (VarE e))
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (VarD cleanup () -> () (VarE @cleanup))
+        (LetD
+          (VarP enqueue)
+          (FuncE
+            enqueue
+            Local
+            Returns
+            (params k r b)
+            {#schedule : () -> (); #suspend}
+            (BlockE
+              (LetD WildP (AssignE (VarLE cleanup) (VarE b)))
+              (SwitchE
+                (VarE! result)
+                (case
+                  (LitP NullLit)
+                  (BlockE
+                    (LetD (VarP ws_) (VarE! ws))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE ws)
+                        (FuncE
+                          @anon-func-337.15
+                          Local
+                          Returns
+                          (params r t)
+                          ()
+                          (BlockE
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE ws_)
+                                (PrimE TupPrim (VarE r) (VarE t))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                            (PrimE (CallPrim) (VarE k) (VarE t))
+                          )
+                        )
+                      )
+                    )
+                    (LetD (VarP rs_) (VarE! rs))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE rs)
+                        (FuncE
+                          @anon-func-344.15
+                          Local
+                          Returns
+                          (params e)
+                          ()
+                          (BlockE
+                            (LetD WildP (PrimE (CallPrim) (VarE rs_) (VarE e)))
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_refund)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (PrimE (CallPrim) (VarE r) (VarE e))
+                          )
+                        )
+                      )
+                    )
+                    (PrimE (TagE suspend) (PrimE TupPrim))
+                  )
+                )
+                (case
+                  (OptP (TagP ok (TupP (VarP r) (VarP t))))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-353.19
+                      Local
+                      Returns
+                      ()
+                      (BlockE
+                        (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                        (PrimE (CallPrim) (VarE k) (VarE t))
+                      )
+                    )
+                  )
+                )
+                (case
+                  (OptP (TagP error (VarP e)))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-356.19
+                      Local
+                      Returns
+                      ()
+                      (PrimE (CallPrim) (VarE r) (VarE e))
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (VarE enqueue)
+          (VarE fulfill)
+          (VarE fail)
+          (FuncE
+            @anon-func-361.28
+            Local
+            Returns
+            ()
+            (PrimE (CallPrim) (VarE! cleanup) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD (VarP @ManagementCanister) (NewObjE Module module {}))
+  (LetD
+    (VarP @ic00)
+    (PrimE
+      (ActorOfIdBlob
+        actor {create_canister : shared {sender_canister_version : ?Nat64; settings : ?canister_settings} -> async {canister_id : Principal}; install_code : shared {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module} -> async ()}
+      )
+      (PrimE BlobOfIcUrl (LitE (TextLit aaaaa-aa)))
+    )
+  )
+  (LetD
+    (VarP @install_actor_helper)
+    (FuncE
+      @install_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params install_arg enhanced_orthogonal_persistence wasm_module arg)
+      async*<$> Principal
+      (PrimE
+        (CPSAsync* $)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          ($@anon-async*-416.24 Any)
+          (params $k/0 $r/1 $b/0)
+          ()
+          (DeclareE
+            $mode/1
+            (DeclareE
+              $canister_id/0
+              (BlockE
+                (LetD
+                  (VarP $k/2)
+                  (FuncE
+                    $k/2
+                    Local
+                    Returns
+                    (params $param0/0 $param1/0)
+                    ()
+                    (BlockE
+                      (LetD
+                        (VarP $v/4)
+                        (PrimE TupPrim (VarE $param0/0) (VarE $param1/0))
+                      )
+                      (BlockE
+                        (LetD (TupP (VarP $v/2) (VarP $v/3)) (VarE $v/4))
+                        (LetD WildP (DefineE $mode/1 Const (VarE $v/2)))
+                        (LetD WildP (DefineE $canister_id/0 Const (VarE $v/3)))
+                        (BlockE
+                          (LetD (VarP $u/4) (PrimE TupPrim))
+                          (BlockE
+                            (LetD
+                              (VarP $k/1)
+                              (FuncE
+                                $k/1
+                                Local
+                                Returns
+                                ()
+                                (BlockE
+                                  (LetD (VarP $v/5) (PrimE TupPrim))
+                                  (BlockE
+                                    (LetD WildP (VarE $v/5))
+                                    (BlockE
+                                      (LetD (VarP $u/5) (PrimE TupPrim))
+                                      (BlockE
+                                        (LetD (VarP $u/6) (PrimE TupPrim))
+                                        (PrimE
+                                          (CallPrim)
+                                          (VarE $k/0)
+                                          (PrimE
+                                            RetPrim
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE $k/0)
+                                              (VarE $canister_id/0)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP $v/6)
+                                (PrimE (ActorDotPrim install_code) (VarE @ic00))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP $u/7)
+                                  (PrimE
+                                    (CallPrim $@anon-async*-416.24)
+                                    (VarE $v/6)
+                                    (BlockE
+                                      (LetD
+                                        (VarP $$sender_canister_version/0/0)
+                                        (PrimE OptPrim (PrimE canister_version))
+                                      )
+                                      (NewObjE
+                                        Object
+                                        (sender_canister_version
+                                          $$sender_canister_version/0/0
+                                        )
+                                        (arg arg)
+                                        (wasm_module wasm_module)
+                                        (canister_id $canister_id/0)
+                                        (mode $mode/1)
+                                        {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                                      )
+                                    )
+                                  )
+                                )
+                                (IfE
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE @call_succeeded)
+                                    (PrimE TupPrim)
+                                  )
+                                  (PrimE
+                                    (CPSAwait () -> ())
+                                    (VarE $u/7)
+                                    (PrimE
+                                      TupPrim
+                                      (VarE $k/1)
+                                      (VarE $r/1)
+                                      (VarE $b/0)
+                                    )
+                                  )
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE $r/1)
+                                    (PrimE
+                                      (CallPrim)
+                                      (VarE @call_error)
+                                      (PrimE TupPrim)
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (SwitchE
+                  (VarE install_arg)
+                  (case
+                    (TagP new (VarP $settings/2))
+                    (DeclareE
+                      $available/0
+                      (DeclareE
+                        $accepted/0
+                        (DeclareE
+                          $sender_canister_version/2
+                          (DeclareE
+                            $canister_id/1
+                            (BlockE
+                              (LetD
+                                (VarP $v/7)
+                                (PrimE SystemCyclesAvailablePrim)
+                              )
+                              (LetD
+                                WildP
+                                (DefineE $available/0 Const (VarE $v/7))
+                              )
+                              (BlockE
+                                (LetD (VarP $u/8) (PrimE TupPrim))
+                                (BlockE
+                                  (LetD
+                                    (VarP $v/8)
+                                    (PrimE
+                                      SystemCyclesAcceptPrim
+                                      (VarE $available/0)
+                                    )
+                                  )
+                                  (LetD
+                                    WildP
+                                    (DefineE $accepted/0 Const (VarE $v/8))
+                                  )
+                                  (BlockE
+                                    (LetD (VarP $u/9) (PrimE TupPrim))
+                                    (BlockE
+                                      (LetD
+                                        (VarP $v/9)
+                                        (PrimE OptPrim (PrimE canister_version))
+                                      )
+                                      (LetD
+                                        WildP
+                                        (DefineE
+                                          $sender_canister_version/2
+                                          Const
+                                          (VarE $v/9)
+                                        )
+                                      )
+                                      (BlockE
+                                        (LetD (VarP $u/10) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD
+                                            WildP
+                                            (AssignE
+                                              (VarLE @cycles)
+                                              (PrimE
+                                                (BinPrim Nat AddOp)
+                                                (VarE! @cycles)
+                                                (VarE $accepted/0)
+                                              )
+                                            )
+                                          )
+                                          (BlockE
+                                            (LetD (VarP $u/11) (PrimE TupPrim))
+                                            (BlockE
+                                              (LetD
+                                                (VarP $k/3)
+                                                (FuncE
+                                                  $k/3
+                                                  Local
+                                                  Returns
+                                                  (params $v/11)
+                                                  ()
+                                                  (BlockE
+                                                    (LetD
+                                                      (ObjP
+                                                        (canister_id
+                                                          (VarP $v/10)
+                                                        )
+                                                      )
+                                                      (VarE $v/11)
+                                                    )
+                                                    (LetD
+                                                      WildP
+                                                      (DefineE
+                                                        $canister_id/1
+                                                        Const
+                                                        (VarE $v/10)
+                                                      )
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        (VarP $u/12)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $u/13)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE $k/2)
+                                                          (PrimE
+                                                            TupPrim
+                                                            (PrimE
+                                                              (TagE install)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                            (VarE
+                                                              $canister_id/1
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (BlockE
+                                                (LetD
+                                                  (VarP $v/12)
+                                                  (PrimE
+                                                    (ActorDotPrim
+                                                      create_canister
+                                                    )
+                                                    (VarE @ic00)
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $u/14)
+                                                    (PrimE
+                                                      (CallPrim
+                                                        $@anon-async*-416.24
+                                                      )
+                                                      (VarE $v/12)
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $$base/0/0)
+                                                          (VarE $settings/2)
+                                                        )
+                                                        (LetD
+                                                          (VarP $$settings/0/0)
+                                                          (PrimE
+                                                            (DotPrim settings)
+                                                            (VarE $$base/0/0)
+                                                          )
+                                                        )
+                                                        (NewObjE
+                                                          Object
+                                                          (settings
+                                                            $$settings/0/0
+                                                          )
+                                                          (sender_canister_version
+                                                            $sender_canister_version/2
+                                                          )
+                                                          {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                  (IfE
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE @call_succeeded)
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (PrimE
+                                                      (CPSAwait
+                                                        {canister_id : Principal} -> ()
+                                                      )
+                                                      (VarE $u/14)
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE $k/3)
+                                                        (VarE $r/1)
+                                                        (VarE $b/0)
+                                                      )
+                                                    )
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE $r/1)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE @call_error)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (case
+                    (TagP install (VarP $principal1/0))
+                    (PrimE
+                      (CallPrim)
+                      (VarE $k/2)
+                      (PrimE
+                        TupPrim
+                        (PrimE (TagE install) (PrimE TupPrim))
+                        (VarE $principal1/0)
+                      )
+                    )
+                  )
+                  (case
+                    (TagP reinstall (VarP $actor1/0))
+                    (PrimE
+                      (CallPrim)
+                      (VarE $k/2)
+                      (PrimE
+                        TupPrim
+                        (PrimE (TagE reinstall) (PrimE TupPrim))
+                        (PrimE principalOfActor (VarE $actor1/0))
+                      )
+                    )
+                  )
+                  (case
+                    (TagP upgrade (VarP $actor2/0))
+                    (PrimE
+                      (CallPrim)
+                      (VarE $k/2)
+                      (BlockE
+                        (LetD
+                          (VarP $wasm_memory_persistence/1)
+                          (IfE
+                            (VarE enhanced_orthogonal_persistence)
+                            (PrimE OptPrim (PrimE (TagE keep) (PrimE TupPrim)))
+                            (LitE NullLit)
+                          )
+                        )
+                        (LetD
+                          (VarP $upgradeOptions/0)
+                          (NewObjE
+                            Object
+                            (wasm_memory_persistence $wasm_memory_persistence/1)
+                            {wasm_memory_persistence : ?{#keep}}
+                          )
+                        )
+                        (PrimE
+                          TupPrim
+                          (PrimE
+                            (TagE upgrade)
+                            (PrimE OptPrim (VarE $upgradeOptions/0))
+                          )
+                          (PrimE principalOfActor (VarE $actor2/0))
+                        )
+                      )
+                    )
+                  )
+                  (case
+                    (TagP
+                      upgrade_with_persistence
+                      (ObjP
+                        (wasm_memory_persistence
+                          (VarP $wasm_memory_persistence/2)
+                        )
+                        (canister (VarP $canister/0))
+                      )
+                    )
+                    (PrimE
+                      (CallPrim)
+                      (VarE $k/2)
+                      (BlockE
+                        (LetD
+                          (VarP $upgradeOptions/1)
+                          (BlockE
+                            (LetD
+                              (VarP $$wasm_memory_persistence/0/0)
+                              (PrimE OptPrim (VarE $wasm_memory_persistence/2))
+                            )
+                            (NewObjE
+                              Object
+                              (wasm_memory_persistence
+                                $$wasm_memory_persistence/0/0
+                              )
+                              {wasm_memory_persistence : ?{#keep; #replace}}
+                            )
+                          )
+                        )
+                        (PrimE
+                          TupPrim
+                          (PrimE
+                            (TagE upgrade)
+                            (PrimE OptPrim (VarE $upgradeOptions/1))
+                          )
+                          (PrimE principalOfActor (VarE $canister/0))
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @create_actor_helper)
+    (FuncE
+      @create_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params wasm_module arg)
+      async<$> Principal
+      (PrimE
+        (CPSAsync $)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          ($@anon-async-464.79 Any)
+          (params $k/4 $r/2 $b/1)
+          ()
+          (DeclareE
+            $available/1
+            (DeclareE
+              $accepted/1
+              (DeclareE
+                $sender_canister_version/3
+                (DeclareE
+                  $canister_id/2
+                  (BlockE
+                    (LetD (VarP $v/13) (PrimE SystemCyclesAvailablePrim))
+                    (LetD WildP (DefineE $available/1 Const (VarE $v/13)))
+                    (BlockE
+                      (LetD (VarP $u/15) (PrimE TupPrim))
+                      (BlockE
+                        (LetD
+                          (VarP $v/14)
+                          (PrimE SystemCyclesAcceptPrim (VarE $available/1))
+                        )
+                        (LetD WildP (DefineE $accepted/1 Const (VarE $v/14)))
+                        (BlockE
+                          (LetD (VarP $u/16) (PrimE TupPrim))
+                          (BlockE
+                            (LetD
+                              (VarP $v/15)
+                              (PrimE OptPrim (PrimE canister_version))
+                            )
+                            (LetD
+                              WildP
+                              (DefineE
+                                $sender_canister_version/3
+                                Const
+                                (VarE $v/15)
+                              )
+                            )
+                            (BlockE
+                              (LetD (VarP $u/17) (PrimE TupPrim))
+                              (BlockE
+                                (LetD
+                                  WildP
+                                  (AssignE
+                                    (VarLE @cycles)
+                                    (PrimE
+                                      (BinPrim Nat AddOp)
+                                      (VarE! @cycles)
+                                      (VarE $accepted/1)
+                                    )
+                                  )
+                                )
+                                (BlockE
+                                  (LetD (VarP $u/18) (PrimE TupPrim))
+                                  (BlockE
+                                    (LetD
+                                      (VarP $k/6)
+                                      (FuncE
+                                        $k/6
+                                        Local
+                                        Returns
+                                        (params $v/17)
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (ObjP (canister_id (VarP $v/16)))
+                                            (VarE $v/17)
+                                          )
+                                          (LetD
+                                            WildP
+                                            (DefineE
+                                              $canister_id/2
+                                              Const
+                                              (VarE $v/16)
+                                            )
+                                          )
+                                          (BlockE
+                                            (LetD (VarP $u/19) (PrimE TupPrim))
+                                            (BlockE
+                                              (LetD
+                                                (VarP $k/5)
+                                                (FuncE
+                                                  $k/5
+                                                  Local
+                                                  Returns
+                                                  ()
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $v/18)
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (BlockE
+                                                      (LetD WildP (VarE $v/18))
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $u/20)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $u/21)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $k/4)
+                                                            (PrimE
+                                                              RetPrim
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (VarE $k/4)
+                                                                (VarE
+                                                                  $canister_id/2
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (BlockE
+                                                (LetD
+                                                  (VarP $v/19)
+                                                  (PrimE
+                                                    (ActorDotPrim install_code)
+                                                    (VarE @ic00)
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $u/22)
+                                                    (PrimE
+                                                      (CallPrim
+                                                        $@anon-async-464.79
+                                                      )
+                                                      (VarE $v/19)
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $$mode/0/0)
+                                                          (PrimE
+                                                            (TagE install)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                        (LetD
+                                                          (VarP
+                                                            $$sender_canister_version/1/0
+                                                          )
+                                                          (PrimE
+                                                            OptPrim
+                                                            (PrimE
+                                                              canister_version
+                                                            )
+                                                          )
+                                                        )
+                                                        (NewObjE
+                                                          Object
+                                                          (sender_canister_version
+                                                            $$sender_canister_version/1/0
+                                                          )
+                                                          (arg arg)
+                                                          (wasm_module
+                                                            wasm_module
+                                                          )
+                                                          (canister_id
+                                                            $canister_id/2
+                                                          )
+                                                          (mode $$mode/0/0)
+                                                          {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                  (IfE
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE @call_succeeded)
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (PrimE
+                                                      (CPSAwait () -> ())
+                                                      (VarE $u/22)
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE $k/5)
+                                                        (VarE $r/2)
+                                                        (VarE $b/1)
+                                                      )
+                                                    )
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE $r/2)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE @call_error)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                    (BlockE
+                                      (LetD
+                                        (VarP $v/20)
+                                        (PrimE
+                                          (ActorDotPrim create_canister)
+                                          (VarE @ic00)
+                                        )
+                                      )
+                                      (BlockE
+                                        (LetD
+                                          (VarP $u/23)
+                                          (PrimE
+                                            (CallPrim $@anon-async-464.79)
+                                            (VarE $v/20)
+                                            (BlockE
+                                              (LetD
+                                                (VarP $$settings/1/0)
+                                                (LitE NullLit)
+                                              )
+                                              (NewObjE
+                                                Object
+                                                (sender_canister_version
+                                                  $sender_canister_version/3
+                                                )
+                                                (settings $$settings/1/0)
+                                                {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                                              )
+                                            )
+                                          )
+                                        )
+                                        (IfE
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE @call_succeeded)
+                                            (PrimE TupPrim)
+                                          )
+                                          (PrimE
+                                            (CPSAwait
+                                              {canister_id : Principal} -> ()
+                                            )
+                                            (VarE $u/23)
+                                            (PrimE
+                                              TupPrim
+                                              (VarE $k/6)
+                                              (VarE $r/2)
+                                              (VarE $b/1)
+                                            )
+                                          )
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE $r/2)
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE @call_error)
+                                              (PrimE TupPrim)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @call_raw)
+    (FuncE
+      @call_raw
+      Local
+      Returns
+      ($ Any)
+      (params p m a)
+      async<$> Blob
+      (PrimE
+        (CPSAsync $)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          ($@call_raw Any)
+          (params $k/7 $r/3 $b/2)
+          ()
+          (DeclareE
+            $available/2
+            (BlockE
+              (LetD (VarP $v/21) (PrimE SystemCyclesAvailablePrim))
+              (LetD WildP (DefineE $available/2 Const (VarE $v/21)))
+              (BlockE
+                (LetD (VarP $u/24) (PrimE TupPrim))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat EqOp)
+                          (VarE $available/2)
+                          (LitE (NatLit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (AssignE
+                        (VarLE @cycles)
+                        (PrimE SystemCyclesAcceptPrim (VarE $available/2))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (BlockE
+                    (LetD (VarP $u/25) (PrimE TupPrim))
+                    (BlockE
+                      (LetD (VarP $u/26) (PrimE TupPrim))
+                      (BlockE
+                        (LetD
+                          (VarP $u/27)
+                          (PrimE call_raw (VarE p) (VarE m) (VarE a))
+                        )
+                        (IfE
+                          (PrimE
+                            (CallPrim)
+                            (VarE @call_succeeded)
+                            (PrimE TupPrim)
+                          )
+                          (PrimE
+                            (CPSAwait Blob -> ())
+                            (VarE $u/27)
+                            (PrimE TupPrim (VarE $k/7) (VarE $r/3) (VarE $b/2))
+                          )
+                          (PrimE
+                            (CallPrim)
+                            (VarE $r/3)
+                            (PrimE
+                              (CallPrim)
+                              (VarE @call_error)
+                              (PrimE TupPrim)
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @call_succeeded)
+    (FuncE
+      @call_succeeded
+      Local
+      Returns
+      Bool
+      (PrimE
+        (RelPrim Nat32 EqOp)
+        (PrimE call_perform_status)
+        (LitE (Nat32Lit 0))
+      )
+    )
+  )
+  (LetD
+    (VarP @call_error)
+    (FuncE
+      @call_error
+      Local
+      Returns
+      Error
+      (BlockE
+        (LetD (VarP status) (PrimE call_perform_status))
+        (LetD (VarP message) (PrimE call_perform_message))
+        (LetD
+          (VarP code)
+          (PrimE
+            (TagE call_error)
+            (NewObjE Object (err_code status) {err_code : Nat32})
+          )
+        )
+        (PrimE
+          (CastPrim ({#call_error : {err_code : Nat32}}, Text) Error)
+          (PrimE TupPrim (VarE code) (VarE message))
+        )
+      )
+    )
+  )
+  (VarD @timers ?@Node (LitE NullLit))
+  (LetD
+    (VarP @prune)
+    (FuncE
+      @prune
+      Local
+      Returns
+      (params n)
+      ?@Node
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE NullLit))
+        (case
+          (OptP (VarP n))
+          (IfE
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+              (LitE (Nat64Lit 0))
+            )
+            (PrimE (CallPrim) (VarE @prune) (PrimE (DotPrim post) (VarE n)))
+            (PrimE
+              OptPrim
+              (BlockE
+                (LetD (VarP $base/1) (VarE n))
+                (LetD
+                  (VarP $pre/0)
+                  (PrimE
+                    (CallPrim)
+                    (VarE @prune)
+                    (PrimE (DotPrim pre) (VarE n))
+                  )
+                )
+                (LetD (VarP $delay/0) (PrimE (DotPrim delay) (VarE $base/1)))
+                (LetD (VarP $expire/0) (PrimE (DotPrim expire) (VarE $base/1)))
+                (LetD (VarP $id/0) (PrimE (DotPrim id) (VarE $base/1)))
+                (LetD (VarP $job/0) (PrimE (DotPrim job) (VarE $base/1)))
+                (LetD (VarP $post/0) (PrimE (DotPrim post) (VarE $base/1)))
+                (NewObjE
+                  Object
+                  (post $post/0)
+                  (job $job/0)
+                  (id $id/0)
+                  (expire $expire/0)
+                  (delay $delay/0)
+                  (pre $pre/0)
+                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @nextExpiration)
+    (FuncE
+      @nextExpiration
+      Local
+      Returns
+      (params n)
+      Nat64
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE (Nat64Lit 0)))
+        (case
+          (OptP (VarP n))
+          (BlockE
+            (LetD
+              (VarP pivot)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+            )
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat64 EqOp) (VarE pivot) (LitE (Nat64Lit 0)))
+                (PrimE
+                  RetPrim
+                  (PrimE
+                    (CallPrim)
+                    (VarE @nextExpiration)
+                    (PrimE (DotPrim post) (VarE n))
+                  )
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              (VarP exp)
+              (PrimE
+                (CallPrim)
+                (VarE @nextExpiration)
+                (PrimE (DotPrim pre) (VarE n))
+              )
+            )
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (VarE pivot)
+              (VarE exp)
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @timer_helper)
+    (FuncE
+      @timer_helper
+      Local
+      Returns
+      ($ Any)
+      async<$> ()
+      (PrimE
+        (CPSAsync $)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          ($@timer_helper Any)
+          (params $k/8 $r/4 $b/3)
+          ()
+          (DeclareE
+            $Array_init/0
+            (DeclareE
+              $now/0
+              (DeclareE
+                $gathered/0
+                (DeclareE
+                  $thunks/0
+                  (DeclareE
+                    $gatherExpired/0
+                    (DeclareE
+                      $exp/0
+                      (DeclareE
+                        $failed/0
+                        (DeclareE
+                          $reinsert/0
+                          (BlockE
+                            (LetD
+                              (VarP $v/22)
+                              (FuncE
+                                Array_init
+                                Local
+                                Returns
+                                (T Any)
+                                (params $len/0 $x/0)
+                                [var T]
+                                (PrimE Array.init (VarE $len/0) (VarE $x/0))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (DefineE $Array_init/0 Const (VarE $v/22))
+                            )
+                            (BlockE
+                              (LetD (VarP $u/28) (PrimE TupPrim))
+                              (BlockE
+                                (LetD (VarP $v/23) (PrimE SystemTimePrim))
+                                (LetD WildP (DefineE $now/0 Const (VarE $v/23)))
+                                (BlockE
+                                  (LetD (VarP $u/29) (PrimE TupPrim))
+                                  (BlockE
+                                    (LetD
+                                      (VarP $u/30)
+                                      (DefineE
+                                        $gathered/0
+                                        Var
+                                        (LitE (NatLit 0))
+                                      )
+                                    )
+                                    (BlockE
+                                      (LetD
+                                        (VarP $v/24)
+                                        (PrimE
+                                          (CallPrim ?(() -> async ()))
+                                          (VarE $Array_init/0)
+                                          (PrimE
+                                            TupPrim
+                                            (LitE (NatLit 10))
+                                            (LitE NullLit)
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        WildP
+                                        (DefineE $thunks/0 Const (VarE $v/24))
+                                      )
+                                      (BlockE
+                                        (LetD (VarP $u/31) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD
+                                            (VarP $v/25)
+                                            (FuncE
+                                              gatherExpired
+                                              Local
+                                              Returns
+                                              (params $n/0)
+                                              ()
+                                              (SwitchE
+                                                (VarE $n/0)
+                                                (case
+                                                  (LitP NullLit)
+                                                  (PrimE TupPrim)
+                                                )
+                                                (case
+                                                  (OptP (VarP $n/1))
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $pivot/0)
+                                                      (PrimE
+                                                        IdxPrim
+                                                        (PrimE
+                                                          (DotPrim expire)
+                                                          (VarE $n/1)
+                                                        )
+                                                        (LitE (NatLit 0))
+                                                      )
+                                                    )
+                                                    (LetD
+                                                      WildP
+                                                      (IfE
+                                                        (PrimE
+                                                          (RelPrim Nat64 GtOp)
+                                                          (VarE $pivot/0)
+                                                          (LitE (Nat64Lit 0))
+                                                        )
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE
+                                                            $gatherExpired/0
+                                                          )
+                                                          (PrimE
+                                                            (DotPrim pre)
+                                                            (VarE $n/1)
+                                                          )
+                                                        )
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (IfE
+                                                      (IfE
+                                                        (PrimE
+                                                          (RelPrim Nat64 LeOp)
+                                                          (VarE $pivot/0)
+                                                          (VarE $now/0)
+                                                        )
+                                                        (PrimE
+                                                          (RelPrim Nat LtOp)
+                                                          (VarE! $gathered/0)
+                                                          (PrimE
+                                                            array_len
+                                                            (VarE $thunks/0)
+                                                          )
+                                                        )
+                                                        (LitE (BoolLit false))
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          WildP
+                                                          (IfE
+                                                            (PrimE
+                                                              (RelPrim
+                                                                Nat64
+                                                                GtOp
+                                                              )
+                                                              (VarE $pivot/0)
+                                                              (LitE
+                                                                (Nat64Lit 0)
+                                                              )
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                WildP
+                                                                (AssignE
+                                                                  (IdxLE
+                                                                    (VarE
+                                                                      $thunks/0
+                                                                    )
+                                                                    (VarE!
+                                                                      $gathered/0
+                                                                    )
+                                                                  )
+                                                                  (PrimE
+                                                                    OptPrim
+                                                                    (PrimE
+                                                                      (DotPrim
+                                                                        job
+                                                                      )
+                                                                      (VarE
+                                                                        $n/1
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                              (LetD
+                                                                WildP
+                                                                (SwitchE
+                                                                  (PrimE
+                                                                    (DotPrim
+                                                                      delay
+                                                                    )
+                                                                    (VarE $n/1)
+                                                                  )
+                                                                  (case
+                                                                    (AltP
+                                                                      (LitP
+                                                                        NullLit
+                                                                      )
+                                                                      (OptP
+                                                                        (LitP
+                                                                          (Nat64Lit
+                                                                            0
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (AssignE
+                                                                      (IdxLE
+                                                                        (PrimE
+                                                                          (DotPrim
+                                                                            expire
+                                                                          )
+                                                                          (VarE
+                                                                            $n/1
+                                                                          )
+                                                                        )
+                                                                        (LitE
+                                                                          (NatLit
+                                                                            0
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (LitE
+                                                                        (Nat64Lit
+                                                                          0
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (case
+                                                                    (OptP
+                                                                      (VarP
+                                                                        $delay/9
+                                                                      )
+                                                                    )
+                                                                    (BlockE
+                                                                      (LetD
+                                                                        (VarP
+                                                                          $expire/11
+                                                                        )
+                                                                        (PrimE
+                                                                          (BinPrim
+                                                                            Nat64
+                                                                            AddOp
+                                                                          )
+                                                                          (VarE
+                                                                            $pivot/0
+                                                                          )
+                                                                          (PrimE
+                                                                            (BinPrim
+                                                                              Nat64
+                                                                              MulOp
+                                                                            )
+                                                                            (VarE
+                                                                              $delay/9
+                                                                            )
+                                                                            (PrimE
+                                                                              (BinPrim
+                                                                                Nat64
+                                                                                AddOp
+                                                                              )
+                                                                              (LitE
+                                                                                (Nat64Lit
+                                                                                  1
+                                                                                )
+                                                                              )
+                                                                              (PrimE
+                                                                                (BinPrim
+                                                                                  Nat64
+                                                                                  DivOp
+                                                                                )
+                                                                                (PrimE
+                                                                                  (BinPrim
+                                                                                    Nat64
+                                                                                    SubOp
+                                                                                  )
+                                                                                  (VarE
+                                                                                    $now/0
+                                                                                  )
+                                                                                  (VarE
+                                                                                    $pivot/0
+                                                                                  )
+                                                                                )
+                                                                                (VarE
+                                                                                  $delay/9
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (LetD
+                                                                        WildP
+                                                                        (AssignE
+                                                                          (IdxLE
+                                                                            (PrimE
+                                                                              (DotPrim
+                                                                                expire
+                                                                              )
+                                                                              (VarE
+                                                                                $n/1
+                                                                              )
+                                                                            )
+                                                                            (LitE
+                                                                              (NatLit
+                                                                                0
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                          (LitE
+                                                                            (Nat64Lit
+                                                                              0
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (LetD
+                                                                        (VarP
+                                                                          $reinsert/1
+                                                                        )
+                                                                        (FuncE
+                                                                          reinsert
+                                                                          Local
+                                                                          Returns
+                                                                          (params
+                                                                            $m/0
+                                                                          )
+                                                                          @Node
+                                                                          (SwitchE
+                                                                            (VarE
+                                                                              $m/0
+                                                                            )
+                                                                            (case
+                                                                              (LitP
+                                                                                NullLit
+                                                                              )
+                                                                              (BlockE
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$base/2/0
+                                                                                  )
+                                                                                  (VarE
+                                                                                    $n/1
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$expire/1/0
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (ArrayPrim
+                                                                                      Var
+                                                                                      Nat64
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $expire/11
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$pre/1/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    NullLit
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$post/1/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    NullLit
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$delay/1/0
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (DotPrim
+                                                                                      delay
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $$base/2/0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$id/1/0
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (DotPrim
+                                                                                      id
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $$base/2/0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$job/1/0
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (DotPrim
+                                                                                      job
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $$base/2/0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (NewObjE
+                                                                                  Object
+                                                                                  (job
+                                                                                    $$job/1/0
+                                                                                  )
+                                                                                  (id
+                                                                                    $$id/1/0
+                                                                                  )
+                                                                                  (delay
+                                                                                    $$delay/1/0
+                                                                                  )
+                                                                                  (post
+                                                                                    $$post/1/0
+                                                                                  )
+                                                                                  (pre
+                                                                                    $$pre/1/0
+                                                                                  )
+                                                                                  (expire
+                                                                                    $$expire/1/0
+                                                                                  )
+                                                                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (case
+                                                                              (OptP
+                                                                                (VarP
+                                                                                  $m/1
+                                                                                )
+                                                                              )
+                                                                              (BlockE
+                                                                                (LetD
+                                                                                  WildP
+                                                                                  (PrimE
+                                                                                    AssertPrim
+                                                                                    (PrimE
+                                                                                      (RelPrim
+                                                                                        Bool
+                                                                                        EqOp
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (RelPrim
+                                                                                          Nat64
+                                                                                          EqOp
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          IdxPrim
+                                                                                          (PrimE
+                                                                                            (DotPrim
+                                                                                              expire
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $m/1
+                                                                                            )
+                                                                                          )
+                                                                                          (LitE
+                                                                                            (NatLit
+                                                                                              0
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                        (LitE
+                                                                                          (Nat64Lit
+                                                                                            0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LitE
+                                                                                        (BoolLit
+                                                                                          false
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (IfE
+                                                                                  (PrimE
+                                                                                    (RelPrim
+                                                                                      Nat64
+                                                                                      LtOp
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $expire/11
+                                                                                    )
+                                                                                    (PrimE
+                                                                                      IdxPrim
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          expire
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $m/1
+                                                                                        )
+                                                                                      )
+                                                                                      (LitE
+                                                                                        (NatLit
+                                                                                          0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (BlockE
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$base/4/0
+                                                                                      )
+                                                                                      (VarE
+                                                                                        $m/1
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$pre/3/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        OptPrim
+                                                                                        (PrimE
+                                                                                          (CallPrim
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $reinsert/1
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            (DotPrim
+                                                                                              pre
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $m/1
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$delay/3/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          delay
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/4/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$expire/3/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          expire
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/4/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$id/3/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          id
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/4/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$job/3/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          job
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/4/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$post/3/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          post
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/4/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (NewObjE
+                                                                                      Object
+                                                                                      (post
+                                                                                        $$post/3/0
+                                                                                      )
+                                                                                      (job
+                                                                                        $$job/3/0
+                                                                                      )
+                                                                                      (id
+                                                                                        $$id/3/0
+                                                                                      )
+                                                                                      (expire
+                                                                                        $$expire/3/0
+                                                                                      )
+                                                                                      (delay
+                                                                                        $$delay/3/0
+                                                                                      )
+                                                                                      (pre
+                                                                                        $$pre/3/0
+                                                                                      )
+                                                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                                                    )
+                                                                                  )
+                                                                                  (BlockE
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$base/3/0
+                                                                                      )
+                                                                                      (VarE
+                                                                                        $m/1
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$post/2/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        OptPrim
+                                                                                        (PrimE
+                                                                                          (CallPrim
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $reinsert/1
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            (DotPrim
+                                                                                              post
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $m/1
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$delay/2/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          delay
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/3/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$expire/2/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          expire
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/3/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$id/2/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          id
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/3/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$job/2/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          job
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/3/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $$pre/2/0
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (DotPrim
+                                                                                          pre
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $$base/3/0
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (NewObjE
+                                                                                      Object
+                                                                                      (pre
+                                                                                        $$pre/2/0
+                                                                                      )
+                                                                                      (job
+                                                                                        $$job/2/0
+                                                                                      )
+                                                                                      (id
+                                                                                        $$id/2/0
+                                                                                      )
+                                                                                      (expire
+                                                                                        $$expire/2/0
+                                                                                      )
+                                                                                      (delay
+                                                                                        $$delay/2/0
+                                                                                      )
+                                                                                      (post
+                                                                                        $$post/2/0
+                                                                                      )
+                                                                                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (AssignE
+                                                                        (VarLE
+                                                                          @timers
+                                                                        )
+                                                                        (PrimE
+                                                                          OptPrim
+                                                                          (PrimE
+                                                                            (CallPrim
+                                                                            )
+                                                                            (VarE
+                                                                              $reinsert/1
+                                                                            )
+                                                                            (PrimE
+                                                                              (CallPrim
+                                                                              )
+                                                                              (VarE
+                                                                                @prune
+                                                                              )
+                                                                              (VarE!
+                                                                                @timers
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                              (AssignE
+                                                                (VarLE
+                                                                  $gathered/0
+                                                                )
+                                                                (PrimE
+                                                                  (BinPrim
+                                                                    Nat
+                                                                    AddOp
+                                                                  )
+                                                                  (VarE!
+                                                                    $gathered/0
+                                                                  )
+                                                                  (LitE
+                                                                    (NatLit 1)
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE
+                                                            $gatherExpired/0
+                                                          )
+                                                          (PrimE
+                                                            (DotPrim post)
+                                                            (VarE $n/1)
+                                                          )
+                                                        )
+                                                      )
+                                                      (PrimE TupPrim)
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            WildP
+                                            (DefineE
+                                              $gatherExpired/0
+                                              Const
+                                              (VarE $v/25)
+                                            )
+                                          )
+                                          (BlockE
+                                            (LetD (VarP $u/32) (PrimE TupPrim))
+                                            (BlockE
+                                              (LetD
+                                                WildP
+                                                (PrimE
+                                                  (CallPrim)
+                                                  (VarE $gatherExpired/0)
+                                                  (VarE! @timers)
+                                                )
+                                              )
+                                              (BlockE
+                                                (LetD
+                                                  (VarP $u/33)
+                                                  (PrimE TupPrim)
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $v/26)
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE @nextExpiration)
+                                                      (VarE! @timers)
+                                                    )
+                                                  )
+                                                  (LetD
+                                                    WildP
+                                                    (DefineE
+                                                      $exp/0
+                                                      Const
+                                                      (VarE $v/26)
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $u/34)
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        WildP
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (PrimE
+                                                              global_timer_set
+                                                              (VarE $exp/0)
+                                                            )
+                                                          )
+                                                          (PrimE TupPrim)
+                                                        )
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $u/35)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (IfE
+                                                              (PrimE
+                                                                (RelPrim
+                                                                  Nat64
+                                                                  EqOp
+                                                                )
+                                                                (VarE $exp/0)
+                                                                (LitE
+                                                                  (Nat64Lit 0)
+                                                                )
+                                                              )
+                                                              (AssignE
+                                                                (VarLE @timers)
+                                                                (LitE NullLit)
+                                                              )
+                                                              (PrimE TupPrim)
+                                                            )
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              (VarP $u/36)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                (VarP $u/37)
+                                                                (DefineE
+                                                                  $failed/0
+                                                                  Var
+                                                                  (LitE
+                                                                    (Nat64Lit 0)
+                                                                  )
+                                                                )
+                                                              )
+                                                              (BlockE
+                                                                (LetD
+                                                                  (VarP $v/27)
+                                                                  (FuncE
+                                                                    reinsert
+                                                                    Local
+                                                                    Returns
+                                                                    (params
+                                                                      $job/8
+                                                                    )
+                                                                    ()
+                                                                    (BlockE
+                                                                      (LetD
+                                                                        WildP
+                                                                        (IfE
+                                                                          (PrimE
+                                                                            (RelPrim
+                                                                              Nat64
+                                                                              EqOp
+                                                                            )
+                                                                            (VarE!
+                                                                              $failed/0
+                                                                            )
+                                                                            (LitE
+                                                                              (Nat64Lit
+                                                                                0
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                          (BlockE
+                                                                            (LetD
+                                                                              WildP
+                                                                              (AssignE
+                                                                                (VarLE
+                                                                                  @timers
+                                                                                )
+                                                                                (PrimE
+                                                                                  (CallPrim
+                                                                                  )
+                                                                                  (VarE
+                                                                                    @prune
+                                                                                  )
+                                                                                  (VarE!
+                                                                                    @timers
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (BlockE
+                                                                              (LetD
+                                                                                WildP
+                                                                                (PrimE
+                                                                                  global_timer_set
+                                                                                  (LitE
+                                                                                    (Nat64Lit
+                                                                                      1
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                              (PrimE
+                                                                                TupPrim
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                          (PrimE
+                                                                            TupPrim
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (LetD
+                                                                        WildP
+                                                                        (AssignE
+                                                                          (VarLE
+                                                                            $failed/0
+                                                                          )
+                                                                          (PrimE
+                                                                            (BinPrim
+                                                                              Nat64
+                                                                              AddOp
+                                                                            )
+                                                                            (VarE!
+                                                                              $failed/0
+                                                                            )
+                                                                            (LitE
+                                                                              (Nat64Lit
+                                                                                1
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (AssignE
+                                                                        (VarLE
+                                                                          @timers
+                                                                        )
+                                                                        (PrimE
+                                                                          OptPrim
+                                                                          (SwitchE
+                                                                            (VarE!
+                                                                              @timers
+                                                                            )
+                                                                            (case
+                                                                              (OptP
+                                                                                (ObjP
+                                                                                  (id
+                                                                                    (LitP
+                                                                                      (IntLit
+                                                                                        0
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (pre
+                                                                                    (VarP
+                                                                                      $pre/11
+                                                                                    )
+                                                                                  )
+                                                                                  (post
+                                                                                    (VarP
+                                                                                      $post/11
+                                                                                    )
+                                                                                  )
+                                                                                  (job
+                                                                                    (VarP
+                                                                                      $j/0
+                                                                                    )
+                                                                                  )
+                                                                                  (expire
+                                                                                    (VarP
+                                                                                      $expire/12
+                                                                                    )
+                                                                                  )
+                                                                                  (delay
+                                                                                    (VarP
+                                                                                      $delay/10
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                              (BlockE
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$expire/4/0
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (ArrayPrim
+                                                                                      Var
+                                                                                      Nat64
+                                                                                    )
+                                                                                    (VarE!
+                                                                                      $failed/0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$id/4/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (NatLit
+                                                                                      0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$pre/4/0
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    OptPrim
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$id/5/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          (NatLit
+                                                                                            0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$post/4/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (NewObjE
+                                                                                        Object
+                                                                                        (job
+                                                                                          $j/0
+                                                                                        )
+                                                                                        (delay
+                                                                                          $delay/10
+                                                                                        )
+                                                                                        (post
+                                                                                          $$post/4/0
+                                                                                        )
+                                                                                        (pre
+                                                                                          $pre/11
+                                                                                        )
+                                                                                        (expire
+                                                                                          $expire/12
+                                                                                        )
+                                                                                        (id
+                                                                                          $$id/5/0
+                                                                                        )
+                                                                                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (NewObjE
+                                                                                  Object
+                                                                                  (pre
+                                                                                    $$pre/4/0
+                                                                                  )
+                                                                                  (post
+                                                                                    $post/11
+                                                                                  )
+                                                                                  (job
+                                                                                    $job/8
+                                                                                  )
+                                                                                  (delay
+                                                                                    $delay/10
+                                                                                  )
+                                                                                  (id
+                                                                                    $$id/4/0
+                                                                                  )
+                                                                                  (expire
+                                                                                    $$expire/4/0
+                                                                                  )
+                                                                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (case
+                                                                              WildP
+                                                                              (BlockE
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$expire/5/0
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (ArrayPrim
+                                                                                      Var
+                                                                                      Nat64
+                                                                                    )
+                                                                                    (VarE!
+                                                                                      $failed/0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$id/6/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (NatLit
+                                                                                      0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$delay/4/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    NullLit
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$pre/5/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    NullLit
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $$post/5/0
+                                                                                  )
+                                                                                  (VarE!
+                                                                                    @timers
+                                                                                  )
+                                                                                )
+                                                                                (NewObjE
+                                                                                  Object
+                                                                                  (post
+                                                                                    $$post/5/0
+                                                                                  )
+                                                                                  (pre
+                                                                                    $$pre/5/0
+                                                                                  )
+                                                                                  (job
+                                                                                    $job/8
+                                                                                  )
+                                                                                  (delay
+                                                                                    $$delay/4/0
+                                                                                  )
+                                                                                  (id
+                                                                                    $$id/6/0
+                                                                                  )
+                                                                                  (expire
+                                                                                    $$expire/5/0
+                                                                                  )
+                                                                                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (LetD
+                                                                  WildP
+                                                                  (DefineE
+                                                                    $reinsert/0
+                                                                    Const
+                                                                    (VarE $v/27)
+                                                                  )
+                                                                )
+                                                                (BlockE
+                                                                  (LetD
+                                                                    (VarP $u/38)
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                  (BlockE
+                                                                    (LetD
+                                                                      (VarP
+                                                                        $u/39
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                      )
+                                                                    )
+                                                                    (DeclareE
+                                                                      $$arr/2/0
+                                                                      (DeclareE
+                                                                        $$last/2/0
+                                                                        (DeclareE
+                                                                          $$indx/2/0
+                                                                          (BlockE
+                                                                            (LetD
+                                                                              (VarP
+                                                                                $v/28
+                                                                              )
+                                                                              (VarE
+                                                                                $thunks/0
+                                                                              )
+                                                                            )
+                                                                            (LetD
+                                                                              WildP
+                                                                              (DefineE
+                                                                                $$arr/2/0
+                                                                                Const
+                                                                                (VarE
+                                                                                  $v/28
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (BlockE
+                                                                              (LetD
+                                                                                (VarP
+                                                                                  $u/40
+                                                                                )
+                                                                                (PrimE
+                                                                                  TupPrim
+                                                                                )
+                                                                              )
+                                                                              (BlockE
+                                                                                (LetD
+                                                                                  (VarP
+                                                                                    $v/29
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    GetLastArrayOffset
+                                                                                    (VarE
+                                                                                      $$arr/2/0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LetD
+                                                                                  WildP
+                                                                                  (DefineE
+                                                                                    $$last/2/0
+                                                                                    Const
+                                                                                    (VarE
+                                                                                      $v/29
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (BlockE
+                                                                                  (LetD
+                                                                                    (VarP
+                                                                                      $u/41
+                                                                                    )
+                                                                                    (PrimE
+                                                                                      TupPrim
+                                                                                    )
+                                                                                  )
+                                                                                  (BlockE
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $u/42
+                                                                                      )
+                                                                                      (DefineE
+                                                                                        $$indx/2/0
+                                                                                        Var
+                                                                                        (LitE
+                                                                                          (NatLit
+                                                                                            0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $u/43
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          TupPrim
+                                                                                        )
+                                                                                      )
+                                                                                      (IfE
+                                                                                        (PrimE
+                                                                                          EqArrayOffset
+                                                                                          (VarE
+                                                                                            $$last/2/0
+                                                                                          )
+                                                                                          (LitE
+                                                                                            (IntLit
+                                                                                              -1
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (CallPrim
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $k/8
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            TupPrim
+                                                                                          )
+                                                                                        )
+                                                                                        (BlockE
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $loop/0
+                                                                                            )
+                                                                                            (FuncE
+                                                                                              $loop/0
+                                                                                              Local
+                                                                                              Returns
+                                                                                              ()
+                                                                                              (BlockE
+                                                                                                (LetD
+                                                                                                  (VarP
+                                                                                                    $v/30
+                                                                                                  )
+                                                                                                  (PrimE
+                                                                                                    TupPrim
+                                                                                                  )
+                                                                                                )
+                                                                                                (DeclareE
+                                                                                                  $o/0
+                                                                                                  (BlockE
+                                                                                                    (LetD
+                                                                                                      (VarP
+                                                                                                        $v/31
+                                                                                                      )
+                                                                                                      (PrimE
+                                                                                                        DerefArrayOffset
+                                                                                                        (VarE
+                                                                                                          $$arr/2/0
+                                                                                                        )
+                                                                                                        (VarE!
+                                                                                                          $$indx/2/0
+                                                                                                        )
+                                                                                                      )
+                                                                                                    )
+                                                                                                    (LetD
+                                                                                                      WildP
+                                                                                                      (DefineE
+                                                                                                        $o/0
+                                                                                                        Const
+                                                                                                        (VarE
+                                                                                                          $v/31
+                                                                                                        )
+                                                                                                      )
+                                                                                                    )
+                                                                                                    (BlockE
+                                                                                                      (LetD
+                                                                                                        (VarP
+                                                                                                          $u/44
+                                                                                                        )
+                                                                                                        (PrimE
+                                                                                                          TupPrim
+                                                                                                        )
+                                                                                                      )
+                                                                                                      (BlockE
+                                                                                                        (LetD
+                                                                                                          (VarP
+                                                                                                            $k/9
+                                                                                                          )
+                                                                                                          (FuncE
+                                                                                                            $k/9
+                                                                                                            Local
+                                                                                                            Returns
+                                                                                                            ()
+                                                                                                            (BlockE
+                                                                                                              (LetD
+                                                                                                                (VarP
+                                                                                                                  $v/32
+                                                                                                                )
+                                                                                                                (PrimE
+                                                                                                                  TupPrim
+                                                                                                                )
+                                                                                                              )
+                                                                                                              (BlockE
+                                                                                                                (LetD
+                                                                                                                  WildP
+                                                                                                                  (VarE
+                                                                                                                    $v/32
+                                                                                                                  )
+                                                                                                                )
+                                                                                                                (BlockE
+                                                                                                                  (LetD
+                                                                                                                    (VarP
+                                                                                                                      $u/45
+                                                                                                                    )
+                                                                                                                    (PrimE
+                                                                                                                      TupPrim
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                  (BlockE
+                                                                                                                    (LetD
+                                                                                                                      (VarP
+                                                                                                                        $u/46
+                                                                                                                      )
+                                                                                                                      (PrimE
+                                                                                                                        TupPrim
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                    (PrimE
+                                                                                                                      (CallPrim
+                                                                                                                      )
+                                                                                                                      (VarE
+                                                                                                                        $loop/0
+                                                                                                                      )
+                                                                                                                      (IfE
+                                                                                                                        (PrimE
+                                                                                                                          EqArrayOffset
+                                                                                                                          (VarE!
+                                                                                                                            $$indx/2/0
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $$last/2/0
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          RetPrim
+                                                                                                                          (PrimE
+                                                                                                                            (CallPrim
+                                                                                                                            )
+                                                                                                                            (VarE
+                                                                                                                              $k/8
+                                                                                                                            )
+                                                                                                                            (PrimE
+                                                                                                                              TupPrim
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (AssignE
+                                                                                                                          (VarLE
+                                                                                                                            $$indx/2/0
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            NextArrayOffset
+                                                                                                                            (VarE!
+                                                                                                                              $$indx/2/0
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                        )
+                                                                                                        (SwitchE
+                                                                                                          (VarE
+                                                                                                            $o/0
+                                                                                                          )
+                                                                                                          (case
+                                                                                                            (OptP
+                                                                                                              (VarP
+                                                                                                                $thunk/0
+                                                                                                              )
+                                                                                                            )
+                                                                                                            (BlockE
+                                                                                                              (LetD
+                                                                                                                (VarP
+                                                                                                                  $r/5
+                                                                                                                )
+                                                                                                                (FuncE
+                                                                                                                  $r/5
+                                                                                                                  Local
+                                                                                                                  Returns
+                                                                                                                  (params
+                                                                                                                    $e/1
+                                                                                                                  )
+                                                                                                                  ()
+                                                                                                                  (SwitchE
+                                                                                                                    (VarE
+                                                                                                                      $e/1
+                                                                                                                    )
+                                                                                                                    (case
+                                                                                                                      WildP
+                                                                                                                      (PrimE
+                                                                                                                        (CallPrim
+                                                                                                                        )
+                                                                                                                        (VarE
+                                                                                                                          $k/9
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $reinsert/0
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $thunk/0
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                              (BlockE
+                                                                                                                (LetD
+                                                                                                                  (VarP
+                                                                                                                    $u/47
+                                                                                                                  )
+                                                                                                                  (PrimE
+                                                                                                                    (CallPrim
+                                                                                                                      $@timer_helper
+                                                                                                                    )
+                                                                                                                    (VarE
+                                                                                                                      $thunk/0
+                                                                                                                    )
+                                                                                                                    (PrimE
+                                                                                                                      TupPrim
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                                (IfE
+                                                                                                                  (PrimE
+                                                                                                                    (CallPrim
+                                                                                                                    )
+                                                                                                                    (VarE
+                                                                                                                      @call_succeeded
+                                                                                                                    )
+                                                                                                                    (PrimE
+                                                                                                                      TupPrim
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                  (BlockE
+                                                                                                                    (LetD
+                                                                                                                      WildP
+                                                                                                                      (VarE
+                                                                                                                        $u/47
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                    (BlockE
+                                                                                                                      (LetD
+                                                                                                                        (VarP
+                                                                                                                          $u/48
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          TupPrim
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                      (BlockE
+                                                                                                                        (LetD
+                                                                                                                          (VarP
+                                                                                                                            $u/49
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $k/9
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                  (PrimE
+                                                                                                                    (CallPrim
+                                                                                                                    )
+                                                                                                                    (VarE
+                                                                                                                      $r/5
+                                                                                                                    )
+                                                                                                                    (PrimE
+                                                                                                                      (CallPrim
+                                                                                                                      )
+                                                                                                                      (VarE
+                                                                                                                        @call_error
+                                                                                                                      )
+                                                                                                                      (PrimE
+                                                                                                                        TupPrim
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                          (case
+                                                                                                            WildP
+                                                                                                            (PrimE
+                                                                                                              (CallPrim
+                                                                                                              )
+                                                                                                              (VarE
+                                                                                                                $k/9
+                                                                                                              )
+                                                                                                              (PrimE
+                                                                                                                RetPrim
+                                                                                                                (PrimE
+                                                                                                                  (CallPrim
+                                                                                                                  )
+                                                                                                                  (VarE
+                                                                                                                    $k/8
+                                                                                                                  )
+                                                                                                                  (PrimE
+                                                                                                                    TupPrim
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                        )
+                                                                                                      )
+                                                                                                    )
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            (CallPrim
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $loop/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              TupPrim
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (VarD @lastTimerId Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @setTimer)
+    (FuncE
+      @setTimer
+      Local
+      Returns
+      ($ Any)
+      (params delayNanos recurring job)
+      Nat
+      (BlockE
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @lastTimerId)
+            (PrimE (BinPrim Nat AddOp) (VarE! @lastTimerId) (LitE (NatLit 1)))
+          )
+        )
+        (LetD (VarP id) (VarE! @lastTimerId))
+        (LetD (VarP now) (PrimE SystemTimePrim))
+        (LetD
+          (VarP expire)
+          (PrimE (BinPrim Nat64 AddOp) (VarE now) (VarE delayNanos))
+        )
+        (LetD
+          (VarP delay)
+          (IfE
+            (VarE recurring)
+            (PrimE OptPrim (VarE delayNanos))
+            (LitE NullLit)
+          )
+        )
+        (LetD
+          (VarP insert)
+          (FuncE
+            insert
+            Local
+            Returns
+            (params n)
+            @Node
+            (SwitchE
+              (VarE n)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP $expire/6)
+                    (PrimE (ArrayPrim Var Nat64) (VarE expire))
+                  )
+                  (LetD (VarP $pre/6) (LitE NullLit))
+                  (LetD (VarP $post/6) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (post $post/6)
+                    (pre $pre/6)
+                    (job job)
+                    (delay delay)
+                    (id id)
+                    (expire $expire/6)
+                    {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                  )
+                )
+              )
+              (case
+                (OptP (VarP n))
+                (BlockE
+                  (LetD
+                    WildP
+                    (PrimE
+                      AssertPrim
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (PrimE
+                            IdxPrim
+                            (PrimE (DotPrim expire) (VarE n))
+                            (LitE (NatLit 0))
+                          )
+                          (LitE (Nat64Lit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                    )
+                  )
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 LtOp)
+                      (VarE expire)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/6) (VarE n))
+                      (LetD
+                        (VarP $pre/8)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim pre) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/6)
+                        (PrimE (DotPrim delay) (VarE $base/6))
+                      )
+                      (LetD
+                        (VarP $expire/8)
+                        (PrimE (DotPrim expire) (VarE $base/6))
+                      )
+                      (LetD (VarP $id/8) (PrimE (DotPrim id) (VarE $base/6)))
+                      (LetD (VarP $job/5) (PrimE (DotPrim job) (VarE $base/6)))
+                      (LetD
+                        (VarP $post/8)
+                        (PrimE (DotPrim post) (VarE $base/6))
+                      )
+                      (NewObjE
+                        Object
+                        (post $post/8)
+                        (job $job/5)
+                        (id $id/8)
+                        (expire $expire/8)
+                        (delay $delay/6)
+                        (pre $pre/8)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/5) (VarE n))
+                      (LetD
+                        (VarP $post/7)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/5)
+                        (PrimE (DotPrim delay) (VarE $base/5))
+                      )
+                      (LetD
+                        (VarP $expire/7)
+                        (PrimE (DotPrim expire) (VarE $base/5))
+                      )
+                      (LetD (VarP $id/7) (PrimE (DotPrim id) (VarE $base/5)))
+                      (LetD (VarP $job/4) (PrimE (DotPrim job) (VarE $base/5)))
+                      (LetD (VarP $pre/7) (PrimE (DotPrim pre) (VarE $base/5)))
+                      (NewObjE
+                        Object
+                        (pre $pre/7)
+                        (job $job/4)
+                        (id $id/7)
+                        (expire $expire/7)
+                        (delay $delay/5)
+                        (post $post/7)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE
+              OptPrim
+              (PrimE
+                (CallPrim)
+                (VarE insert)
+                (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP exp)
+          (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+            (AssignE (VarLE @timers) (LitE NullLit))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (BlockE
+            (LetD WildP (PrimE global_timer_set (VarE exp)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarE id)
+      )
+    )
+  )
+  (LetD
+    (VarP @cancelTimer)
+    (FuncE
+      @cancelTimer
+      Local
+      Returns
+      (params id)
+      ()
+      (BlockE
+        (LetD
+          (VarP graft)
+          (FuncE
+            graft
+            Local
+            Returns
+            (params onto branch)
+            ?@Node
+            (SwitchE
+              (PrimE TupPrim (VarE onto) (VarE branch))
+              (case (TupP (LitP NullLit) (LitP NullLit)) (LitE NullLit))
+              (case (TupP (LitP NullLit) WildP) (VarE branch))
+              (case (TupP WildP (LitP NullLit)) (VarE onto))
+              (case
+                (TupP (OptP (VarP onto)) WildP)
+                (PrimE
+                  OptPrim
+                  (BlockE
+                    (LetD (VarP $base/7) (VarE onto))
+                    (LetD
+                      (VarP $post/9)
+                      (PrimE
+                        (CallPrim)
+                        (VarE graft)
+                        (PrimE
+                          TupPrim
+                          (PrimE (DotPrim post) (VarE onto))
+                          (VarE branch)
+                        )
+                      )
+                    )
+                    (LetD
+                      (VarP $delay/7)
+                      (PrimE (DotPrim delay) (VarE $base/7))
+                    )
+                    (LetD
+                      (VarP $expire/9)
+                      (PrimE (DotPrim expire) (VarE $base/7))
+                    )
+                    (LetD (VarP $id/9) (PrimE (DotPrim id) (VarE $base/7)))
+                    (LetD (VarP $job/6) (PrimE (DotPrim job) (VarE $base/7)))
+                    (LetD (VarP $pre/9) (PrimE (DotPrim pre) (VarE $base/7)))
+                    (NewObjE
+                      Object
+                      (pre $pre/9)
+                      (job $job/6)
+                      (id $id/9)
+                      (expire $expire/9)
+                      (delay $delay/7)
+                      (post $post/9)
+                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP hunt)
+          (FuncE
+            hunt
+            Local
+            Returns
+            (params n)
+            ?@Node
+            (SwitchE
+              (VarE n)
+              (case (LitP NullLit) (VarE n))
+              (case
+                (OptP
+                  (ObjP (id (VarP node)) (pre (VarP pre)) (post (VarP post)))
+                )
+                (IfE
+                  (PrimE (RelPrim Nat EqOp) (VarE node) (VarE id))
+                  (PrimE
+                    (CallPrim)
+                    (VarE graft)
+                    (PrimE TupPrim (VarE pre) (VarE post))
+                  )
+                  (LabelE
+                    !
+                    ?@Node
+                    (PrimE
+                      OptPrim
+                      (BlockE
+                        (LetD
+                          (VarP $base/8)
+                          (SwitchE
+                            (VarE n)
+                            (case
+                              (LitP NullLit)
+                              (PrimE (BreakPrim !) (LitE NullLit))
+                            )
+                            (case (OptP (VarP $v/1)) (VarE $v/1))
+                          )
+                        )
+                        (LetD
+                          (VarP $pre/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE pre))
+                        )
+                        (LetD
+                          (VarP $post/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE post))
+                        )
+                        (LetD
+                          (VarP $delay/8)
+                          (PrimE (DotPrim delay) (VarE $base/8))
+                        )
+                        (LetD
+                          (VarP $expire/10)
+                          (PrimE (DotPrim expire) (VarE $base/8))
+                        )
+                        (LetD (VarP $id/10) (PrimE (DotPrim id) (VarE $base/8)))
+                        (LetD
+                          (VarP $job/7)
+                          (PrimE (DotPrim job) (VarE $base/8))
+                        )
+                        (NewObjE
+                          Object
+                          (job $job/7)
+                          (id $id/10)
+                          (expire $expire/10)
+                          (delay $delay/8)
+                          (post $post/10)
+                          (pre $pre/10)
+                          {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : () -> async (); post : ?@Node; pre : ?@Node}
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE (CallPrim) (VarE hunt) (VarE! @timers))
+          )
+        )
+        (IfE
+          (PrimE
+            (RelPrim Nat64 EqOp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+            (LitE (Nat64Lit 0))
+          )
+          (BlockE
+            (LetD
+              WildP
+              (BlockE
+                (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 0))))
+                (PrimE TupPrim)
+              )
+            )
+            (AssignE (VarLE @timers) (LitE NullLit))
+          )
+          (PrimE TupPrim)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @set_global_timer)
+    (FuncE
+      @set_global_timer
+      Local
+      Returns
+      (params time)
+      ()
+      (BlockE (LetD WildP (PrimE global_timer_set (VarE time))) (PrimE TupPrim))
+    )
+  )
+  (LetD
+    (VarP @dedup)
+    (FuncE
+      @dedup
+      Local
+      Returns
+      (params b)
+      Blob
+      (BlockE
+        (LetD
+          (VarP Array_tabulate)
+          (FuncE
+            Array_tabulate
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [T]
+            (PrimE Array.tabulate (VarE len) (VarE gen))
+          )
+        )
+        (LetD
+          (VarP Array_tabulateVar)
+          (FuncE
+            Array_tabulateVar
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [var T]
+            (PrimE Array.tabulateVar (VarE len) (VarE gen))
+          )
+        )
+        (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+        (LetD
+          (VarP debugPrint)
+          (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+        )
+        (LetD
+          (VarP hashBlob)
+          (FuncE
+            hashBlob
+            Local
+            Returns
+            (params b)
+            Nat32
+            (PrimE crc32Hash (VarE b))
+          )
+        )
+        (LetD
+          (VarP allocWeakRef)
+          (FuncE
+            allocWeakRef
+            Local
+            Returns
+            (T Any)
+            (params obj)
+            weak T
+            (PrimE alloc_weak_ref (VarE obj))
+          )
+        )
+        (LetD
+          (VarP weakGet)
+          (FuncE
+            weakGet
+            Local
+            Returns
+            (T Any)
+            (params w)
+            ?T
+            (PrimE weak_get (VarE w))
+          )
+        )
+        (LetD
+          (VarP getDedupTable)
+          (FuncE
+            getDedupTable
+            Local
+            Returns
+            ?[var List]
+            (PrimE get_dedup_table)
+          )
+        )
+        (LetD
+          (VarP setDedupTable)
+          (FuncE
+            setDedupTable
+            Local
+            Returns
+            (params dedupTable)
+            ()
+            (PrimE set_dedup_table (VarE dedupTable))
+          )
+        )
+        (LetD
+          (VarP arrayToBlob)
+          (FuncE
+            arrayToBlob
+            Local
+            Returns
+            (params a)
+            Blob
+            (PrimE arrayToBlob (VarE a))
+          )
+        )
+        (LetD
+          (VarP getOriginalBlob)
+          (FuncE
+            getOriginalBlob
+            Local
+            Returns
+            (params b)
+            Blob
+            (BlockE
+              (LetD
+                (VarP copiedArr)
+                (PrimE
+                  (CallPrim Nat8)
+                  (VarE Array_tabulate)
+                  (PrimE
+                    TupPrim
+                    (PrimE
+                      (BinPrim Nat SubOp)
+                      (PrimE blob_size (VarE b))
+                      (LitE (NatLit 5))
+                    )
+                    (FuncE
+                      @anon-func-744.50
+                      Local
+                      Returns
+                      (params i)
+                      Nat8
+                      (PrimE
+                        IdxBlobPrim
+                        (VarE b)
+                        (PrimE (BinPrim Nat AddOp) (VarE i) (LitE (NatLit 5)))
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP originalBlob)
+                (PrimE (CallPrim) (VarE arrayToBlob) (VarE copiedArr))
+              )
+              (VarE originalBlob)
+            )
+          )
+        )
+        (LetD
+          (VarP blobCompare)
+          (FuncE
+            blobCompare
+            Local
+            Returns
+            (params b1 b2)
+            Int8
+            (PrimE blob_compare (VarE b1) (VarE b2))
+          )
+        )
+        (LetD
+          (VarP addToList)
+          (FuncE
+            addToList
+            Local
+            Returns
+            (params list originalBlob weakRef)
+            List
+            (BlockE
+              (LetD
+                (VarP newList)
+                (BlockE
+                  (VarD
+                    $next/0
+                    ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                    (PrimE OptPrim (VarE list))
+                  )
+                  (LetD (VarP $value/0) (PrimE OptPrim (VarE weakRef)))
+                  (LetD
+                    (VarP $index/0)
+                    (PrimE
+                      (BinPrim Nat AddOp)
+                      (PrimE (DotPrim index) (VarE list))
+                      (LitE (NatLit 1))
+                    )
+                  )
+                  (NewObjE
+                    Object
+                    (index $index/0)
+                    (originalBlob originalBlob)
+                    (value $value/0)
+                    (next $next/0)
+                    {index : Nat; var next : ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}; originalBlob : Blob; value : ?{ref : weak Blob}}
+                  )
+                )
+              )
+              (VarE newList)
+            )
+          )
+        )
+        (LetD
+          (VarP getFromList)
+          (FuncE
+            getFromList
+            Local
+            Returns
+            (params list originalBlob)
+            ?WeakRef
+            (BlockE
+              (VarD
+                copy
+                {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                (VarE list)
+              )
+              (LoopE
+                (IfE
+                  (PrimE
+                    (RelPrim Int8 EqOp)
+                    (PrimE
+                      (CallPrim)
+                      (VarE blobCompare)
+                      (PrimE
+                        TupPrim
+                        (PrimE (DotPrim originalBlob) (VarE! copy))
+                        (VarE originalBlob)
+                      )
+                    )
+                    (LitE (Int8Lit 0))
+                  )
+                  (PrimE RetPrim (PrimE (DotPrim value) (VarE! copy)))
+                  (BlockE
+                    (LetD (VarP next) (PrimE (DotPrim next) (VarE! copy)))
+                    (SwitchE
+                      (VarE next)
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                      (case
+                        (OptP (VarP next))
+                        (AssignE (VarLE copy) (VarE next))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getListLen)
+          (FuncE
+            getListLen
+            Local
+            Returns
+            (params list)
+            Nat
+            (PrimE (DotPrim index) (VarE list))
+          )
+        )
+        (LetD
+          (VarP getHashArrayLen)
+          (FuncE
+            getHashArrayLen
+            Local
+            Returns
+            (params hashArray)
+            Nat
+            (BlockE
+              (VarD len Nat (LitE (NatLit 0)))
+              (VarD i Nat (LitE (NatLit 0)))
+              (LetD
+                WildP
+                (LabelE
+                  $done/9
+                  ()
+                  (LoopE
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat LtOp)
+                        (VarE! i)
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE len)
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (VarE! len)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getListLen)
+                                (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE i)
+                          (PrimE
+                            (BinPrim Nat AddOp)
+                            (VarE! i)
+                            (LitE (NatLit 1))
+                          )
+                        )
+                      )
+                      (PrimE (BreakPrim $done/9) (PrimE TupPrim))
+                    )
+                  )
+                )
+              )
+              (VarE! len)
+            )
+          )
+        )
+        (LetD
+          (VarP addToHashArray)
+          (FuncE
+            addToHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ()
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (LetD
+                (VarP weakRef)
+                (BlockE
+                  (LetD
+                    (VarP $ref/0)
+                    (PrimE (CallPrim Blob) (VarE allocWeakRef) (VarE b))
+                  )
+                  (NewObjE Object (ref $ref/0) {ref : weak Blob})
+                )
+              )
+              (AssignE
+                (IdxLE (VarE hashArray) (VarE index))
+                (PrimE
+                  (CallPrim)
+                  (VarE addToList)
+                  (PrimE
+                    TupPrim
+                    (VarE list)
+                    (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                    (VarE weakRef)
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getFromHashArray)
+          (FuncE
+            getFromHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ?WeakRef
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (PrimE
+                (CallPrim)
+                (VarE getFromList)
+                (PrimE
+                  TupPrim
+                  (VarE list)
+                  (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Nat LtOp)
+              (PrimE blob_size (VarE b))
+              (LitE (NatLit 5))
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (IfE
+              (IfE
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 0)))
+                        (LitE (Nat8Lit 33))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 1)))
+                        (LitE (Nat8Lit 99))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                  (LitE (BoolLit true))
+                  (PrimE
+                    (RelPrim Bool EqOp)
+                    (PrimE
+                      (RelPrim Nat8 EqOp)
+                      (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 2)))
+                      (LitE (Nat8Lit 97))
+                    )
+                    (LitE (BoolLit false))
+                  )
+                )
+                (LitE (BoolLit true))
+                (PrimE
+                  (RelPrim Bool EqOp)
+                  (PrimE
+                    (RelPrim Nat8 EqOp)
+                    (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 3)))
+                    (LitE (Nat8Lit 102))
+                  )
+                  (LitE (BoolLit false))
+                )
+              )
+              (LitE (BoolLit true))
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE
+                  (RelPrim Nat8 EqOp)
+                  (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 4)))
+                  (LitE (Nat8Lit 33))
+                )
+                (LitE (BoolLit false))
+              )
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP ptr)
+          (PrimE (CallPrim) (VarE getDedupTable) (PrimE TupPrim))
+        )
+        (LetD
+          (VarP hashArray)
+          (SwitchE
+            (VarE ptr)
+            (case (OptP (VarP dedupTable)) (VarE dedupTable))
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  (VarP arr)
+                  (PrimE
+                    (CallPrim List)
+                    (VarE Array_tabulateVar)
+                    (PrimE
+                      TupPrim
+                      (VarE HASH_ARRAY_SIZE)
+                      (FuncE
+                        @anon-func-830.58
+                        Local
+                        Returns
+                        (params i)
+                        List
+                        (BlockE
+                          (VarD $next/1 ?List (LitE NullLit))
+                          (LetD (VarP $value/1) (LitE NullLit))
+                          (LetD (VarP $originalBlob/0) (LitE (BlobLit "")))
+                          (LetD (VarP $index/1) (LitE (NatLit 0)))
+                          (NewObjE
+                            Object
+                            (index $index/1)
+                            (originalBlob $originalBlob/0)
+                            (value $value/1)
+                            (next $next/1)
+                            {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD WildP (PrimE (CallPrim) (VarE setDedupTable) (VarE arr)))
+                (VarE arr)
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP dedupedBlobWeakRef)
+          (PrimE
+            (CallPrim)
+            (VarE getFromHashArray)
+            (PrimE TupPrim (VarE hashArray) (VarE b))
+          )
+        )
+        (LetD
+          (VarP result)
+          (SwitchE
+            (VarE dedupedBlobWeakRef)
+            (case
+              (OptP (VarP weakRef))
+              (BlockE
+                (LetD
+                  (VarP derefed)
+                  (PrimE
+                    (CallPrim Blob)
+                    (VarE weakGet)
+                    (PrimE (DotPrim ref) (VarE weakRef))
+                  )
+                )
+                (SwitchE
+                  (VarE derefed)
+                  (case (OptP (VarP derefed)) (VarE derefed))
+                  (case
+                    (LitP NullLit)
+                    (BlockE
+                      (LetD
+                        WildP
+                        (PrimE
+                          (CallPrim)
+                          (VarE addToHashArray)
+                          (PrimE TupPrim (VarE hashArray) (VarE b))
+                        )
+                      )
+                      (VarE b)
+                    )
+                  )
+                )
+              )
+            )
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  WildP
+                  (PrimE
+                    (CallPrim)
+                    (VarE addToHashArray)
+                    (PrimE TupPrim (VarE hashArray) (VarE b))
+                  )
+                )
+                (VarE b)
+              )
+            )
+          )
+        )
+        (VarE result)
+      )
+    )
+  )
+  (LetD
+    (VarP file$@prim)
+    (BlockE
+      (LetD (VarP Types) (NewObjE Module module {}))
+      (LetD
+        (VarP abs)
+        (FuncE abs Local Returns (params x) Nat (PrimE abs (VarE x)))
+      )
+      (LetD
+        (VarP shiftLeft)
+        (FuncE
+          shiftLeft
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE lsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP shiftRight)
+        (FuncE
+          shiftRight
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE rsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP idlHash)
+        (FuncE idlHash Local Returns (params x) Nat32 (PrimE idlHash (VarE x)))
+      )
+      (LetD
+        (VarP debugPrint)
+        (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+      )
+      (LetD
+        (VarP debugPrintNat)
+        (FuncE
+          debugPrintNat
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Nat) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintInt)
+        (FuncE
+          debugPrintInt
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Int) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintChar)
+        (FuncE
+          debugPrintChar
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE charToText) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP trap)
+        (FuncE trap Local Returns (params x) None (PrimE trap (VarE x)))
+      )
+      (LetD
+        (VarP rts_version)
+        (FuncE rts_version Local Returns Text (PrimE rts_version))
+      )
+      (LetD
+        (VarP rts_memory_size)
+        (FuncE rts_memory_size Local Returns Nat (PrimE rts_memory_size))
+      )
+      (LetD
+        (VarP rts_heap_size)
+        (FuncE rts_heap_size Local Returns Nat (PrimE rts_heap_size))
+      )
+      (LetD
+        (VarP rts_total_allocation)
+        (FuncE
+          rts_total_allocation
+          Local
+          Returns
+          Nat
+          (PrimE rts_total_allocation)
+        )
+      )
+      (LetD
+        (VarP rts_reclaimed)
+        (FuncE rts_reclaimed Local Returns Nat (PrimE rts_reclaimed))
+      )
+      (LetD
+        (VarP rts_max_live_size)
+        (FuncE rts_max_live_size Local Returns Nat (PrimE rts_max_live_size))
+      )
+      (LetD
+        (VarP rts_max_stack_size)
+        (FuncE rts_max_stack_size Local Returns Nat (PrimE rts_max_stack_size))
+      )
+      (LetD
+        (VarP rts_callback_table_count)
+        (FuncE
+          rts_callback_table_count
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_count)
+        )
+      )
+      (LetD
+        (VarP rts_callback_table_size)
+        (FuncE
+          rts_callback_table_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_size)
+        )
+      )
+      (LetD
+        (VarP rts_mutator_instructions)
+        (FuncE
+          rts_mutator_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_mutator_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_collector_instructions)
+        (FuncE
+          rts_collector_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_collector_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_lifetime_instructions)
+        (FuncE
+          rts_lifetime_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_lifetime_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_upgrade_instructions)
+        (FuncE
+          rts_upgrade_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_upgrade_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_stable_memory_size)
+        (FuncE
+          rts_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP rts_logical_stable_memory_size)
+        (FuncE
+          rts_logical_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_logical_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP allocWeakRef)
+        (FuncE
+          allocWeakRef
+          Local
+          Returns
+          (T Any)
+          (params obj)
+          weak T
+          (PrimE alloc_weak_ref (VarE obj))
+        )
+      )
+      (LetD
+        (VarP weakGet)
+        (FuncE
+          weakGet
+          Local
+          Returns
+          (T Any)
+          (params w)
+          ?T
+          (PrimE weak_get (VarE w))
+        )
+      )
+      (LetD
+        (VarP isLive)
+        (FuncE
+          isLive
+          Local
+          Returns
+          (params weak_ref)
+          Bool
+          (PrimE weak_ref_is_live (VarE weak_ref))
+        )
+      )
+      (LetD
+        (VarP envVarNames)
+        (FuncE envVarNames Local Returns ($ Any) [Text] (PrimE env_var_names))
+      )
+      (LetD
+        (VarP envVar)
+        (FuncE
+          envVar
+          Local
+          Returns
+          ($ Any)
+          (params name)
+          ?Text
+          (PrimE env_var (VarE name))
+        )
+      )
+      (LetD
+        (VarP __getDedupTable)
+        (FuncE
+          __getDedupTable
+          Local
+          Returns
+          ?[var __List]
+          (PrimE get_dedup_table)
+        )
+      )
+      (LetD
+        (VarP BlobIterator)
+        (FuncE
+          BlobIterator
+          Local
+          Returns
+          (params hash)
+          {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+          (BlockE
+            (LetD
+              (VarP @anon-object-138.41)
+              (BlockE
+                (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+                (VarD currentIndex Nat (LitE (NatLit 0)))
+                (VarD currentList ?__List (LitE NullLit))
+                (LetD (VarP hashArray) (VarE hash))
+                (LetD
+                  (VarP size)
+                  (FuncE
+                    size
+                    Local
+                    Returns
+                    Nat
+                    (BlockE
+                      (VarD len Nat (LitE (NatLit 0)))
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LetD
+                        WildP
+                        (LabelE
+                          $done/0
+                          ()
+                          (LoopE
+                            (IfE
+                              (PrimE
+                                (RelPrim Nat LtOp)
+                                (VarE! i)
+                                (VarE HASH_ARRAY_SIZE)
+                              )
+                              (BlockE
+                                (VarD
+                                  list
+                                  {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                  (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                                )
+                                (LetD
+                                  WildP
+                                  (LabelE
+                                    countLoop
+                                    ()
+                                    (LoopE
+                                      (LabelE
+                                        continue countLoop
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (VarP weakRef)
+                                            (PrimE (DotPrim value) (VarE! list))
+                                          )
+                                          (LetD
+                                            WildP
+                                            (SwitchE
+                                              (VarE weakRef)
+                                              (case
+                                                (OptP (VarP weakRef))
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP deref)
+                                                    (PrimE
+                                                      (CallPrim Blob)
+                                                      (VarE weakGet)
+                                                      (PrimE
+                                                        (DotPrim ref)
+                                                        (VarE weakRef)
+                                                      )
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (VarE deref)
+                                                    (case
+                                                      (OptP (VarP deref))
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (LitP NullLit)
+                                                      (AssignE
+                                                        (VarLE len)
+                                                        (PrimE
+                                                          (BinPrim Nat AddOp)
+                                                          (VarE! len)
+                                                          (LitE (NatLit 1))
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            (VarP next)
+                                            (PrimE (DotPrim next) (VarE! list))
+                                          )
+                                          (SwitchE
+                                            (VarE next)
+                                            (case
+                                              (OptP (VarP next))
+                                              (AssignE (VarLE list) (VarE next))
+                                            )
+                                            (case
+                                              (LitP NullLit)
+                                              (PrimE
+                                                (BreakPrim countLoop)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (AssignE
+                                  (VarLE i)
+                                  (PrimE
+                                    (BinPrim Nat AddOp)
+                                    (VarE! i)
+                                    (LitE (NatLit 1))
+                                  )
+                                )
+                              )
+                              (PrimE (BreakPrim $done/0) (PrimE TupPrim))
+                            )
+                          )
+                        )
+                      )
+                      (VarE! len)
+                    )
+                  )
+                )
+                (LetD
+                  (VarP getDeadBlobFromListNode)
+                  (FuncE
+                    getDeadBlobFromListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?Blob
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP myList))
+                        (BlockE
+                          (LetD
+                            (VarP weakRef)
+                            (PrimE (DotPrim value) (VarE myList))
+                          )
+                          (SwitchE
+                            (VarE weakRef)
+                            (case
+                              (OptP (VarP weakRef))
+                              (BlockE
+                                (LetD
+                                  (VarP deref)
+                                  (PrimE
+                                    (CallPrim Blob)
+                                    (VarE weakGet)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                                (SwitchE
+                                  (VarE deref)
+                                  (case
+                                    (OptP (VarP deref))
+                                    (PrimE RetPrim (LitE NullLit))
+                                  )
+                                  (case
+                                    (LitP NullLit)
+                                    (PrimE
+                                      RetPrim
+                                      (PrimE
+                                        OptPrim
+                                        (PrimE
+                                          (DotPrim originalBlob)
+                                          (VarE myList)
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                          )
+                        )
+                      )
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP advanceListNode)
+                  (FuncE
+                    advanceListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?__List
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP list))
+                        (PrimE (DotPrim next) (VarE list))
+                      )
+                      (case (LitP NullLit) (LitE NullLit))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP nextDeadBlob)
+                  (FuncE
+                    nextDeadBlob
+                    Local
+                    Returns
+                    Blob
+                    (BlockE
+                      (LetD
+                        WildP
+                        (LoopE
+                          (BlockE
+                            (LetD
+                              (VarP blob)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getDeadBlobFromListNode)
+                                (VarE! currentList)
+                              )
+                            )
+                            (SwitchE
+                              (VarE blob)
+                              (case
+                                (OptP (VarP blob))
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (PrimE RetPrim (VarE blob))
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (SwitchE
+                                    (VarE! currentList)
+                                    (case (OptP WildP) (PrimE TupPrim))
+                                    (case
+                                      (LitP NullLit)
+                                      (BlockE
+                                        (LetD
+                                          WildP
+                                          (AssignE
+                                            (VarLE currentIndex)
+                                            (PrimE
+                                              (BinPrim Nat AddOp)
+                                              (VarE! currentIndex)
+                                              (LitE (NatLit 1))
+                                            )
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (IfE
+                                            (PrimE
+                                              (RelPrim Nat GeOp)
+                                              (VarE! currentIndex)
+                                              (VarE HASH_ARRAY_SIZE)
+                                            )
+                                            (PrimE RetPrim (LitE (BlobLit "")))
+                                            (PrimE TupPrim)
+                                          )
+                                        )
+                                        (AssignE
+                                          (VarLE currentList)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE
+                                              IdxPrim
+                                              (VarE hashArray)
+                                              (VarE! currentIndex)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LitE (BlobLit ""))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP computeIndex)
+                  (FuncE
+                    computeIndex
+                    Local
+                    Returns
+                    (params b)
+                    Nat
+                    (BlockE
+                      (LetD
+                        (VarP magicBytes)
+                        (PrimE
+                          (ArrayPrim Const Nat8)
+                          (LitE (Nat8Lit 33))
+                          (LitE (Nat8Lit 99))
+                          (LitE (Nat8Lit 97))
+                          (LitE (Nat8Lit 102))
+                          (LitE (Nat8Lit 33))
+                        )
+                      )
+                      (LetD
+                        (VarP originalBlob)
+                        (PrimE (CallPrim) (VarE blobToArray) (VarE b))
+                      )
+                      (LetD
+                        (VarP concat)
+                        (PrimE
+                          (CallPrim Nat8)
+                          (VarE Array_tabulate)
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (PrimE array_len (VarE magicBytes))
+                              (PrimE array_len (VarE originalBlob))
+                            )
+                            (FuncE
+                              @anon-func-240.74
+                              Local
+                              Returns
+                              (params i)
+                              Nat8
+                              (IfE
+                                (PrimE
+                                  (RelPrim Nat LtOp)
+                                  (VarE i)
+                                  (PrimE array_len (VarE magicBytes))
+                                )
+                                (PrimE IdxPrim (VarE magicBytes) (VarE i))
+                                (PrimE
+                                  IdxPrim
+                                  (VarE originalBlob)
+                                  (PrimE
+                                    (BinPrim Nat SubOp)
+                                    (VarE i)
+                                    (PrimE array_len (VarE magicBytes))
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP bWithMagic)
+                        (PrimE (CallPrim) (VarE arrayToBlob) (VarE concat))
+                      )
+                      (LetD
+                        (VarP hashValue)
+                        (PrimE (CallPrim) (VarE hashBlob) (VarE bWithMagic))
+                      )
+                      (PrimE
+                        (BinPrim Nat ModOp)
+                        (PrimE (CallPrim) (VarE nat32ToNat) (VarE hashValue))
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP isBlobLive)
+                  (FuncE
+                    isBlobLive
+                    Local
+                    Returns
+                    (params b)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP index)
+                        (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                      )
+                      (VarD
+                        list
+                        {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                        (PrimE IdxPrim (VarE hashArray) (VarE index))
+                      )
+                      (LoopE
+                        (IfE
+                          (PrimE
+                            (RelPrim Int8 EqOp)
+                            (PrimE
+                              (CallPrim)
+                              (VarE blobCompare)
+                              (PrimE
+                                TupPrim
+                                (PrimE (DotPrim originalBlob) (VarE! list))
+                                (VarE b)
+                              )
+                            )
+                            (LitE (Int8Lit 0))
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP weakRef)
+                              (PrimE (DotPrim value) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE weakRef)
+                              (case
+                                (OptP (VarP weakRef))
+                                (PrimE
+                                  RetPrim
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE isLive)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP next)
+                              (PrimE (DotPrim next) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE next)
+                              (case
+                                (OptP (VarP next))
+                                (AssignE (VarLE list) (VarE next))
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneFirstElement)
+                  (FuncE
+                    pruneFirstElement
+                    Local
+                    Returns
+                    (params list b index)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP deadBlob)
+                        (PrimE
+                          (CallPrim)
+                          (VarE getDeadBlobFromListNode)
+                          (PrimE OptPrim (VarE list))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (SwitchE
+                          (VarE deadBlob)
+                          (case
+                            (OptP (VarP deadBlob))
+                            (IfE
+                              (PrimE
+                                (RelPrim Int8 EqOp)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE blobCompare)
+                                  (PrimE TupPrim (VarE deadBlob) (VarE b))
+                                )
+                                (LitE (Int8Lit 0))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP nextElem)
+                                  (PrimE (DotPrim next) (VarE list))
+                                )
+                                (SwitchE
+                                  (VarE nextElem)
+                                  (case
+                                    (OptP (VarP next))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE (VarE hashArray) (VarE index))
+                                          (VarE next)
+                                        )
+                                      )
+                                      (PrimE RetPrim (LitE (BoolLit true)))
+                                    )
+                                  )
+                                  (case (LitP NullLit) (PrimE TupPrim))
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                          )
+                          (case (LitP NullLit) (PrimE TupPrim))
+                        )
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneDeadBlobs)
+                  (FuncE
+                    pruneDeadBlobs
+                    Local
+                    Returns
+                    (params confirmedDeadBlobs)
+                    ()
+                    (BlockE
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LabelE
+                        $done/1
+                        ()
+                        (LoopE
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat LtOp)
+                              (VarE! i)
+                              (PrimE array_len (VarE confirmedDeadBlobs))
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP b)
+                                (PrimE
+                                  IdxPrim
+                                  (VarE confirmedDeadBlobs)
+                                  (VarE! i)
+                                )
+                              )
+                              (LetD
+                                (VarP index)
+                                (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                              )
+                              (LetD
+                                (VarP list)
+                                (PrimE IdxPrim (VarE hashArray) (VarE index))
+                              )
+                              (LetD
+                                (VarP pruned)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE pruneFirstElement)
+                                  (PrimE
+                                    TupPrim
+                                    (VarE list)
+                                    (VarE b)
+                                    (VarE index)
+                                  )
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (IfE
+                                  (PrimE
+                                    (RelPrim Bool EqOp)
+                                    (VarE pruned)
+                                    (LitE (BoolLit false))
+                                  )
+                                  (BlockE
+                                    (VarD
+                                      prev
+                                      ?{index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                      (PrimE OptPrim (VarE list))
+                                    )
+                                    (VarD
+                                      crntNode
+                                      ?__List
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (PrimE OptPrim (VarE list))
+                                      )
+                                    )
+                                    (LabelE
+                                      findLoop
+                                      ()
+                                      (LoopE
+                                        (LabelE
+                                          continue findLoop
+                                          ()
+                                          (BlockE
+                                            (LetD
+                                              (VarP crntBlob)
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE getDeadBlobFromListNode)
+                                                (VarE! crntNode)
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (SwitchE
+                                                (VarE crntBlob)
+                                                (case
+                                                  (OptP (VarP crntBlob))
+                                                  (IfE
+                                                    (PrimE
+                                                      (RelPrim Int8 EqOp)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE blobCompare)
+                                                        (PrimE
+                                                          TupPrim
+                                                          (VarE crntBlob)
+                                                          (VarE b)
+                                                        )
+                                                      )
+                                                      (LitE (Int8Lit 0))
+                                                    )
+                                                    (SwitchE
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE! prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                      (case
+                                                        (TupP
+                                                          (OptP (VarP prev))
+                                                          (OptP (VarP crntNode))
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (AssignE
+                                                              (DotLE
+                                                                (VarE prev)
+                                                                next
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim next)
+                                                                (VarE crntNode)
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (BreakPrim findLoop)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                      (case
+                                                        WildP
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                                (case
+                                                  (LitP NullLit)
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (AssignE
+                                                        (VarLE prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                    (AssignE
+                                                      (VarLE crntNode)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE advanceListNode)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (SwitchE
+                                              (VarE! crntNode)
+                                              (case
+                                                (OptP (VarP crntNode))
+                                                (PrimE TupPrim)
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE
+                                                  (BreakPrim findLoop)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (AssignE
+                                (VarLE i)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! i)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE (BreakPrim $done/1) (PrimE TupPrim))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (NewObjE
+                  Object
+                  (size size)
+                  (pruneDeadBlobs pruneDeadBlobs)
+                  (nextDeadBlob nextDeadBlob)
+                  (isBlobLive isBlobLive)
+                  {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+                )
+              )
+            )
+            (VarE @anon-object-138.41)
+          )
+        )
+      )
+      (LetD
+        (VarP getDeadBlobs)
+        (FuncE
+          getDeadBlobs
+          Local
+          Returns
+          ?[Blob]
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (LetD
+                    (VarP numDeadBlobs)
+                    (PrimE
+                      (CallPrim)
+                      (PrimE (DotPrim size) (VarE dedupTableIter))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    (VarP deadBlobs)
+                    (PrimE
+                      (CallPrim Blob)
+                      (VarE Array_tabulate)
+                      (PrimE
+                        TupPrim
+                        (VarE numDeadBlobs)
+                        (FuncE
+                          @anon-func-355.58
+                          Local
+                          Returns
+                          (params i)
+                          Blob
+                          (PrimE
+                            (CallPrim)
+                            (PrimE (DotPrim nextDeadBlob) (VarE dedupTableIter))
+                            (PrimE TupPrim)
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE RetPrim (PrimE OptPrim (VarE deadBlobs)))
+                )
+              )
+              (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP pruneConfirmedDeadBlobs)
+        (FuncE
+          pruneConfirmedDeadBlobs
+          Local
+          Returns
+          (params confirmedDeadBlobs)
+          ()
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim pruneDeadBlobs) (VarE dedupTableIter))
+                    (VarE confirmedDeadBlobs)
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP isStorageBlobLive)
+        (FuncE
+          isStorageBlobLive
+          Local
+          Returns
+          (params b)
+          Bool
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP iter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim isBlobLive) (VarE iter))
+                    (VarE b)
+                  )
+                )
+              )
+              (case (LitP NullLit) (LitE (BoolLit false)))
+            )
+          )
+        )
+      )
+      (LetD (VarP int64ToInt) (VarE @int64ToInt))
+      (LetD (VarP int32ToInt) (VarE @int32ToInt))
+      (LetD (VarP int16ToInt) (VarE @int16ToInt))
+      (LetD (VarP int8ToInt) (VarE @int8ToInt))
+      (LetD (VarP nat64ToNat) (VarE @nat64ToNat))
+      (LetD (VarP nat32ToNat) (VarE @nat32ToNat))
+      (LetD (VarP nat16ToNat) (VarE @nat16ToNat))
+      (LetD (VarP nat8ToNat) (VarE @nat8ToNat))
+      (LetD
+        (VarP intToInt64)
+        (FuncE
+          intToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32)
+        (FuncE
+          intToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16)
+        (FuncE
+          intToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8)
+        (FuncE
+          intToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat64)
+        (FuncE
+          natToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat32)
+        (FuncE
+          natToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat16)
+        (FuncE
+          natToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat8)
+        (FuncE
+          natToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt64Wrap)
+        (FuncE
+          intToInt64Wrap
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32Wrap)
+        (FuncE
+          intToInt32Wrap
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16Wrap)
+        (FuncE
+          intToInt16Wrap
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8Wrap)
+        (FuncE
+          intToInt8Wrap
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat64Wrap)
+        (FuncE
+          intToNat64Wrap
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat32Wrap)
+        (FuncE
+          intToNat32Wrap
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat16Wrap)
+        (FuncE
+          intToNat16Wrap
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat8Wrap)
+        (FuncE
+          intToNat8Wrap
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToNat64)
+        (FuncE
+          int64ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int64 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToInt64)
+        (FuncE
+          nat64ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Nat64 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToNat32)
+        (FuncE
+          int32ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int32 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToInt32)
+        (FuncE
+          nat32ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Nat32 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToNat16)
+        (FuncE
+          int16ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int16 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToInt16)
+        (FuncE
+          nat16ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Nat16 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToNat8)
+        (FuncE
+          int8ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int8 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToInt8)
+        (FuncE
+          nat8ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Nat8 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToNat16)
+        (FuncE
+          nat8ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat8 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat32)
+        (FuncE
+          nat16ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat16 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat64)
+        (FuncE
+          nat32ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat32 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToNat32)
+        (FuncE
+          nat64ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat64 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat16)
+        (FuncE
+          nat32ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat32 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat8)
+        (FuncE
+          nat16ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat16 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToInt16)
+        (FuncE
+          int8ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int8 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt32)
+        (FuncE
+          int16ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int16 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt64)
+        (FuncE
+          int32ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int32 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToInt32)
+        (FuncE
+          int64ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int64 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt16)
+        (FuncE
+          int32ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int32 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt8)
+        (FuncE
+          int16ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int16 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat16)
+        (FuncE
+          explodeNat16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Nat16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt16)
+        (FuncE
+          explodeInt16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Int16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat32)
+        (FuncE
+          explodeNat32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt32)
+        (FuncE
+          explodeInt32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat64)
+        (FuncE
+          explodeNat64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt64)
+        (FuncE
+          explodeInt64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP charToNat32)
+        (FuncE
+          charToNat32
+          Local
+          Returns
+          (params c)
+          Nat32
+          (PrimE (NumConvWrapPrim Char Nat32) (VarE c))
+        )
+      )
+      (LetD
+        (VarP nat32ToChar)
+        (FuncE
+          nat32ToChar
+          Local
+          Returns
+          (params w)
+          Char
+          (PrimE (NumConvTrapPrim Nat32 Char) (VarE w))
+        )
+      )
+      (LetD
+        (VarP charToText)
+        (FuncE
+          charToText
+          Local
+          Returns
+          (params c)
+          Text
+          (PrimE conv_Char_Text (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToUpper)
+        (FuncE
+          charToUpper
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_upper (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToLower)
+        (FuncE
+          charToLower
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_lower (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsWhitespace)
+        (FuncE
+          charIsWhitespace
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_whitespace (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsLowercase)
+        (FuncE
+          charIsLowercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_lowercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsUppercase)
+        (FuncE
+          charIsUppercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_uppercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsAlphabetic)
+        (FuncE
+          charIsAlphabetic
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_alphabetic (VarE c))
+        )
+      )
+      (LetD
+        (VarP blobCompare)
+        (FuncE
+          blobCompare
+          Local
+          Returns
+          (params b1 b2)
+          Int8
+          (PrimE blob_compare (VarE b1) (VarE b2))
+        )
+      )
+      (LetD
+        (VarP hashBlob)
+        (FuncE
+          hashBlob
+          Local
+          Returns
+          (params b)
+          Nat32
+          (PrimE crc32Hash (VarE b))
+        )
+      )
+      (LetD
+        (VarP decodeUtf8)
+        (FuncE
+          decodeUtf8
+          Local
+          Returns
+          (params b)
+          ?Text
+          (PrimE DecodeUtf8 (VarE b))
+        )
+      )
+      (LetD
+        (VarP encodeUtf8)
+        (FuncE
+          encodeUtf8
+          Local
+          Returns
+          (params t)
+          Blob
+          (PrimE EncodeUtf8 (VarE t))
+        )
+      )
+      (LetD
+        (VarP textCompare)
+        (FuncE
+          textCompare
+          Local
+          Returns
+          (params t1 t2)
+          Int8
+          (PrimE text_compare (VarE t1) (VarE t2))
+        )
+      )
+      (LetD
+        (VarP textLowercase)
+        (FuncE
+          textLowercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_lowercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP textUppercase)
+        (FuncE
+          textUppercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_uppercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP popcntNat8)
+        (FuncE
+          popcntNat8
+          Local
+          Returns
+          (params w)
+          Nat8
+          (PrimE popcnt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat8)
+        (FuncE clzNat8 Local Returns (params w) Nat8 (PrimE clz8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat8)
+        (FuncE ctzNat8 Local Returns (params w) Nat8 (PrimE ctz8 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat8)
+        (FuncE
+          btstNat8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat8 EqOp)
+              (PrimE btst8 (VarE w) (VarE amount))
+              (LitE (Nat8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat16)
+        (FuncE
+          popcntNat16
+          Local
+          Returns
+          (params w)
+          Nat16
+          (PrimE popcnt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat16)
+        (FuncE clzNat16 Local Returns (params w) Nat16 (PrimE clz16 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat16)
+        (FuncE ctzNat16 Local Returns (params w) Nat16 (PrimE ctz16 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat16)
+        (FuncE
+          btstNat16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat16 EqOp)
+              (PrimE btst16 (VarE w) (VarE amount))
+              (LitE (Nat16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat32)
+        (FuncE
+          popcntNat32
+          Local
+          Returns
+          (params w)
+          Nat32
+          (PrimE popcnt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat32)
+        (FuncE clzNat32 Local Returns (params w) Nat32 (PrimE clz32 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat32)
+        (FuncE ctzNat32 Local Returns (params w) Nat32 (PrimE ctz32 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat32)
+        (FuncE
+          btstNat32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat32 EqOp)
+              (PrimE btst32 (VarE w) (VarE amount))
+              (LitE (Nat32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat64)
+        (FuncE
+          popcntNat64
+          Local
+          Returns
+          (params w)
+          Nat64
+          (PrimE popcnt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat64)
+        (FuncE clzNat64 Local Returns (params w) Nat64 (PrimE clz64 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat64)
+        (FuncE ctzNat64 Local Returns (params w) Nat64 (PrimE ctz64 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat64)
+        (FuncE
+          btstNat64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE btst64 (VarE w) (VarE amount))
+              (LitE (Nat64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt8)
+        (FuncE
+          popcntInt8
+          Local
+          Returns
+          (params w)
+          Int8
+          (PrimE popcntInt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt8)
+        (FuncE clzInt8 Local Returns (params w) Int8 (PrimE clzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzInt8)
+        (FuncE ctzInt8 Local Returns (params w) Int8 (PrimE ctzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP btstInt8)
+        (FuncE
+          btstInt8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int8 EqOp)
+              (PrimE btstInt8 (VarE w) (VarE amount))
+              (LitE (Int8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt16)
+        (FuncE
+          popcntInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE popcntInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt16)
+        (FuncE
+          clzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE clzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt16)
+        (FuncE
+          ctzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE ctzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt16)
+        (FuncE
+          btstInt16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int16 EqOp)
+              (PrimE btstInt16 (VarE w) (VarE amount))
+              (LitE (Int16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt32)
+        (FuncE
+          popcntInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE popcntInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt32)
+        (FuncE
+          clzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE clzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt32)
+        (FuncE
+          ctzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE ctzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt32)
+        (FuncE
+          btstInt32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int32 EqOp)
+              (PrimE btstInt32 (VarE w) (VarE amount))
+              (LitE (Int32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt64)
+        (FuncE
+          popcntInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE popcntInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt64)
+        (FuncE
+          clzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE clzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt64)
+        (FuncE
+          ctzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE ctzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt64)
+        (FuncE
+          btstInt64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int64 EqOp)
+              (PrimE btstInt64 (VarE w) (VarE amount))
+              (LitE (Int64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP floatAbs)
+        (FuncE floatAbs Local Returns (params f) Float (PrimE fabs (VarE f)))
+      )
+      (LetD
+        (VarP floatSqrt)
+        (FuncE floatSqrt Local Returns (params f) Float (PrimE fsqrt (VarE f)))
+      )
+      (LetD
+        (VarP floatCeil)
+        (FuncE floatCeil Local Returns (params f) Float (PrimE fceil (VarE f)))
+      )
+      (LetD
+        (VarP floatFloor)
+        (FuncE
+          floatFloor
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ffloor (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatTrunc)
+        (FuncE
+          floatTrunc
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ftrunc (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatNearest)
+        (FuncE
+          floatNearest
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE fnearest (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatMin)
+        (FuncE
+          floatMin
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmin (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatMax)
+        (FuncE
+          floatMax
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmax (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatCopySign)
+        (FuncE
+          floatCopySign
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fcopysign (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatToInt)
+        (FuncE
+          floatToInt
+          Local
+          Returns
+          (params f)
+          Int
+          (PrimE (NumConvTrapPrim Float Int) (VarE f))
+        )
+      )
+      (LetD
+        (VarP intToFloat)
+        (FuncE
+          intToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int Float) (VarE n))
+        )
+      )
+      (LetD
+        (VarP floatToInt64)
+        (FuncE
+          floatToInt64
+          Local
+          Returns
+          (params f)
+          Int64
+          (PrimE (NumConvTrapPrim Float Int64) (VarE f))
+        )
+      )
+      (LetD
+        (VarP int64ToFloat)
+        (FuncE
+          int64ToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int64 Float) (VarE n))
+        )
+      )
+      (LetD (VarP floatToText) (VarE @text_of_Float))
+      (LetD
+        (VarP floatToFormattedText)
+        (FuncE
+          floatToFormattedText
+          Local
+          Returns
+          (params f prec mode)
+          Text
+          (PrimE fmtFloat->Text (VarE f) (VarE prec) (VarE mode))
+        )
+      )
+      (LetD
+        (VarP sin)
+        (FuncE sin Local Returns (params f) Float (PrimE fsin (VarE f)))
+      )
+      (LetD
+        (VarP cos)
+        (FuncE cos Local Returns (params f) Float (PrimE fcos (VarE f)))
+      )
+      (LetD
+        (VarP tan)
+        (FuncE tan Local Returns (params f) Float (PrimE ftan (VarE f)))
+      )
+      (LetD
+        (VarP arcsin)
+        (FuncE arcsin Local Returns (params f) Float (PrimE fasin (VarE f)))
+      )
+      (LetD
+        (VarP arccos)
+        (FuncE arccos Local Returns (params f) Float (PrimE facos (VarE f)))
+      )
+      (LetD
+        (VarP arctan)
+        (FuncE arctan Local Returns (params f) Float (PrimE fatan (VarE f)))
+      )
+      (LetD
+        (VarP arctan2)
+        (FuncE
+          arctan2
+          Local
+          Returns
+          (params y x)
+          Float
+          (PrimE fatan2 (VarE y) (VarE x))
+        )
+      )
+      (LetD
+        (VarP exp)
+        (FuncE exp Local Returns (params f) Float (PrimE fexp (VarE f)))
+      )
+      (LetD
+        (VarP log)
+        (FuncE log Local Returns (params f) Float (PrimE flog (VarE f)))
+      )
+      (LetD
+        (VarP Array_init)
+        (FuncE
+          Array_init
+          Local
+          Returns
+          (T Any)
+          (params len x)
+          [var T]
+          (PrimE Array.init (VarE len) (VarE x))
+        )
+      )
+      (LetD
+        (VarP Array_tabulate)
+        (FuncE
+          Array_tabulate
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [T]
+          (PrimE Array.tabulate (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP Array_tabulateVar)
+        (FuncE
+          Array_tabulateVar
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [var T]
+          (PrimE Array.tabulateVar (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP blobToArray)
+        (FuncE
+          blobToArray
+          Local
+          Returns
+          (params b)
+          [Nat8]
+          (PrimE blobToArray (VarE b))
+        )
+      )
+      (LetD
+        (VarP blobToArrayMut)
+        (FuncE
+          blobToArrayMut
+          Local
+          Returns
+          (params b)
+          [var Nat8]
+          (PrimE blobToArrayMut (VarE b))
+        )
+      )
+      (LetD
+        (VarP arrayToBlob)
+        (FuncE
+          arrayToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP arrayMutToBlob)
+        (FuncE
+          arrayMutToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayMutToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP error)
+        (FuncE
+          error
+          Local
+          Returns
+          (params message)
+          Error
+          (BlockE
+            (LetD
+              (VarP e)
+              (PrimE
+                TupPrim
+                (PrimE (TagE canister_reject) (PrimE TupPrim))
+                (VarE message)
+              )
+            )
+            (PrimE (CastPrim (ErrorCode, Text) Error) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorCode)
+        (FuncE
+          errorCode
+          Local
+          Returns
+          (params e)
+          ErrorCode
+          (PrimE
+            (ProjPrim 0)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorMessage)
+        (FuncE
+          errorMessage
+          Local
+          Returns
+          (params e)
+          Text
+          (PrimE
+            (ProjPrim 1)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP replyDeadline)
+        (FuncE replyDeadline Local Returns Nat64 (PrimE ICReplyDeadlinePrim))
+      )
+      (LetD (VarP time) (FuncE time Local Returns Nat64 (PrimE SystemTimePrim)))
+      (LetD
+        (VarP blobOfPrincipal)
+        (FuncE
+          blobOfPrincipal
+          Local
+          Returns
+          (params id)
+          Blob
+          (PrimE blobOfPrincipal (VarE id))
+        )
+      )
+      (LetD
+        (VarP principalOfBlob)
+        (FuncE
+          principalOfBlob
+          Local
+          Returns
+          (params act)
+          Principal
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE
+                  (RelPrim Nat GtOp)
+                  (PrimE blob_size (VarE act))
+                  (LitE (NatLit 29))
+                )
+                (PrimE
+                  (CallPrim)
+                  (VarE trap)
+                  (LitE (TextLit blob too long for principal))
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (PrimE principalOfBlob (VarE act))
+          )
+        )
+      )
+      (LetD
+        (VarP principalOfActor)
+        (FuncE
+          principalOfActor
+          Local
+          Returns
+          (params act)
+          Principal
+          (PrimE principalOfActor (VarE act))
+        )
+      )
+      (LetD
+        (VarP isController)
+        (FuncE
+          isController
+          Local
+          Returns
+          (params p)
+          Bool
+          (PrimE is_controller (VarE p))
+        )
+      )
+      (LetD
+        (VarP isReplicatedExecution)
+        (FuncE
+          isReplicatedExecution
+          Local
+          Returns
+          Bool
+          (PrimE replicated_execution)
+        )
+      )
+      (LetD
+        (VarP canisterVersion)
+        (FuncE canisterVersion Local Returns Nat64 (PrimE canister_version))
+      )
+      (LetD
+        (VarP canisterSubnet)
+        (FuncE canisterSubnet Local Returns Principal (PrimE canister_subnet))
+      )
+      (LetD (VarP rootKey) (FuncE rootKey Local Returns Blob (PrimE root_key)))
+      (LetD
+        (VarP getSelfPrincipal)
+        (FuncE
+          getSelfPrincipal
+          Local
+          Returns
+          ($ Any)
+          Principal
+          (PrimE canister_self)
+        )
+      )
+      (LetD (VarP createActor) (VarE @create_actor_helper))
+      (LetD
+        (VarP cyclesBalance)
+        (FuncE cyclesBalance Local Returns Nat (PrimE SystemCyclesBalancePrim))
+      )
+      (LetD
+        (VarP cyclesAvailable)
+        (FuncE
+          cyclesAvailable
+          Local
+          Returns
+          Nat
+          (PrimE SystemCyclesAvailablePrim)
+        )
+      )
+      (LetD
+        (VarP cyclesRefunded)
+        (FuncE cyclesRefunded Local Returns Nat (VarE! @refund))
+      )
+      (LetD
+        (VarP cyclesAccept)
+        (FuncE
+          cyclesAccept
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesAcceptPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP cyclesAdd)
+        (FuncE
+          cyclesAdd
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          ()
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat EqOp) (VarE amount) (LitE (NatLit 0)))
+                (PrimE RetPrim (PrimE TupPrim))
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              WildP
+              (AssignE
+                (VarLE @cycles)
+                (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE amount))
+              )
+            )
+            (IfE
+              (PrimE
+                (RelPrim Nat GtOp)
+                (VarE! @cycles)
+                (LitE
+                  (NatLit 340_282_366_920_938_463_463_374_607_431_768_211_455)
+                )
+              )
+              (PrimE
+                (CallPrim)
+                (VarE trap)
+                (LitE (TextLit cannot add more than 2^128 cycles))
+              )
+              (PrimE TupPrim)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP cyclesBurn)
+        (FuncE
+          cyclesBurn
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesBurnPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP costCall)
+        (FuncE
+          costCall
+          Local
+          Returns
+          (params methodNameSize payloadSize)
+          Nat
+          (PrimE costCall (VarE methodNameSize) (VarE payloadSize))
+        )
+      )
+      (LetD
+        (VarP costCreateCanister)
+        (FuncE costCreateCanister Local Returns Nat (PrimE costCreateCanister))
+      )
+      (LetD
+        (VarP costHttpRequest)
+        (FuncE
+          costHttpRequest
+          Local
+          Returns
+          (params requestSize maxResBytes)
+          Nat
+          (PrimE costHttpRequest (VarE requestSize) (VarE maxResBytes))
+        )
+      )
+      (LetD
+        (VarP costSignWithEcdsa)
+        (FuncE
+          costSignWithEcdsa
+          Local
+          Returns
+          (params keyName curveEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithEcdsa (VarE keyName) (VarE curveEncoding))
+        )
+      )
+      (LetD
+        (VarP costSignWithSchnorr)
+        (FuncE
+          costSignWithSchnorr
+          Local
+          Returns
+          (params keyName algorithmEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithSchnorr (VarE keyName) (VarE algorithmEncoding))
+        )
+      )
+      (LetD
+        (VarP setCertifiedData)
+        (FuncE
+          setCertifiedData
+          Local
+          Returns
+          (params data)
+          ()
+          (PrimE SetCertifiedData (VarE data))
+        )
+      )
+      (LetD
+        (VarP getCertificate)
+        (FuncE getCertificate Local Returns ?Blob (PrimE GetCertificate))
+      )
+      (LetD
+        (VarP stableMemorySize)
+        (FuncE stableMemorySize Local Returns Nat64 (PrimE stableMemorySize))
+      )
+      (LetD
+        (VarP stableMemoryGrow)
+        (FuncE
+          stableMemoryGrow
+          Local
+          Returns
+          (params pages)
+          Nat64
+          (PrimE stableMemoryGrow (VarE pages))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat32)
+        (FuncE
+          stableMemoryLoadNat32
+          Local
+          Returns
+          (params offset)
+          Nat32
+          (PrimE stableMemoryLoadNat32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat32)
+        (FuncE
+          stableMemoryStoreNat32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat8)
+        (FuncE
+          stableMemoryLoadNat8
+          Local
+          Returns
+          (params offset)
+          Nat8
+          (PrimE stableMemoryLoadNat8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat8)
+        (FuncE
+          stableMemoryStoreNat8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat16)
+        (FuncE
+          stableMemoryLoadNat16
+          Local
+          Returns
+          (params offset)
+          Nat16
+          (PrimE stableMemoryLoadNat16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat16)
+        (FuncE
+          stableMemoryStoreNat16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat64)
+        (FuncE
+          stableMemoryLoadNat64
+          Local
+          Returns
+          (params offset)
+          Nat64
+          (PrimE stableMemoryLoadNat64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat64)
+        (FuncE
+          stableMemoryStoreNat64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt32)
+        (FuncE
+          stableMemoryLoadInt32
+          Local
+          Returns
+          (params offset)
+          Int32
+          (PrimE stableMemoryLoadInt32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt32)
+        (FuncE
+          stableMemoryStoreInt32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt8)
+        (FuncE
+          stableMemoryLoadInt8
+          Local
+          Returns
+          (params offset)
+          Int8
+          (PrimE stableMemoryLoadInt8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt8)
+        (FuncE
+          stableMemoryStoreInt8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt16)
+        (FuncE
+          stableMemoryLoadInt16
+          Local
+          Returns
+          (params offset)
+          Int16
+          (PrimE stableMemoryLoadInt16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt16)
+        (FuncE
+          stableMemoryStoreInt16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt64)
+        (FuncE
+          stableMemoryLoadInt64
+          Local
+          Returns
+          (params offset)
+          Int64
+          (PrimE stableMemoryLoadInt64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt64)
+        (FuncE
+          stableMemoryStoreInt64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadFloat)
+        (FuncE
+          stableMemoryLoadFloat
+          Local
+          Returns
+          (params offset)
+          Float
+          (PrimE stableMemoryLoadFloat (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreFloat)
+        (FuncE
+          stableMemoryStoreFloat
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreFloat (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadBlob)
+        (FuncE
+          stableMemoryLoadBlob
+          Local
+          Returns
+          (params offset size)
+          Blob
+          (PrimE stableMemoryLoadBlob (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreBlob)
+        (FuncE
+          stableMemoryStoreBlob
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreBlob (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableVarQuery)
+        (FuncE
+          stableVarQuery
+          Local
+          Returns
+          shared query () -> async {size : Nat64}
+          (PrimE stableVarQuery)
+        )
+      )
+      (LetD
+        (VarP regionNew)
+        (FuncE regionNew Local Returns Region (PrimE regionNew))
+      )
+      (LetD
+        (VarP regionId)
+        (FuncE regionId Local Returns (params r) Nat (PrimE regionId (VarE r)))
+      )
+      (LetD
+        (VarP regionSize)
+        (FuncE
+          regionSize
+          Local
+          Returns
+          (params r)
+          Nat64
+          (PrimE regionSize (VarE r))
+        )
+      )
+      (LetD
+        (VarP regionGrow)
+        (FuncE
+          regionGrow
+          Local
+          Returns
+          (params r pages)
+          Nat64
+          (PrimE regionGrow (VarE r) (VarE pages))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat32)
+        (FuncE
+          regionLoadNat32
+          Local
+          Returns
+          (params r offset)
+          Nat32
+          (PrimE regionLoadNat32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat32)
+        (FuncE
+          regionStoreNat32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat8)
+        (FuncE
+          regionLoadNat8
+          Local
+          Returns
+          (params r offset)
+          Nat8
+          (PrimE regionLoadNat8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat8)
+        (FuncE
+          regionStoreNat8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat16)
+        (FuncE
+          regionLoadNat16
+          Local
+          Returns
+          (params r offset)
+          Nat16
+          (PrimE regionLoadNat16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat16)
+        (FuncE
+          regionStoreNat16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat64)
+        (FuncE
+          regionLoadNat64
+          Local
+          Returns
+          (params r offset)
+          Nat64
+          (PrimE regionLoadNat64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat64)
+        (FuncE
+          regionStoreNat64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt32)
+        (FuncE
+          regionLoadInt32
+          Local
+          Returns
+          (params r offset)
+          Int32
+          (PrimE regionLoadInt32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt32)
+        (FuncE
+          regionStoreInt32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt8)
+        (FuncE
+          regionLoadInt8
+          Local
+          Returns
+          (params r offset)
+          Int8
+          (PrimE regionLoadInt8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt8)
+        (FuncE
+          regionStoreInt8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt16)
+        (FuncE
+          regionLoadInt16
+          Local
+          Returns
+          (params r offset)
+          Int16
+          (PrimE regionLoadInt16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt16)
+        (FuncE
+          regionStoreInt16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt64)
+        (FuncE
+          regionLoadInt64
+          Local
+          Returns
+          (params r offset)
+          Int64
+          (PrimE regionLoadInt64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt64)
+        (FuncE
+          regionStoreInt64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadFloat)
+        (FuncE
+          regionLoadFloat
+          Local
+          Returns
+          (params r offset)
+          Float
+          (PrimE regionLoadFloat (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreFloat)
+        (FuncE
+          regionStoreFloat
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreFloat (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadBlob)
+        (FuncE
+          regionLoadBlob
+          Local
+          Returns
+          (params r offset size)
+          Blob
+          (PrimE regionLoadBlob (VarE r) (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP regionStoreBlob)
+        (FuncE
+          regionStoreBlob
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreBlob (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD (VarP call_raw) (VarE @call_raw))
+      (LetD
+        (VarP performanceCounter)
+        (FuncE
+          performanceCounter
+          Local
+          Returns
+          (params counter)
+          Nat64
+          (PrimE performanceCounter (VarE counter))
+        )
+      )
+      (LetD
+        (VarP setCandidLimits)
+        (FuncE
+          setCandidLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/0)
+          ()
+          (BlockE
+            (LetD
+              (ObjP
+                (numerator (VarP numerator))
+                (denominator (VarP denominator))
+                (bias (VarP bias))
+              )
+              (VarE $param/0)
+            )
+            (PrimE
+              setCandidLimits
+              (VarE numerator)
+              (VarE denominator)
+              (VarE bias)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidLimits)
+        (FuncE
+          getCandidLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; denominator : Nat32; numerator : Nat32}
+          (BlockE
+            (LetD
+              (TupP (VarP numerator) (VarP denominator) (VarP bias))
+              (PrimE getCandidLimits)
+            )
+            (NewObjE
+              Object
+              (bias bias)
+              (denominator denominator)
+              (numerator numerator)
+              {bias : Nat32; denominator : Nat32; numerator : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP setCandidTypeLimits)
+        (FuncE
+          setCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/1)
+          ()
+          (BlockE
+            (LetD
+              (ObjP (scalar (VarP scalar)) (bias (VarP bias)))
+              (VarE $param/1)
+            )
+            (PrimE setCandidTypeLimits (VarE scalar) (VarE bias))
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidTypeLimits)
+        (FuncE
+          getCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; scalar : Nat32}
+          (BlockE
+            (LetD (TupP (VarP scalar) (VarP bias)) (PrimE getCandidTypeLimits))
+            (NewObjE
+              Object
+              (bias bias)
+              (scalar scalar)
+              {bias : Nat32; scalar : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP forall)
+        (FuncE
+          forall
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE forall (VarE f))
+        )
+      )
+      (LetD
+        (VarP exists)
+        (FuncE
+          exists
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE exists (VarE f))
+        )
+      )
+      (LetD (VarP setTimer) (VarE @setTimer))
+      (LetD (VarP cancelTimer) (VarE @cancelTimer))
+      (NewObjE
+        Module
+        (weakGet weakGet)
+        (trap trap)
+        (time time)
+        (textUppercase textUppercase)
+        (textLowercase textLowercase)
+        (textCompare textCompare)
+        (tan tan)
+        (stableVarQuery stableVarQuery)
+        (stableMemoryStoreNat8 stableMemoryStoreNat8)
+        (stableMemoryStoreNat64 stableMemoryStoreNat64)
+        (stableMemoryStoreNat32 stableMemoryStoreNat32)
+        (stableMemoryStoreNat16 stableMemoryStoreNat16)
+        (stableMemoryStoreInt8 stableMemoryStoreInt8)
+        (stableMemoryStoreInt64 stableMemoryStoreInt64)
+        (stableMemoryStoreInt32 stableMemoryStoreInt32)
+        (stableMemoryStoreInt16 stableMemoryStoreInt16)
+        (stableMemoryStoreFloat stableMemoryStoreFloat)
+        (stableMemoryStoreBlob stableMemoryStoreBlob)
+        (stableMemorySize stableMemorySize)
+        (stableMemoryLoadNat8 stableMemoryLoadNat8)
+        (stableMemoryLoadNat64 stableMemoryLoadNat64)
+        (stableMemoryLoadNat32 stableMemoryLoadNat32)
+        (stableMemoryLoadNat16 stableMemoryLoadNat16)
+        (stableMemoryLoadInt8 stableMemoryLoadInt8)
+        (stableMemoryLoadInt64 stableMemoryLoadInt64)
+        (stableMemoryLoadInt32 stableMemoryLoadInt32)
+        (stableMemoryLoadInt16 stableMemoryLoadInt16)
+        (stableMemoryLoadFloat stableMemoryLoadFloat)
+        (stableMemoryLoadBlob stableMemoryLoadBlob)
+        (stableMemoryGrow stableMemoryGrow)
+        (sin sin)
+        (shiftRight shiftRight)
+        (shiftLeft shiftLeft)
+        (setTimer setTimer)
+        (setCertifiedData setCertifiedData)
+        (setCandidTypeLimits setCandidTypeLimits)
+        (setCandidLimits setCandidLimits)
+        (rts_version rts_version)
+        (rts_upgrade_instructions rts_upgrade_instructions)
+        (rts_total_allocation rts_total_allocation)
+        (rts_stable_memory_size rts_stable_memory_size)
+        (rts_reclaimed rts_reclaimed)
+        (rts_mutator_instructions rts_mutator_instructions)
+        (rts_memory_size rts_memory_size)
+        (rts_max_stack_size rts_max_stack_size)
+        (rts_max_live_size rts_max_live_size)
+        (rts_logical_stable_memory_size rts_logical_stable_memory_size)
+        (rts_lifetime_instructions rts_lifetime_instructions)
+        (rts_heap_size rts_heap_size)
+        (rts_collector_instructions rts_collector_instructions)
+        (rts_callback_table_size rts_callback_table_size)
+        (rts_callback_table_count rts_callback_table_count)
+        (rootKey rootKey)
+        (replyDeadline replyDeadline)
+        (regionStoreNat8 regionStoreNat8)
+        (regionStoreNat64 regionStoreNat64)
+        (regionStoreNat32 regionStoreNat32)
+        (regionStoreNat16 regionStoreNat16)
+        (regionStoreInt8 regionStoreInt8)
+        (regionStoreInt64 regionStoreInt64)
+        (regionStoreInt32 regionStoreInt32)
+        (regionStoreInt16 regionStoreInt16)
+        (regionStoreFloat regionStoreFloat)
+        (regionStoreBlob regionStoreBlob)
+        (regionSize regionSize)
+        (regionNew regionNew)
+        (regionLoadNat8 regionLoadNat8)
+        (regionLoadNat64 regionLoadNat64)
+        (regionLoadNat32 regionLoadNat32)
+        (regionLoadNat16 regionLoadNat16)
+        (regionLoadInt8 regionLoadInt8)
+        (regionLoadInt64 regionLoadInt64)
+        (regionLoadInt32 regionLoadInt32)
+        (regionLoadInt16 regionLoadInt16)
+        (regionLoadFloat regionLoadFloat)
+        (regionLoadBlob regionLoadBlob)
+        (regionId regionId)
+        (regionGrow regionGrow)
+        (pruneConfirmedDeadBlobs pruneConfirmedDeadBlobs)
+        (principalOfBlob principalOfBlob)
+        (principalOfActor principalOfActor)
+        (popcntNat8 popcntNat8)
+        (popcntNat64 popcntNat64)
+        (popcntNat32 popcntNat32)
+        (popcntNat16 popcntNat16)
+        (popcntInt8 popcntInt8)
+        (popcntInt64 popcntInt64)
+        (popcntInt32 popcntInt32)
+        (popcntInt16 popcntInt16)
+        (performanceCounter performanceCounter)
+        (natToNat8 natToNat8)
+        (natToNat64 natToNat64)
+        (natToNat32 natToNat32)
+        (natToNat16 natToNat16)
+        (nat8ToNat16 nat8ToNat16)
+        (nat8ToNat nat8ToNat)
+        (nat8ToInt8 nat8ToInt8)
+        (nat64ToNat32 nat64ToNat32)
+        (nat64ToNat nat64ToNat)
+        (nat64ToInt64 nat64ToInt64)
+        (nat32ToNat64 nat32ToNat64)
+        (nat32ToNat16 nat32ToNat16)
+        (nat32ToNat nat32ToNat)
+        (nat32ToInt32 nat32ToInt32)
+        (nat32ToChar nat32ToChar)
+        (nat16ToNat8 nat16ToNat8)
+        (nat16ToNat32 nat16ToNat32)
+        (nat16ToNat nat16ToNat)
+        (nat16ToInt16 nat16ToInt16)
+        (log log)
+        (isStorageBlobLive isStorageBlobLive)
+        (isReplicatedExecution isReplicatedExecution)
+        (isLive isLive)
+        (isController isController)
+        (intToNat8Wrap intToNat8Wrap)
+        (intToNat64Wrap intToNat64Wrap)
+        (intToNat32Wrap intToNat32Wrap)
+        (intToNat16Wrap intToNat16Wrap)
+        (intToInt8Wrap intToInt8Wrap)
+        (intToInt8 intToInt8)
+        (intToInt64Wrap intToInt64Wrap)
+        (intToInt64 intToInt64)
+        (intToInt32Wrap intToInt32Wrap)
+        (intToInt32 intToInt32)
+        (intToInt16Wrap intToInt16Wrap)
+        (intToInt16 intToInt16)
+        (intToFloat intToFloat)
+        (int8ToNat8 int8ToNat8)
+        (int8ToInt16 int8ToInt16)
+        (int8ToInt int8ToInt)
+        (int64ToNat64 int64ToNat64)
+        (int64ToInt32 int64ToInt32)
+        (int64ToInt int64ToInt)
+        (int64ToFloat int64ToFloat)
+        (int32ToNat32 int32ToNat32)
+        (int32ToInt64 int32ToInt64)
+        (int32ToInt16 int32ToInt16)
+        (int32ToInt int32ToInt)
+        (int16ToNat16 int16ToNat16)
+        (int16ToInt8 int16ToInt8)
+        (int16ToInt32 int16ToInt32)
+        (int16ToInt int16ToInt)
+        (idlHash idlHash)
+        (hashBlob hashBlob)
+        (getSelfPrincipal getSelfPrincipal)
+        (getDeadBlobs getDeadBlobs)
+        (getCertificate getCertificate)
+        (getCandidTypeLimits getCandidTypeLimits)
+        (getCandidLimits getCandidLimits)
+        (forall forall)
+        (floatTrunc floatTrunc)
+        (floatToText floatToText)
+        (floatToInt64 floatToInt64)
+        (floatToInt floatToInt)
+        (floatToFormattedText floatToFormattedText)
+        (floatSqrt floatSqrt)
+        (floatNearest floatNearest)
+        (floatMin floatMin)
+        (floatMax floatMax)
+        (floatFloor floatFloor)
+        (floatCopySign floatCopySign)
+        (floatCeil floatCeil)
+        (floatAbs floatAbs)
+        (explodeNat64 explodeNat64)
+        (explodeNat32 explodeNat32)
+        (explodeNat16 explodeNat16)
+        (explodeInt64 explodeInt64)
+        (explodeInt32 explodeInt32)
+        (explodeInt16 explodeInt16)
+        (exp exp)
+        (exists exists)
+        (errorMessage errorMessage)
+        (errorCode errorCode)
+        (error error)
+        (envVarNames envVarNames)
+        (envVar envVar)
+        (encodeUtf8 encodeUtf8)
+        (decodeUtf8 decodeUtf8)
+        (debugPrintNat debugPrintNat)
+        (debugPrintInt debugPrintInt)
+        (debugPrintChar debugPrintChar)
+        (debugPrint debugPrint)
+        (cyclesRefunded cyclesRefunded)
+        (cyclesBurn cyclesBurn)
+        (cyclesBalance cyclesBalance)
+        (cyclesAvailable cyclesAvailable)
+        (cyclesAdd cyclesAdd)
+        (cyclesAccept cyclesAccept)
+        (ctzNat8 ctzNat8)
+        (ctzNat64 ctzNat64)
+        (ctzNat32 ctzNat32)
+        (ctzNat16 ctzNat16)
+        (ctzInt8 ctzInt8)
+        (ctzInt64 ctzInt64)
+        (ctzInt32 ctzInt32)
+        (ctzInt16 ctzInt16)
+        (createActor createActor)
+        (costSignWithSchnorr costSignWithSchnorr)
+        (costSignWithEcdsa costSignWithEcdsa)
+        (costHttpRequest costHttpRequest)
+        (costCreateCanister costCreateCanister)
+        (costCall costCall)
+        (cos cos)
+        (clzNat8 clzNat8)
+        (clzNat64 clzNat64)
+        (clzNat32 clzNat32)
+        (clzNat16 clzNat16)
+        (clzInt8 clzInt8)
+        (clzInt64 clzInt64)
+        (clzInt32 clzInt32)
+        (clzInt16 clzInt16)
+        (charToUpper charToUpper)
+        (charToText charToText)
+        (charToNat32 charToNat32)
+        (charToLower charToLower)
+        (charIsWhitespace charIsWhitespace)
+        (charIsUppercase charIsUppercase)
+        (charIsLowercase charIsLowercase)
+        (charIsAlphabetic charIsAlphabetic)
+        (canisterVersion canisterVersion)
+        (canisterSubnet canisterSubnet)
+        (cancelTimer cancelTimer)
+        (call_raw call_raw)
+        (btstNat8 btstNat8)
+        (btstNat64 btstNat64)
+        (btstNat32 btstNat32)
+        (btstNat16 btstNat16)
+        (btstInt8 btstInt8)
+        (btstInt64 btstInt64)
+        (btstInt32 btstInt32)
+        (btstInt16 btstInt16)
+        (blobToArrayMut blobToArrayMut)
+        (blobToArray blobToArray)
+        (blobOfPrincipal blobOfPrincipal)
+        (blobCompare blobCompare)
+        (arrayToBlob arrayToBlob)
+        (arrayMutToBlob arrayMutToBlob)
+        (arctan2 arctan2)
+        (arctan arctan)
+        (arcsin arcsin)
+        (arccos arccos)
+        (allocWeakRef allocWeakRef)
+        (abs abs)
+        (__getDedupTable __getDedupTable)
+        (Types Types)
+        (BlobIterator BlobIterator)
+        (Array_tabulateVar Array_tabulateVar)
+        (Array_tabulate Array_tabulate)
+        (Array_init Array_init)
+        module {Array_init : <T>(Nat, T) -> [var T]; Array_tabulate : <T>(Nat, Nat -> T) -> [T]; Array_tabulateVar : <T>(Nat, Nat -> T) -> [var T]; BlobIterator : [var __List] -> BlobIterator; Types : module {}; __getDedupTable : () -> ?[var __List]; abs : Int -> Nat; allocWeakRef : <T>T -> weak T; arccos : Float -> Float; arcsin : Float -> Float; arctan : Float -> Float; arctan2 : (Float, Float) -> Float; arrayMutToBlob : [var Nat8] -> Blob; arrayToBlob : [Nat8] -> Blob; blobCompare : (Blob, Blob) -> Int8; blobOfPrincipal : Principal -> Blob; blobToArray : Blob -> [Nat8]; blobToArrayMut : Blob -> [var Nat8]; btstInt16 : (Int16, Int16) -> Bool; btstInt32 : (Int32, Int32) -> Bool; btstInt64 : (Int64, Int64) -> Bool; btstInt8 : (Int8, Int8) -> Bool; btstNat16 : (Nat16, Nat16) -> Bool; btstNat32 : (Nat32, Nat32) -> Bool; btstNat64 : (Nat64, Nat64) -> Bool; btstNat8 : (Nat8, Nat8) -> Bool; call_raw : (Principal, Text, Blob) -> async Blob; cancelTimer : Nat -> (); canisterSubnet : () -> Principal; canisterVersion : () -> Nat64; charIsAlphabetic : Char -> Bool; charIsLowercase : Char -> Bool; charIsUppercase : Char -> Bool; charIsWhitespace : Char -> Bool; charToLower : Char -> Char; charToNat32 : Char -> Nat32; charToText : Char -> Text; charToUpper : Char -> Char; clzInt16 : Int16 -> Int16; clzInt32 : Int32 -> Int32; clzInt64 : Int64 -> Int64; clzInt8 : Int8 -> Int8; clzNat16 : Nat16 -> Nat16; clzNat32 : Nat32 -> Nat32; clzNat64 : Nat64 -> Nat64; clzNat8 : Nat8 -> Nat8; cos : Float -> Float; costCall : (Nat64, Nat64) -> Nat; costCreateCanister : () -> Nat; costHttpRequest : (Nat64, Nat64) -> Nat; costSignWithEcdsa : (Text, Nat32) -> (Nat32, Nat); costSignWithSchnorr : (Text, Nat32) -> (Nat32, Nat); createActor : (Blob, Blob) -> async Principal; ctzInt16 : Int16 -> Int16; ctzInt32 : Int32 -> Int32; ctzInt64 : Int64 -> Int64; ctzInt8 : Int8 -> Int8; ctzNat16 : Nat16 -> Nat16; ctzNat32 : Nat32 -> Nat32; ctzNat64 : Nat64 -> Nat64; ctzNat8 : Nat8 -> Nat8; cyclesAccept : <system>Nat -> Nat; cyclesAdd : <system>Nat -> (); cyclesAvailable : () -> Nat; cyclesBalance : () -> Nat; cyclesBurn : <system>Nat -> Nat; cyclesRefunded : () -> Nat; debugPrint : Text -> (); debugPrintChar : Char -> (); debugPrintInt : Int -> (); debugPrintNat : Nat -> (); decodeUtf8 : Blob -> ?Text; encodeUtf8 : Text -> Blob; envVar : <system>Text -> ?Text; envVarNames : <system>() -> [Text]; error : Text -> Error; errorCode : Error -> ErrorCode; errorMessage : Error -> Text; exists : <T>(T -> Bool) -> Bool; exp : Float -> Float; explodeInt16 : Int16 -> (Nat8, Nat8); explodeInt32 : Int32 -> (Nat8, Nat8, Nat8, Nat8); explodeInt64 : Int64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); explodeNat16 : Nat16 -> (Nat8, Nat8); explodeNat32 : Nat32 -> (Nat8, Nat8, Nat8, Nat8); explodeNat64 : Nat64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); floatAbs : Float -> Float; floatCeil : Float -> Float; floatCopySign : (Float, Float) -> Float; floatFloor : Float -> Float; floatMax : (Float, Float) -> Float; floatMin : (Float, Float) -> Float; floatNearest : Float -> Float; floatSqrt : Float -> Float; floatToFormattedText : (Float, Nat8, Nat8) -> Text; floatToInt : Float -> Int; floatToInt64 : Float -> Int64; floatToText : Float -> Text; floatTrunc : Float -> Float; forall : <T>(T -> Bool) -> Bool; getCandidLimits : <system>() -> {bias : Nat32; denominator : Nat32; numerator : Nat32}; getCandidTypeLimits : <system>() -> {bias : Nat32; scalar : Nat32}; getCertificate : () -> ?Blob; getDeadBlobs : () -> ?[Blob]; getSelfPrincipal : <system>() -> Principal; hashBlob : Blob -> Nat32; idlHash : Text -> Nat32; int16ToInt : Int16 -> Int; int16ToInt32 : Int16 -> Int32; int16ToInt8 : Int16 -> Int8; int16ToNat16 : Int16 -> Nat16; int32ToInt : Int32 -> Int; int32ToInt16 : Int32 -> Int16; int32ToInt64 : Int32 -> Int64; int32ToNat32 : Int32 -> Nat32; int64ToFloat : Int64 -> Float; int64ToInt : Int64 -> Int; int64ToInt32 : Int64 -> Int32; int64ToNat64 : Int64 -> Nat64; int8ToInt : Int8 -> Int; int8ToInt16 : Int8 -> Int16; int8ToNat8 : Int8 -> Nat8; intToFloat : Int -> Float; intToInt16 : Int -> Int16; intToInt16Wrap : Int -> Int16; intToInt32 : Int -> Int32; intToInt32Wrap : Int -> Int32; intToInt64 : Int -> Int64; intToInt64Wrap : Int -> Int64; intToInt8 : Int -> Int8; intToInt8Wrap : Int -> Int8; intToNat16Wrap : Int -> Nat16; intToNat32Wrap : Int -> Nat32; intToNat64Wrap : Int -> Nat64; intToNat8Wrap : Int -> Nat8; isController : Principal -> Bool; isLive : weak Any -> Bool; isReplicatedExecution : () -> Bool; isStorageBlobLive : Blob -> Bool; log : Float -> Float; nat16ToInt16 : Nat16 -> Int16; nat16ToNat : Nat16 -> Nat; nat16ToNat32 : Nat16 -> Nat32; nat16ToNat8 : Nat16 -> Nat8; nat32ToChar : Nat32 -> Char; nat32ToInt32 : Nat32 -> Int32; nat32ToNat : Nat32 -> Nat; nat32ToNat16 : Nat32 -> Nat16; nat32ToNat64 : Nat32 -> Nat64; nat64ToInt64 : Nat64 -> Int64; nat64ToNat : Nat64 -> Nat; nat64ToNat32 : Nat64 -> Nat32; nat8ToInt8 : Nat8 -> Int8; nat8ToNat : Nat8 -> Nat; nat8ToNat16 : Nat8 -> Nat16; natToNat16 : Nat -> Nat16; natToNat32 : Nat -> Nat32; natToNat64 : Nat -> Nat64; natToNat8 : Nat -> Nat8; performanceCounter : Nat32 -> Nat64; popcntInt16 : Int16 -> Int16; popcntInt32 : Int32 -> Int32; popcntInt64 : Int64 -> Int64; popcntInt8 : Int8 -> Int8; popcntNat16 : Nat16 -> Nat16; popcntNat32 : Nat32 -> Nat32; popcntNat64 : Nat64 -> Nat64; popcntNat8 : Nat8 -> Nat8; principalOfActor : (actor {}) -> Principal; principalOfBlob : Blob -> Principal; pruneConfirmedDeadBlobs : [Blob] -> (); regionGrow : (Region, Nat64) -> Nat64; regionId : Region -> Nat; regionLoadBlob : (Region, Nat64, Nat) -> Blob; regionLoadFloat : (Region, Nat64) -> Float; regionLoadInt16 : (Region, Nat64) -> Int16; regionLoadInt32 : (Region, Nat64) -> Int32; regionLoadInt64 : (Region, Nat64) -> Int64; regionLoadInt8 : (Region, Nat64) -> Int8; regionLoadNat16 : (Region, Nat64) -> Nat16; regionLoadNat32 : (Region, Nat64) -> Nat32; regionLoadNat64 : (Region, Nat64) -> Nat64; regionLoadNat8 : (Region, Nat64) -> Nat8; regionNew : () -> Region; regionSize : Region -> Nat64; regionStoreBlob : (Region, Nat64, Blob) -> (); regionStoreFloat : (Region, Nat64, Float) -> (); regionStoreInt16 : (Region, Nat64, Int16) -> (); regionStoreInt32 : (Region, Nat64, Int32) -> (); regionStoreInt64 : (Region, Nat64, Int64) -> (); regionStoreInt8 : (Region, Nat64, Int8) -> (); regionStoreNat16 : (Region, Nat64, Nat16) -> (); regionStoreNat32 : (Region, Nat64, Nat32) -> (); regionStoreNat64 : (Region, Nat64, Nat64) -> (); regionStoreNat8 : (Region, Nat64, Nat8) -> (); replyDeadline : () -> Nat64; rootKey : () -> Blob; rts_callback_table_count : () -> Nat; rts_callback_table_size : () -> Nat; rts_collector_instructions : () -> Nat; rts_heap_size : () -> Nat; rts_lifetime_instructions : () -> Nat; rts_logical_stable_memory_size : () -> Nat; rts_max_live_size : () -> Nat; rts_max_stack_size : () -> Nat; rts_memory_size : () -> Nat; rts_mutator_instructions : () -> Nat; rts_reclaimed : () -> Nat; rts_stable_memory_size : () -> Nat; rts_total_allocation : () -> Nat; rts_upgrade_instructions : () -> Nat; rts_version : () -> Text; setCandidLimits : <system>{bias : Nat32; denominator : Nat32; numerator : Nat32} -> (); setCandidTypeLimits : <system>{bias : Nat32; scalar : Nat32} -> (); setCertifiedData : Blob -> (); setTimer : <system>(Nat64, Bool, () -> async ()) -> Nat; shiftLeft : (Nat, Nat32) -> Nat; shiftRight : (Nat, Nat32) -> Nat; sin : Float -> Float; stableMemoryGrow : Nat64 -> Nat64; stableMemoryLoadBlob : (Nat64, Nat) -> Blob; stableMemoryLoadFloat : Nat64 -> Float; stableMemoryLoadInt16 : Nat64 -> Int16; stableMemoryLoadInt32 : Nat64 -> Int32; stableMemoryLoadInt64 : Nat64 -> Int64; stableMemoryLoadInt8 : Nat64 -> Int8; stableMemoryLoadNat16 : Nat64 -> Nat16; stableMemoryLoadNat32 : Nat64 -> Nat32; stableMemoryLoadNat64 : Nat64 -> Nat64; stableMemoryLoadNat8 : Nat64 -> Nat8; stableMemorySize : () -> Nat64; stableMemoryStoreBlob : (Nat64, Blob) -> (); stableMemoryStoreFloat : (Nat64, Float) -> (); stableMemoryStoreInt16 : (Nat64, Int16) -> (); stableMemoryStoreInt32 : (Nat64, Int32) -> (); stableMemoryStoreInt64 : (Nat64, Int64) -> (); stableMemoryStoreInt8 : (Nat64, Int8) -> (); stableMemoryStoreNat16 : (Nat64, Nat16) -> (); stableMemoryStoreNat32 : (Nat64, Nat32) -> (); stableMemoryStoreNat64 : (Nat64, Nat64) -> (); stableMemoryStoreNat8 : (Nat64, Nat8) -> (); stableVarQuery : () -> shared query () -> async {size : Nat64}; tan : Float -> Float; textCompare : (Text, Text) -> Int8; textLowercase : Text -> Text; textUppercase : Text -> Text; time : () -> Nat64; trap : Text -> None; weakGet : <T>weak T -> ?T}
+      )
+    )
+  )
+  (LetD
+    (VarP file$issue-5767/Region.mo)
+    (BlockE
+      (LetD (VarP Prim) (VarE file$@prim))
+      (BlockE
+        (LetD (VarP new) (PrimE (DotPrim regionNew) (VarE Prim)))
+        (LetD
+          (VarP grow)
+          (FuncE
+            grow
+            Local
+            Returns
+            (params self newPages)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionGrow) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE newPages))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64)
+          (FuncE
+            loadNat64
+            Local
+            Returns
+            (params self offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE offset))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64Fn)
+          (FuncE
+            loadNat64Fn
+            Local
+            Returns
+            (params r offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE r) (VarE offset))
+            )
+          )
+        )
+        (NewObjE
+          Module
+          (new new)
+          (loadNat64Fn loadNat64Fn)
+          (loadNat64 loadNat64)
+          (grow grow)
+          module {grow : (Region, Nat64) -> Nat64; loadNat64 : (Region, Nat64) -> Nat64; loadNat64Fn : (Region, Nat64) -> Nat64; new : () -> Region}
+        )
+      )
+    )
+  )
+  (LetD (VarP Region) (VarE file$issue-5767/Region.mo))
+  (LetD
+    (VarP $__motoko_stable_var_info)
+    (FuncE
+      $__motoko_stable_var_info
+      Shared Query
+      Promises
+      (T1 Any)
+      {size : Nat64}
+      (PrimE
+        (CPSAsync T1)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          (T2 Any)
+          (params $k/10 $r/6 $b/4)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/10)
+            (BlockE
+              (LetD (VarP $$caller/0/0) (PrimE ICCallerPrim))
+              (LetD
+                WildP
+                (PrimE
+                  AssertPrim
+                  (IfE
+                    (PrimE
+                      (RelPrim Principal EqOp)
+                      (VarE $$caller/0/0)
+                      (PrimE (SelfRef Principal))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE is_controller (VarE $$caller/0/0))
+                  )
+                )
+              )
+              (LetD
+                (VarP $$size/0/0)
+                (PrimE (ICStableSize memory {}) (NewObjE Memory memory {}))
+              )
+              (NewObjE Object (size $$size/0/0) {size : Nat64})
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP $__motoko_runtime_information)
+    (FuncE
+      $__motoko_runtime_information
+      Shared Query
+      Promises
+      (T1 Any)
+      {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+      (PrimE
+        (CPSAsync T1)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          (T2 Any)
+          (params $k/11 $r/7 $b/5)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/11)
+            (BlockE
+              (LetD (VarP $$caller/1/0) (PrimE ICCallerPrim))
+              (LetD
+                WildP
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Principal EqOp)
+                      (VarE $$caller/1/0)
+                      (PrimE (SelfRef Principal))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE is_controller (VarE $$caller/1/0))
+                  )
+                  (PrimE TupPrim)
+                  (PrimE
+                    trap
+                    (LitE
+                      (TextLit
+                        Unauthorized call of __motoko_runtime_information
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP $$compilerVersion/0/0)
+                (LitE (TextLit 1.0.0-77-g4d85e5c86-dirty))
+              )
+              (LetD
+                (VarP $$garbageCollector/0/0)
+                (LitE (TextLit default force))
+              )
+              (LetD (VarP $$rtsVersion/0/0) (PrimE rts_version))
+              (LetD (VarP $$sanityChecks/0/0) (LitE (BoolLit false)))
+              (LetD (VarP $$memorySize/0/0) (PrimE rts_memory_size))
+              (LetD (VarP $$heapSize/0/0) (PrimE rts_heap_size))
+              (LetD (VarP $$totalAllocation/0/0) (PrimE rts_total_allocation))
+              (LetD (VarP $$reclaimed/0/0) (PrimE rts_reclaimed))
+              (LetD (VarP $$maxLiveSize/0/0) (PrimE rts_max_live_size))
+              (LetD
+                (VarP $$stableMemorySize/0/0)
+                (PrimE rts_stable_memory_size)
+              )
+              (LetD
+                (VarP $$logicalStableMemorySize/0/0)
+                (PrimE rts_logical_stable_memory_size)
+              )
+              (LetD (VarP $$maxStackSize/0/0) (PrimE rts_max_stack_size))
+              (LetD
+                (VarP $$callbackTableCount/0/0)
+                (PrimE rts_callback_table_count)
+              )
+              (LetD
+                (VarP $$callbackTableSize/0/0)
+                (PrimE rts_callback_table_size)
+              )
+              (NewObjE
+                Object
+                (callbackTableSize $$callbackTableSize/0/0)
+                (callbackTableCount $$callbackTableCount/0/0)
+                (maxStackSize $$maxStackSize/0/0)
+                (logicalStableMemorySize $$logicalStableMemorySize/0/0)
+                (stableMemorySize $$stableMemorySize/0/0)
+                (maxLiveSize $$maxLiveSize/0/0)
+                (reclaimed $$reclaimed/0/0)
+                (totalAllocation $$totalAllocation/0/0)
+                (heapSize $$heapSize/0/0)
+                (memorySize $$memorySize/0/0)
+                (sanityChecks $$sanityChecks/0/0)
+                (rtsVersion $$rtsVersion/0/0)
+                (garbageCollector $$garbageCollector/0/0)
+                (compilerVersion $$compilerVersion/0/0)
+                {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD (VarP A) (PrimE (SelfRef actor {go : shared () -> async ()})))
+  (VarD $state/0 ?(memory {}) (PrimE OptPrim (PrimE (ICStableRead memory {}))))
+  (LetD
+    (VarP $getState/0)
+    (FuncE
+      $getState/0
+      Local
+      Returns
+      memory {}
+      (SwitchE
+        (VarE! $state/0)
+        (case (LitP NullLit) (LoopE (PrimE TupPrim)))
+        (case (OptP (VarP $v/0)) (VarE $v/0))
+      )
+    )
+  )
+  (LetD
+    (VarP r)
+    (PrimE (CallPrim) (PrimE (DotPrim new) (VarE Region)) (PrimE TupPrim))
+  )
+  (LetD
+    WildP
+    (PrimE
+      (CallPrim)
+      (PrimE (DotPrim grow) (VarE Region))
+      (PrimE TupPrim (VarE r) (LitE (Nat64Lit 1)))
+    )
+  )
+  (LetD
+    (VarP kermit)
+    (FuncE
+      kermit
+      Local
+      Returns
+      ()
+      (BlockE
+        (LetD
+          (VarP w1)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w2)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w3)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64Fn) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (PrimE TupPrim)
+      )
+    )
+  )
+  (LetD
+    (VarP go)
+    (FuncE
+      go
+      Shared
+      Promises
+      ($ Any)
+      ()
+      (PrimE
+        (CPSAsync $)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          ($go Any)
+          (params $k/12 $r/8 $b/6)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/12)
+            (PrimE (CallPrim) (VarE kermit) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD WildP (AssignE (VarLE $state/0) (LitE NullLit)))
+  (go go)
+  (__motoko_runtime_information $__motoko_runtime_information)
+  (__motoko_stable_var_info $__motoko_stable_var_info)
+  (System
+    (Pre (PrimE (ICStableWrite memory {})))
+    (Post (PrimE TupPrim))
+    (Heartbeat (PrimE TupPrim))
+    (Timer
+      (BlockE
+        (LetD
+          (VarP $r/0)
+          (FuncE
+            $r/0
+            Local
+            Returns
+            (params $e/0)
+            ()
+            (BlockE
+              (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 1))))
+              (PrimE TupPrim)
+            )
+          )
+        )
+        (BlockE
+          (LetD
+            (VarP $u/0)
+            (PrimE (CallPrim ()) (VarE @timer_helper) (PrimE TupPrim))
+          )
+          (IfE
+            (PrimE (CallPrim) (VarE @call_succeeded) (PrimE TupPrim))
+            (BlockE
+              (LetD WildP (VarE $u/0))
+              (BlockE
+                (LetD (VarP $u/1) (PrimE TupPrim))
+                (BlockE
+                  (LetD (VarP $u/2) (PrimE TupPrim))
+                  (BlockE (LetD (VarP $u/3) (PrimE TupPrim)) (PrimE TupPrim))
+                )
+              )
+            )
+            (PrimE
+              (CallPrim)
+              (VarE $r/0)
+              (PrimE (CallPrim) (VarE @call_error) (PrimE TupPrim))
+            )
+          )
+        )
+      )
+    )
+    (Inspect (PrimE TupPrim))
+    (LowMemory (PrimE TupPrim))
+    (StableRecord (NewObjE Memory memory {}))
+    (StableType memory {} memory {})
+  )
+  actor {go : shared () -> async ()}
+)
+(ActorU
+  (VarD @cycles Nat (LitE (NatLit 0)))
+  (VarD @timeout ?Nat32 (LitE NullLit))
+  (LetD
+    (VarP @add_cycles)
+    (FuncE
+      @add_cycles
+      Local
+      Returns
+      ($ Any)
+      ()
+      (BlockE
+        (LetD (VarP cycles) (VarE! @cycles))
+        (LetD WildP (PrimE (CallPrim) (VarE @reset_cycles) (PrimE TupPrim)))
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE (RelPrim Nat EqOp) (VarE cycles) (LitE (NatLit 0)))
+              (LitE (BoolLit false))
+            )
+            (PrimE SystemCyclesAddPrim (VarE cycles))
+            (PrimE TupPrim)
+          )
+        )
+        (SwitchE
+          (VarE! @timeout)
+          (case
+            (OptP (VarP timeout))
+            (BlockE
+              (LetD WildP (AssignE (VarLE @timeout) (LitE NullLit)))
+              (PrimE SystemTimeoutSetPrim (VarE timeout))
+            )
+          )
+          (case (LitP NullLit) (PrimE TupPrim))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @reset_cycles)
+    (FuncE
+      @reset_cycles
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @cycles) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @immut_array_get)
+    (FuncE
+      @immut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-45.49
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_get)
+    (FuncE
+      @mut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-46.51
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_size)
+    (FuncE
+      @immut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-47.51 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_size)
+    (FuncE
+      @mut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-48.53 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_put)
+    (FuncE
+      @mut_array_put
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      (Nat, A) -> ()
+      (FuncE
+        @anon-func-49.57
+        Local
+        Returns
+        (params n x)
+        ()
+        (AssignE (IdxLE (VarE xs) (VarE n)) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_keys)
+    (FuncE
+      @immut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-50.58
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_keys)
+    (FuncE
+      @mut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-55.60
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_vals)
+    (FuncE
+      @immut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-60.56
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_vals)
+    (FuncE
+      @mut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-67.58
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_size)
+    (FuncE
+      @blob_size
+      Local
+      Returns
+      (params b)
+      () -> Nat
+      (FuncE @anon-func-74.41 Local Returns Nat (PrimE blob_size (VarE b)))
+    )
+  )
+  (LetD
+    (VarP @blob_keys)
+    (FuncE
+      @blob_keys
+      Local
+      Returns
+      (params b)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-75.48
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE blob_size (VarE b)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_get)
+    (FuncE
+      @blob_get
+      Local
+      Returns
+      (params b)
+      Nat -> Nat8
+      (FuncE
+        @anon-func-80.42
+        Local
+        Returns
+        (params n)
+        Nat8
+        (PrimE IdxBlobPrim (VarE b) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_vals)
+    (FuncE
+      @blob_vals
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Nat8>
+      (FuncE
+        @anon-func-81.50
+        Local
+        Returns
+        @Iter<Nat8>
+        (BlockE
+          (LetD (VarP i) (PrimE blob_vals_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat8
+              (IfE
+                (PrimE blob_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE blob_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat8})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_size)
+    (FuncE
+      @text_size
+      Local
+      Returns
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-88.42 Local Returns Nat (PrimE text_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @text_chars)
+    (FuncE
+      @text_chars
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Char>
+      (FuncE
+        @anon-func-89.51
+        Local
+        Returns
+        @Iter<Char>
+        (BlockE
+          (LetD (VarP i) (PrimE text_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Char
+              (IfE
+                (PrimE text_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE text_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Char})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_num)
+    (FuncE
+      @text_of_num
+      Local
+      Returns
+      (params x base sep digits)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit )))
+        (VarD n Nat (VarE x))
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat EqOp) (VarE! n) (LitE (NatLit 0)))
+            (PrimE RetPrim (LitE (TextLit 0)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD
+          WildP
+          (LabelE
+            $done/2
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat GtOp) (VarE! n) (LitE (NatLit 0)))
+                (BlockE
+                  (LetD
+                    (VarP rem)
+                    (PrimE (BinPrim Nat ModOp) (VarE! n) (VarE base))
+                  )
+                  (LetD
+                    WildP
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat GtOp) (VarE sep) (LitE (NatLit 0)))
+                        (PrimE (RelPrim Nat EqOp) (VarE! i) (VarE sep))
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE text)
+                            (PrimE
+                              (BinPrim Text CatOp)
+                              (LitE (TextLit _))
+                              (VarE! text)
+                            )
+                          )
+                        )
+                        (AssignE (VarLE i) (LitE (NatLit 0)))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE text)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (PrimE (CallPrim) (VarE digits) (VarE rem))
+                        (VarE! text)
+                      )
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE n)
+                      (PrimE (BinPrim Nat DivOp) (VarE! n) (VarE base))
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/2) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (VarE! text)
+      )
+    )
+  )
+  (LetD
+    (VarP @left_pad)
+    (FuncE
+      @left_pad
+      Local
+      Returns
+      (params pad char t)
+      Text
+      (IfE
+        (PrimE (RelPrim Nat GtOp) (VarE pad) (PrimE text_len (VarE t)))
+        (BlockE
+          (VarD
+            i
+            Nat
+            (PrimE (BinPrim Nat SubOp) (VarE pad) (PrimE text_len (VarE t)))
+          )
+          (VarD text Text (VarE t))
+          (LetD
+            WildP
+            (LabelE
+              $done/3
+              ()
+              (LoopE
+                (IfE
+                  (PrimE (RelPrim Nat GtOp) (VarE! i) (LitE (NatLit 0)))
+                  (BlockE
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE text)
+                        (PrimE (BinPrim Text CatOp) (VarE char) (VarE! text))
+                      )
+                    )
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat SubOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE (BreakPrim $done/3) (PrimE TupPrim))
+                )
+              )
+            )
+          )
+          (VarE! text)
+        )
+        (VarE t)
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_dec)
+    (FuncE
+      @digits_dec
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE (BinPrim Int AddOp) (VarE x) (LitE (IntLit 48)))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat)
+    (FuncE
+      @text_of_Nat
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_num)
+        (PrimE
+          TupPrim
+          (VarE x)
+          (LitE (NatLit 10))
+          (LitE (NatLit 3))
+          (VarE @digits_dec)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int)
+    (FuncE
+      @text_of_Int
+      Local
+      Returns
+      (params x)
+      Text
+      (IfE
+        (PrimE (RelPrim Int EqOp) (VarE x) (LitE (IntLit 0)))
+        (LitE (TextLit 0))
+        (PrimE
+          (BinPrim Text CatOp)
+          (IfE
+            (PrimE (RelPrim Int LtOp) (VarE x) (LitE (IntLit 0)))
+            (LitE (TextLit -))
+            (LitE (TextLit +))
+          )
+          (PrimE (CallPrim) (VarE @text_of_Nat) (PrimE abs (VarE x)))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_hex)
+    (FuncE
+      @digits_hex
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE
+              (BinPrim Int AddOp)
+              (VarE x)
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE x) (LitE (NatLit 10)))
+                (LitE (IntLit 48))
+                (LitE (IntLit 55))
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @int64ToInt)
+    (FuncE
+      @int64ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int64 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int32ToInt)
+    (FuncE
+      @int32ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int32 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int16ToInt)
+    (FuncE
+      @int16ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int16 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int8ToInt)
+    (FuncE
+      @int8ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int8 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat64ToNat)
+    (FuncE
+      @nat64ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat64 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat32ToNat)
+    (FuncE
+      @nat32ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat32 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat16ToNat)
+    (FuncE
+      @nat16ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat16 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat8ToNat)
+    (FuncE
+      @nat8ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat8 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat8)
+    (FuncE
+      @text_of_Nat8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat8ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat16)
+    (FuncE
+      @text_of_Nat16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat16ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat32)
+    (FuncE
+      @text_of_Nat32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat32ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat64)
+    (FuncE
+      @text_of_Nat64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat64ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int8)
+    (FuncE
+      @text_of_Int8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int8ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int16)
+    (FuncE
+      @text_of_Int16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int16ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int32)
+    (FuncE
+      @text_of_Int32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int32ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int64)
+    (FuncE
+      @text_of_Int64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int64ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Float)
+    (FuncE
+      @text_of_Float
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE Float->Text (VarE x))
+    )
+  )
+  (LetD
+    (VarP @text_of_Bool)
+    (FuncE
+      @text_of_Bool
+      Local
+      Returns
+      (params b)
+      Text
+      (IfE (VarE b) (LitE (TextLit true)) (LitE (TextLit false)))
+    )
+  )
+  (LetD
+    (VarP @text_of_Text)
+    (FuncE
+      @text_of_Text
+      Local
+      Returns
+      (params t)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE (BinPrim Text CatOp) (LitE (TextLit ")) (VarE t))
+        (LitE (TextLit "))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Char)
+    (FuncE
+      @text_of_Char
+      Local
+      Returns
+      (params c)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE
+          (BinPrim Text CatOp)
+          (LitE (TextLit '))
+          (PrimE conv_Char_Text (VarE c))
+        )
+        (LitE (TextLit '))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Blob)
+    (FuncE
+      @text_of_Blob
+      Local
+      Returns
+      (params blob)
+      Text
+      (BlockE
+        (VarD t Text (LitE (TextLit ")))
+        (LetD
+          WildP
+          (BlockE
+            (LetD
+              (VarP $nxt/0)
+              (PrimE
+                (DotPrim next)
+                (PrimE
+                  (CallPrim)
+                  (PrimE (CallPrim) (VarE @blob_vals) (VarE blob))
+                  (PrimE TupPrim)
+                )
+              )
+            )
+            (LabelE
+              $done/4
+              ()
+              (LoopE
+                (SwitchE
+                  (PrimE (CallPrim) (VarE $nxt/0) (PrimE TupPrim))
+                  (case
+                    (LitP NullLit)
+                    (PrimE (BreakPrim $done/4) (PrimE TupPrim))
+                  )
+                  (case
+                    (OptP (VarP b))
+                    (AssignE
+                      (VarLE t)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (VarE! t)
+                        (PrimE
+                          (BinPrim Text CatOp)
+                          (LitE (TextLit \))
+                          (PrimE
+                            (CallPrim)
+                            (VarE @left_pad)
+                            (PrimE
+                              TupPrim
+                              (LitE (NatLit 2))
+                              (LitE (TextLit 0))
+                              (PrimE
+                                (CallPrim)
+                                (VarE @text_of_num)
+                                (PrimE
+                                  TupPrim
+                                  (PrimE (CallPrim) (VarE @nat8ToNat) (VarE b))
+                                  (LitE (NatLit 16))
+                                  (LitE (NatLit 0))
+                                  (VarE @digits_hex)
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE t)
+            (PrimE (BinPrim Text CatOp) (VarE! t) (LitE (TextLit ")))
+          )
+        )
+        (PrimE RetPrim (VarE! t))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_has_parens)
+    (FuncE
+      @text_has_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case (OptP (LitP (CharLit 40))) (LitE (BoolLit true)))
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_needs_parens)
+    (FuncE
+      @text_needs_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case
+          (OptP
+            (AltP
+              (AltP
+                (AltP (LitP (CharLit 43)) (LitP (CharLit 45)))
+                (LitP (CharLit 63))
+              )
+              (LitP (CharLit 35))
+            )
+          )
+          (LitE (BoolLit true))
+        )
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_option)
+    (FuncE
+      @text_of_option
+      Local
+      Returns
+      (T Any)
+      (params f x)
+      Text
+      (SwitchE
+        (VarE x)
+        (case
+          (OptP (VarP y))
+          (BlockE
+            (LetD (VarP fy) (PrimE (CallPrim) (VarE f) (VarE y)))
+            (IfE
+              (PrimE (CallPrim) (VarE @text_needs_parens) (VarE fy))
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE (BinPrim Text CatOp) (LitE (TextLit ?()) (VarE fy))
+                (LitE (TextLit )))
+              )
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit ?)) (VarE fy))
+            )
+          )
+        )
+        (case (LitP NullLit) (LitE (TextLit null)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_variant)
+    (FuncE
+      @text_of_variant
+      Local
+      Returns
+      (T Any)
+      (params l f x)
+      Text
+      (BlockE
+        (LetD (VarP fx) (PrimE (CallPrim) (VarE f) (VarE x)))
+        (IfE
+          (PrimE (RelPrim Text EqOp) (VarE fx) (LitE (TextLit ())))
+          (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+          (IfE
+            (PrimE (CallPrim) (VarE @text_has_parens) (VarE fx))
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+              (VarE fx)
+            )
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE
+                  (BinPrim Text CatOp)
+                  (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+                  (LitE (TextLit ())
+                )
+                (VarE fx)
+              )
+              (LitE (TextLit )))
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array)
+    (FuncE
+      @text_of_array
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/0) (VarE xs))
+            (LetD (VarP $last/0) (PrimE GetLastArrayOffset (VarE $arr/0)))
+            (VarD $indx/0 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/0) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/5
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/0) (VarE! $indx/0))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (AssignE (VarLE first) (LitE (BoolLit false)))
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/0) (VarE $last/0))
+                      (PrimE (BreakPrim $done/5) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/0)
+                        (PrimE NextArrayOffset (VarE! $indx/0))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array_mut)
+    (FuncE
+      @text_of_array_mut
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [var)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/1) (VarE xs))
+            (LetD (VarP $last/1) (PrimE GetLastArrayOffset (VarE $arr/1)))
+            (VarD $indx/1 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/1) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/6
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/1) (VarE! $indx/1))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE (VarLE first) (LitE (BoolLit false)))
+                              )
+                              (AssignE
+                                (VarLE text)
+                                (PrimE
+                                  (BinPrim Text CatOp)
+                                  (VarE! text)
+                                  (LitE (TextLit  ))
+                                )
+                              )
+                            )
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/1) (VarE $last/1))
+                      (PrimE (BreakPrim $done/6) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/1)
+                        (PrimE NextArrayOffset (VarE! $indx/1))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @equal_array)
+    (FuncE
+      @equal_array
+      Local
+      Returns
+      (T Any)
+      (params eq a b)
+      Bool
+      (BlockE
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE
+                (RelPrim Nat EqOp)
+                (PrimE array_len (VarE a))
+                (PrimE array_len (VarE b))
+              )
+              (LitE (BoolLit false))
+            )
+            (PrimE RetPrim (LitE (BoolLit false)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD (VarP s) (PrimE array_len (VarE a)))
+        (LetD
+          WildP
+          (LabelE
+            $done/7
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE! i) (VarE s))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE eq)
+                          (PrimE
+                            TupPrim
+                            (PrimE IdxPrim (VarE a) (VarE! i))
+                            (PrimE IdxPrim (VarE b) (VarE! i))
+                          )
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (PrimE RetPrim (LitE (BoolLit false)))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/7) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (PrimE RetPrim (LitE (BoolLit true)))
+      )
+    )
+  )
+  (VarD @refund Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @reset_refund)
+    (FuncE
+      @reset_refund
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @refund) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @getSystemRefund)
+    (FuncE
+      @getSystemRefund
+      Local
+      Returns
+      @Refund
+      (PrimE RetPrim (PrimE SystemCyclesRefundedPrim))
+    )
+  )
+  (LetD (VarP @cleanup) (FuncE @cleanup Local Returns () (PrimE TupPrim)))
+  (LetD
+    (VarP @new_async)
+    (FuncE
+      @new_async
+      Local
+      Returns
+      (T Any)
+      (@Async<T>, @Cont<T>, @Cont<Error>, @CleanCont)
+      (BlockE
+        (LetD
+          (VarP w_null)
+          (FuncE
+            @anon-func-293.16
+            Local
+            Returns
+            (params r t)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP r_null)
+          (FuncE
+            @anon-func-294.16
+            Local
+            Returns
+            (params $ignored0/0)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (VarD result ?@Result<T> (LitE NullLit))
+        (VarD ws (@Refund, T) -> () (VarE w_null))
+        (VarD rs Error -> () (VarE r_null))
+        (LetD
+          (VarP getRefund)
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE (RelPrim Nat EqOp) (VarE! @cycles) (LitE (NatLit 0)))
+            (LitE (BoolLit false))
+          )
+        )
+        (LetD
+          (VarP fulfill)
+          (FuncE
+            fulfill
+            Local
+            Returns
+            (params t)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP refund)
+                    (IfE
+                      (VarE getRefund)
+                      (PrimE (CallPrim) (VarE @getSystemRefund) (PrimE TupPrim))
+                      (LitE (NatLit 0))
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE
+                        OptPrim
+                        (PrimE (TagE ok) (PrimE TupPrim (VarE refund) (VarE t)))
+                      )
+                    )
+                  )
+                  (LetD (VarP ws_) (VarE! ws))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE
+                    (CallPrim)
+                    (VarE ws_)
+                    (PrimE TupPrim (VarE refund) (VarE t))
+                  )
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (LetD
+          (VarP fail)
+          (FuncE
+            fail
+            Local
+            Returns
+            (params e)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE OptPrim (PrimE (TagE error) (VarE e)))
+                    )
+                  )
+                  (LetD (VarP rs_) (VarE! rs))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE (CallPrim) (VarE rs_) (VarE e))
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (VarD cleanup () -> () (VarE @cleanup))
+        (LetD
+          (VarP enqueue)
+          (FuncE
+            enqueue
+            Local
+            Returns
+            (params k r b)
+            {#schedule : () -> (); #suspend}
+            (BlockE
+              (LetD WildP (AssignE (VarLE cleanup) (VarE b)))
+              (SwitchE
+                (VarE! result)
+                (case
+                  (LitP NullLit)
+                  (BlockE
+                    (LetD (VarP ws_) (VarE! ws))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE ws)
+                        (FuncE
+                          @anon-func-337.15
+                          Local
+                          Returns
+                          (params r t)
+                          ()
+                          (BlockE
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE ws_)
+                                (PrimE TupPrim (VarE r) (VarE t))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                            (PrimE (CallPrim) (VarE k) (VarE t))
+                          )
+                        )
+                      )
+                    )
+                    (LetD (VarP rs_) (VarE! rs))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE rs)
+                        (FuncE
+                          @anon-func-344.15
+                          Local
+                          Returns
+                          (params e)
+                          ()
+                          (BlockE
+                            (LetD WildP (PrimE (CallPrim) (VarE rs_) (VarE e)))
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_refund)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (PrimE (CallPrim) (VarE r) (VarE e))
+                          )
+                        )
+                      )
+                    )
+                    (PrimE (TagE suspend) (PrimE TupPrim))
+                  )
+                )
+                (case
+                  (OptP (TagP ok (TupP (VarP r) (VarP t))))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-353.19
+                      Local
+                      Returns
+                      ()
+                      (BlockE
+                        (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                        (PrimE (CallPrim) (VarE k) (VarE t))
+                      )
+                    )
+                  )
+                )
+                (case
+                  (OptP (TagP error (VarP e)))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-356.19
+                      Local
+                      Returns
+                      ()
+                      (PrimE (CallPrim) (VarE r) (VarE e))
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (VarE enqueue)
+          (VarE fulfill)
+          (VarE fail)
+          (FuncE
+            @anon-func-361.28
+            Local
+            Returns
+            ()
+            (PrimE (CallPrim) (VarE! cleanup) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD (VarP @ManagementCanister) (NewObjE Module module {}))
+  (LetD
+    (VarP @ic00)
+    (PrimE
+      (ActorOfIdBlob
+        actor {create_canister : shared <system>{sender_canister_version : ?Nat64; settings : ?canister_settings} -> replies {canister_id : Principal}; install_code : shared <system>{arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module} -> replies ()}
+      )
+      (PrimE BlobOfIcUrl (LitE (TextLit aaaaa-aa)))
+    )
+  )
+  (LetD
+    (VarP @install_actor_helper)
+    (FuncE
+      @install_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params install_arg enhanced_orthogonal_persistence wasm_module arg)
+      (Principal -> (), Error -> (), () -> ()) -> ()
+      (FuncE
+        $lambda
+        Local
+        Returns
+        (params $v/34 $e/2 $c/0)
+        ()
+        (PrimE
+          (CallPrim $)
+          (FuncE
+            $lambda
+            Local
+            Returns
+            ($@anon-async*-416.24 Any)
+            (params $k/0 $r/1 $b/0)
+            ()
+            (DeclareE
+              $mode/1
+              (DeclareE
+                $canister_id/0
+                (BlockE
+                  (LetD
+                    (VarP $k/2)
+                    (FuncE
+                      $k/2
+                      Local
+                      Returns
+                      (params $param0/0 $param1/0)
+                      ()
+                      (BlockE
+                        (LetD
+                          (VarP $v/4)
+                          (PrimE TupPrim (VarE $param0/0) (VarE $param1/0))
+                        )
+                        (BlockE
+                          (LetD (TupP (VarP $v/2) (VarP $v/3)) (VarE $v/4))
+                          (LetD WildP (DefineE $mode/1 Const (VarE $v/2)))
+                          (LetD
+                            WildP
+                            (DefineE $canister_id/0 Const (VarE $v/3))
+                          )
+                          (BlockE
+                            (LetD (VarP $u/4) (PrimE TupPrim))
+                            (BlockE
+                              (LetD
+                                (VarP $k/1)
+                                (FuncE
+                                  $k/1
+                                  Local
+                                  Returns
+                                  ()
+                                  (BlockE
+                                    (LetD (VarP $v/5) (PrimE TupPrim))
+                                    (BlockE
+                                      (LetD WildP (VarE $v/5))
+                                      (BlockE
+                                        (LetD (VarP $u/5) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD (VarP $u/6) (PrimE TupPrim))
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE $k/0)
+                                            (PrimE
+                                              RetPrim
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE $k/0)
+                                                (VarE $canister_id/0)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP $v/6)
+                                  (PrimE
+                                    (ActorDotPrim install_code)
+                                    (VarE @ic00)
+                                  )
+                                )
+                                (BlockE
+                                  (LetD
+                                    (VarP $u/7)
+                                    (BlockE
+                                      (LetD
+                                        (TupP
+                                          (VarP $async/3)
+                                          (VarP $reply/1)
+                                          (VarP $reject/1)
+                                          (VarP $cleanup/1)
+                                        )
+                                        (BlockE
+                                          (LetD
+                                            (TupP
+                                              (VarP $async/2)
+                                              (VarP $fulfill/1)
+                                              (VarP $fail/1)
+                                              (VarP $clean/1)
+                                            )
+                                            (PrimE
+                                              (CallPrim ())
+                                              (VarE @new_async)
+                                              (PrimE TupPrim)
+                                            )
+                                          )
+                                          (PrimE
+                                            TupPrim
+                                            (FuncE
+                                              $lambda
+                                              Local
+                                              Returns
+                                              (params $k/13 $r/9 $b/7)
+                                              {#schedule : () -> (); #suspend}
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE $async/2)
+                                                (PrimE
+                                                  TupPrim
+                                                  (FuncE
+                                                    $lambda
+                                                    Local
+                                                    Returns
+                                                    (params $v/37)
+                                                    ()
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE $k/13)
+                                                      (VarE $v/37)
+                                                    )
+                                                  )
+                                                  (VarE $r/9)
+                                                  (VarE $b/7)
+                                                )
+                                              )
+                                            )
+                                            (FuncE
+                                              $lambda
+                                              Local
+                                              Returns
+                                              ()
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE $fulfill/1)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                            (VarE $fail/1)
+                                            (VarE $clean/1)
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        (VarP $x/2)
+                                        (BlockE
+                                          (LetD
+                                            (VarP $$sender_canister_version/0/0)
+                                            (PrimE
+                                              OptPrim
+                                              (PrimE canister_version)
+                                            )
+                                          )
+                                          (NewObjE
+                                            Object
+                                            (sender_canister_version
+                                              $$sender_canister_version/0/0
+                                            )
+                                            (arg arg)
+                                            (wasm_module wasm_module)
+                                            (canister_id $canister_id/0)
+                                            (mode $mode/1)
+                                            {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        WildP
+                                        (PrimE
+                                          ICCallPrim
+                                          (VarE $v/6)
+                                          (VarE $x/2)
+                                          (VarE $reply/1)
+                                          (VarE $reject/1)
+                                          (VarE $cleanup/1)
+                                        )
+                                      )
+                                      (VarE $async/3)
+                                    )
+                                  )
+                                  (IfE
+                                    (PrimE
+                                      (CallPrim)
+                                      (VarE @call_succeeded)
+                                      (PrimE TupPrim)
+                                    )
+                                    (BlockE
+                                      (LetD
+                                        (VarP $v/36)
+                                        (PrimE
+                                          TupPrim
+                                          (VarE $k/1)
+                                          (VarE $r/1)
+                                          (VarE $b/0)
+                                        )
+                                      )
+                                      (SwitchE
+                                        (PrimE
+                                          (CallPrim)
+                                          (VarE $u/7)
+                                          (VarE $v/36)
+                                        )
+                                        (case
+                                          (TagP suspend WildP)
+                                          (PrimE TupPrim)
+                                        )
+                                        (case
+                                          (TagP schedule (VarP $schedule/1))
+                                          (BlockE
+                                            (LetD
+                                              (VarP $call/1)
+                                              (SelfCallE
+                                                ()
+                                                (PrimE
+                                                  (ICReplyPrim)
+                                                  (PrimE TupPrim)
+                                                )
+                                                (VarE $schedule/1)
+                                                (PrimE
+                                                  (ProjPrim 1)
+                                                  (VarE $v/36)
+                                                )
+                                                (FuncE
+                                                  $lambda
+                                                  Local
+                                                  Returns
+                                                  ()
+                                                  (PrimE
+                                                    (CallPrim)
+                                                    (PrimE
+                                                      (ProjPrim 2)
+                                                      (VarE $v/36)
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (IfE
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE @call_succeeded)
+                                                (PrimE TupPrim)
+                                              )
+                                              (VarE $call/1)
+                                              (PrimE
+                                                (CallPrim)
+                                                (PrimE
+                                                  (ProjPrim 1)
+                                                  (VarE $v/36)
+                                                )
+                                                (PrimE
+                                                  (CallPrim)
+                                                  (VarE @call_error)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                    (PrimE
+                                      (CallPrim)
+                                      (VarE $r/1)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE @call_error)
+                                        (PrimE TupPrim)
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (SwitchE
+                    (VarE install_arg)
+                    (case
+                      (TagP new (VarP $settings/2))
+                      (DeclareE
+                        $available/0
+                        (DeclareE
+                          $accepted/0
+                          (DeclareE
+                            $sender_canister_version/2
+                            (DeclareE
+                              $canister_id/1
+                              (BlockE
+                                (LetD
+                                  (VarP $v/7)
+                                  (PrimE SystemCyclesAvailablePrim)
+                                )
+                                (LetD
+                                  WildP
+                                  (DefineE $available/0 Const (VarE $v/7))
+                                )
+                                (BlockE
+                                  (LetD (VarP $u/8) (PrimE TupPrim))
+                                  (BlockE
+                                    (LetD
+                                      (VarP $v/8)
+                                      (PrimE
+                                        SystemCyclesAcceptPrim
+                                        (VarE $available/0)
+                                      )
+                                    )
+                                    (LetD
+                                      WildP
+                                      (DefineE $accepted/0 Const (VarE $v/8))
+                                    )
+                                    (BlockE
+                                      (LetD (VarP $u/9) (PrimE TupPrim))
+                                      (BlockE
+                                        (LetD
+                                          (VarP $v/9)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE canister_version)
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (DefineE
+                                            $sender_canister_version/2
+                                            Const
+                                            (VarE $v/9)
+                                          )
+                                        )
+                                        (BlockE
+                                          (LetD (VarP $u/10) (PrimE TupPrim))
+                                          (BlockE
+                                            (LetD
+                                              WildP
+                                              (AssignE
+                                                (VarLE @cycles)
+                                                (PrimE
+                                                  (BinPrim Nat AddOp)
+                                                  (VarE! @cycles)
+                                                  (VarE $accepted/0)
+                                                )
+                                              )
+                                            )
+                                            (BlockE
+                                              (LetD
+                                                (VarP $u/11)
+                                                (PrimE TupPrim)
+                                              )
+                                              (BlockE
+                                                (LetD
+                                                  (VarP $k/3)
+                                                  (FuncE
+                                                    $k/3
+                                                    Local
+                                                    Returns
+                                                    (params $v/11)
+                                                    ()
+                                                    (BlockE
+                                                      (LetD
+                                                        (ObjP
+                                                          (canister_id
+                                                            (VarP $v/10)
+                                                          )
+                                                        )
+                                                        (VarE $v/11)
+                                                      )
+                                                      (LetD
+                                                        WildP
+                                                        (DefineE
+                                                          $canister_id/1
+                                                          Const
+                                                          (VarE $v/10)
+                                                        )
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $u/12)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $u/13)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $k/2)
+                                                            (PrimE
+                                                              TupPrim
+                                                              (PrimE
+                                                                (TagE install)
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (VarE
+                                                                $canister_id/1
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $v/12)
+                                                    (PrimE
+                                                      (ActorDotPrim
+                                                        create_canister
+                                                      )
+                                                      (VarE @ic00)
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $u/14)
+                                                      (BlockE
+                                                        (LetD
+                                                          (TupP
+                                                            (VarP $async/1)
+                                                            (VarP $reply/0)
+                                                            (VarP $reject/0)
+                                                            (VarP $cleanup/0)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              (TupP
+                                                                (VarP $async/0)
+                                                                (VarP
+                                                                  $fulfill/0
+                                                                )
+                                                                (VarP $fail/0)
+                                                                (VarP $clean/0)
+                                                              )
+                                                              (PrimE
+                                                                (CallPrim
+                                                                  {canister_id : Principal}
+                                                                )
+                                                                (VarE
+                                                                  @new_async
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                            )
+                                                            (PrimE
+                                                              TupPrim
+                                                              (VarE $async/0)
+                                                              (FuncE
+                                                                $lambda
+                                                                Local
+                                                                Returns
+                                                                (params $rep0/0)
+                                                                ()
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (VarE
+                                                                    $fulfill/0
+                                                                  )
+                                                                  (VarE $rep0/0)
+                                                                )
+                                                              )
+                                                              (VarE $fail/0)
+                                                              (VarE $clean/0)
+                                                            )
+                                                          )
+                                                        )
+                                                        (LetD
+                                                          (VarP $x/1)
+                                                          (BlockE
+                                                            (LetD
+                                                              (VarP $$base/0/0)
+                                                              (VarE $settings/2)
+                                                            )
+                                                            (LetD
+                                                              (VarP
+                                                                $$settings/0/0
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim
+                                                                  settings
+                                                                )
+                                                                (VarE
+                                                                  $$base/0/0
+                                                                )
+                                                              )
+                                                            )
+                                                            (NewObjE
+                                                              Object
+                                                              (settings
+                                                                $$settings/0/0
+                                                              )
+                                                              (sender_canister_version
+                                                                $sender_canister_version/2
+                                                              )
+                                                              {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                                                            )
+                                                          )
+                                                        )
+                                                        (LetD
+                                                          WildP
+                                                          (PrimE
+                                                            ICCallPrim
+                                                            (VarE $v/12)
+                                                            (VarE $x/1)
+                                                            (VarE $reply/0)
+                                                            (VarE $reject/0)
+                                                            (VarE $cleanup/0)
+                                                          )
+                                                        )
+                                                        (VarE $async/1)
+                                                      )
+                                                    )
+                                                    (IfE
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE @call_succeeded)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $v/35)
+                                                          (PrimE
+                                                            TupPrim
+                                                            (VarE $k/3)
+                                                            (VarE $r/1)
+                                                            (VarE $b/0)
+                                                          )
+                                                        )
+                                                        (SwitchE
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $u/14)
+                                                            (VarE $v/35)
+                                                          )
+                                                          (case
+                                                            (TagP suspend WildP)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (case
+                                                            (TagP
+                                                              schedule
+                                                              (VarP $schedule/0)
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                (VarP $call/0)
+                                                                (SelfCallE
+                                                                  ()
+                                                                  (PrimE
+                                                                    (ICReplyPrim
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                  (VarE
+                                                                    $schedule/0
+                                                                  )
+                                                                  (PrimE
+                                                                    (ProjPrim 1)
+                                                                    (VarE $v/35)
+                                                                  )
+                                                                  (FuncE
+                                                                    $lambda
+                                                                    Local
+                                                                    Returns
+                                                                    ()
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (PrimE
+                                                                        (ProjPrim
+                                                                          2
+                                                                        )
+                                                                        (VarE
+                                                                          $v/35
+                                                                        )
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                              (IfE
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (VarE
+                                                                    @call_succeeded
+                                                                  )
+                                                                  (PrimE
+                                                                    TupPrim
+                                                                  )
+                                                                )
+                                                                (VarE $call/0)
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (PrimE
+                                                                    (ProjPrim 1)
+                                                                    (VarE $v/35)
+                                                                  )
+                                                                  (PrimE
+                                                                    (CallPrim)
+                                                                    (VarE
+                                                                      @call_error
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE $r/1)
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE @call_error)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                    (case
+                      (TagP install (VarP $principal1/0))
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (PrimE
+                          TupPrim
+                          (PrimE (TagE install) (PrimE TupPrim))
+                          (VarE $principal1/0)
+                        )
+                      )
+                    )
+                    (case
+                      (TagP reinstall (VarP $actor1/0))
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (PrimE
+                          TupPrim
+                          (PrimE (TagE reinstall) (PrimE TupPrim))
+                          (PrimE principalOfActor (VarE $actor1/0))
+                        )
+                      )
+                    )
+                    (case
+                      (TagP upgrade (VarP $actor2/0))
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (BlockE
+                          (LetD
+                            (VarP $wasm_memory_persistence/1)
+                            (IfE
+                              (VarE enhanced_orthogonal_persistence)
+                              (PrimE
+                                OptPrim
+                                (PrimE (TagE keep) (PrimE TupPrim))
+                              )
+                              (LitE NullLit)
+                            )
+                          )
+                          (LetD
+                            (VarP $upgradeOptions/0)
+                            (NewObjE
+                              Object
+                              (wasm_memory_persistence
+                                $wasm_memory_persistence/1
+                              )
+                              {wasm_memory_persistence : ?{#keep}}
+                            )
+                          )
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (TagE upgrade)
+                              (PrimE OptPrim (VarE $upgradeOptions/0))
+                            )
+                            (PrimE principalOfActor (VarE $actor2/0))
+                          )
+                        )
+                      )
+                    )
+                    (case
+                      (TagP
+                        upgrade_with_persistence
+                        (ObjP
+                          (wasm_memory_persistence
+                            (VarP $wasm_memory_persistence/2)
+                          )
+                          (canister (VarP $canister/0))
+                        )
+                      )
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (BlockE
+                          (LetD
+                            (VarP $upgradeOptions/1)
+                            (BlockE
+                              (LetD
+                                (VarP $$wasm_memory_persistence/0/0)
+                                (PrimE
+                                  OptPrim
+                                  (VarE $wasm_memory_persistence/2)
+                                )
+                              )
+                              (NewObjE
+                                Object
+                                (wasm_memory_persistence
+                                  $$wasm_memory_persistence/0/0
+                                )
+                                {wasm_memory_persistence : ?{#keep; #replace}}
+                              )
+                            )
+                          )
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (TagE upgrade)
+                              (PrimE OptPrim (VarE $upgradeOptions/1))
+                            )
+                            (PrimE principalOfActor (VarE $canister/0))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (PrimE TupPrim (VarE $v/34) (VarE $e/2) (VarE $c/0))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @create_actor_helper)
+    (FuncE
+      @create_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params wasm_module arg)
+      (Principal -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}
+      (BlockE
+        (LetD
+          (TupP
+            (VarP $async/5)
+            (VarP $reply/2)
+            (VarP $reject/2)
+            (VarP $cleanup/2)
+          )
+          (BlockE
+            (LetD
+              (TupP
+                (VarP $async/4)
+                (VarP $fulfill/2)
+                (VarP $fail/2)
+                (VarP $clean/2)
+              )
+              (PrimE (CallPrim Principal) (VarE @new_async) (PrimE TupPrim))
+            )
+            (PrimE
+              TupPrim
+              (VarE $async/4)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                (params $rep0/1)
+                ()
+                (PrimE (CallPrim) (VarE $fulfill/2) (VarE $rep0/1))
+              )
+              (VarE $fail/2)
+              (VarE $clean/2)
+            )
+          )
+        )
+        (LetD
+          WildP
+          (SelfCallE
+            Principal
+            (PrimE
+              (CallPrim $)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ($@anon-async-464.79 Any)
+                (params $k/4 $r/2 $b/1)
+                ()
+                (DeclareE
+                  $available/1
+                  (DeclareE
+                    $accepted/1
+                    (DeclareE
+                      $sender_canister_version/3
+                      (DeclareE
+                        $canister_id/2
+                        (BlockE
+                          (LetD (VarP $v/13) (PrimE SystemCyclesAvailablePrim))
+                          (LetD WildP (DefineE $available/1 Const (VarE $v/13)))
+                          (BlockE
+                            (LetD (VarP $u/15) (PrimE TupPrim))
+                            (BlockE
+                              (LetD
+                                (VarP $v/14)
+                                (PrimE
+                                  SystemCyclesAcceptPrim
+                                  (VarE $available/1)
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (DefineE $accepted/1 Const (VarE $v/14))
+                              )
+                              (BlockE
+                                (LetD (VarP $u/16) (PrimE TupPrim))
+                                (BlockE
+                                  (LetD
+                                    (VarP $v/15)
+                                    (PrimE OptPrim (PrimE canister_version))
+                                  )
+                                  (LetD
+                                    WildP
+                                    (DefineE
+                                      $sender_canister_version/3
+                                      Const
+                                      (VarE $v/15)
+                                    )
+                                  )
+                                  (BlockE
+                                    (LetD (VarP $u/17) (PrimE TupPrim))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (VarLE @cycles)
+                                          (PrimE
+                                            (BinPrim Nat AddOp)
+                                            (VarE! @cycles)
+                                            (VarE $accepted/1)
+                                          )
+                                        )
+                                      )
+                                      (BlockE
+                                        (LetD (VarP $u/18) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD
+                                            (VarP $k/6)
+                                            (FuncE
+                                              $k/6
+                                              Local
+                                              Returns
+                                              (params $v/17)
+                                              ()
+                                              (BlockE
+                                                (LetD
+                                                  (ObjP
+                                                    (canister_id (VarP $v/16))
+                                                  )
+                                                  (VarE $v/17)
+                                                )
+                                                (LetD
+                                                  WildP
+                                                  (DefineE
+                                                    $canister_id/2
+                                                    Const
+                                                    (VarE $v/16)
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $u/19)
+                                                    (PrimE TupPrim)
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $k/5)
+                                                      (FuncE
+                                                        $k/5
+                                                        Local
+                                                        Returns
+                                                        ()
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $v/18)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              WildP
+                                                              (VarE $v/18)
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                (VarP $u/20)
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (BlockE
+                                                                (LetD
+                                                                  (VarP $u/21)
+                                                                  (PrimE
+                                                                    TupPrim
+                                                                  )
+                                                                )
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (VarE $k/4)
+                                                                  (PrimE
+                                                                    RetPrim
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        $k/4
+                                                                      )
+                                                                      (VarE
+                                                                        $canister_id/2
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        (VarP $v/19)
+                                                        (PrimE
+                                                          (ActorDotPrim
+                                                            install_code
+                                                          )
+                                                          (VarE @ic00)
+                                                        )
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $u/22)
+                                                          (BlockE
+                                                            (LetD
+                                                              (TupP
+                                                                (VarP $async/9)
+                                                                (VarP $reply/4)
+                                                                (VarP $reject/4)
+                                                                (VarP
+                                                                  $cleanup/4
+                                                                )
+                                                              )
+                                                              (BlockE
+                                                                (LetD
+                                                                  (TupP
+                                                                    (VarP
+                                                                      $async/8
+                                                                    )
+                                                                    (VarP
+                                                                      $fulfill/4
+                                                                    )
+                                                                    (VarP
+                                                                      $fail/4
+                                                                    )
+                                                                    (VarP
+                                                                      $clean/4
+                                                                    )
+                                                                  )
+                                                                  (PrimE
+                                                                    (CallPrim
+                                                                      ()
+                                                                    )
+                                                                    (VarE
+                                                                      @new_async
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (PrimE
+                                                                  TupPrim
+                                                                  (FuncE
+                                                                    $lambda
+                                                                    Local
+                                                                    Returns
+                                                                    (params
+                                                                      $k/14
+                                                                      $r/10
+                                                                      $b/8
+                                                                    )
+                                                                    {#schedule : () -> (); #suspend}
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        $async/8
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                        (FuncE
+                                                                          $lambda
+                                                                          Local
+                                                                          Returns
+                                                                          (params
+                                                                            $v/41
+                                                                          )
+                                                                          ()
+                                                                          (PrimE
+                                                                            (CallPrim
+                                                                            )
+                                                                            (VarE
+                                                                              $k/14
+                                                                            )
+                                                                            (VarE
+                                                                              $v/41
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                        (VarE
+                                                                          $r/10
+                                                                        )
+                                                                        (VarE
+                                                                          $b/8
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (FuncE
+                                                                    $lambda
+                                                                    Local
+                                                                    Returns
+                                                                    ()
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        $fulfill/4
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (VarE $fail/4)
+                                                                  (VarE
+                                                                    $clean/4
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                            (LetD
+                                                              (VarP $x/4)
+                                                              (BlockE
+                                                                (LetD
+                                                                  (VarP
+                                                                    $$mode/0/0
+                                                                  )
+                                                                  (PrimE
+                                                                    (TagE
+                                                                      install
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (LetD
+                                                                  (VarP
+                                                                    $$sender_canister_version/1/0
+                                                                  )
+                                                                  (PrimE
+                                                                    OptPrim
+                                                                    (PrimE
+                                                                      canister_version
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (NewObjE
+                                                                  Object
+                                                                  (sender_canister_version
+                                                                    $$sender_canister_version/1/0
+                                                                  )
+                                                                  (arg arg)
+                                                                  (wasm_module
+                                                                    wasm_module
+                                                                  )
+                                                                  (canister_id
+                                                                    $canister_id/2
+                                                                  )
+                                                                  (mode
+                                                                    $$mode/0/0
+                                                                  )
+                                                                  {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                                                                )
+                                                              )
+                                                            )
+                                                            (LetD
+                                                              WildP
+                                                              (PrimE
+                                                                ICCallPrim
+                                                                (VarE $v/19)
+                                                                (VarE $x/4)
+                                                                (VarE $reply/4)
+                                                                (VarE $reject/4)
+                                                                (VarE
+                                                                  $cleanup/4
+                                                                )
+                                                              )
+                                                            )
+                                                            (VarE $async/9)
+                                                          )
+                                                        )
+                                                        (IfE
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE
+                                                              @call_succeeded
+                                                            )
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              (VarP $v/40)
+                                                              (PrimE
+                                                                TupPrim
+                                                                (VarE $k/5)
+                                                                (VarE $r/2)
+                                                                (VarE $b/1)
+                                                              )
+                                                            )
+                                                            (SwitchE
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (VarE $u/22)
+                                                                (VarE $v/40)
+                                                              )
+                                                              (case
+                                                                (TagP
+                                                                  suspend
+                                                                  WildP
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (case
+                                                                (TagP
+                                                                  schedule
+                                                                  (VarP
+                                                                    $schedule/3
+                                                                  )
+                                                                )
+                                                                (BlockE
+                                                                  (LetD
+                                                                    (VarP
+                                                                      $call/3
+                                                                    )
+                                                                    (SelfCallE
+                                                                      ()
+                                                                      (PrimE
+                                                                        (ICReplyPrim
+                                                                        )
+                                                                        (PrimE
+                                                                          TupPrim
+                                                                        )
+                                                                      )
+                                                                      (VarE
+                                                                        $schedule/3
+                                                                      )
+                                                                      (PrimE
+                                                                        (ProjPrim
+                                                                          1
+                                                                        )
+                                                                        (VarE
+                                                                          $v/40
+                                                                        )
+                                                                      )
+                                                                      (FuncE
+                                                                        $lambda
+                                                                        Local
+                                                                        Returns
+                                                                        ()
+                                                                        (PrimE
+                                                                          (CallPrim
+                                                                          )
+                                                                          (PrimE
+                                                                            (ProjPrim
+                                                                              2
+                                                                            )
+                                                                            (VarE
+                                                                              $v/40
+                                                                            )
+                                                                          )
+                                                                          (PrimE
+                                                                            TupPrim
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (IfE
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        @call_succeeded
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                      )
+                                                                    )
+                                                                    (VarE
+                                                                      $call/3
+                                                                    )
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (PrimE
+                                                                        (ProjPrim
+                                                                          1
+                                                                        )
+                                                                        (VarE
+                                                                          $v/40
+                                                                        )
+                                                                      )
+                                                                      (PrimE
+                                                                        (CallPrim
+                                                                        )
+                                                                        (VarE
+                                                                          @call_error
+                                                                        )
+                                                                        (PrimE
+                                                                          TupPrim
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $r/2)
+                                                            (PrimE
+                                                              (CallPrim)
+                                                              (VarE @call_error)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                          (BlockE
+                                            (LetD
+                                              (VarP $v/20)
+                                              (PrimE
+                                                (ActorDotPrim create_canister)
+                                                (VarE @ic00)
+                                              )
+                                            )
+                                            (BlockE
+                                              (LetD
+                                                (VarP $u/23)
+                                                (BlockE
+                                                  (LetD
+                                                    (TupP
+                                                      (VarP $async/7)
+                                                      (VarP $reply/3)
+                                                      (VarP $reject/3)
+                                                      (VarP $cleanup/3)
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        (TupP
+                                                          (VarP $async/6)
+                                                          (VarP $fulfill/3)
+                                                          (VarP $fail/3)
+                                                          (VarP $clean/3)
+                                                        )
+                                                        (PrimE
+                                                          (CallPrim
+                                                            {canister_id : Principal}
+                                                          )
+                                                          (VarE @new_async)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                      )
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE $async/6)
+                                                        (FuncE
+                                                          $lambda
+                                                          Local
+                                                          Returns
+                                                          (params $rep0/2)
+                                                          ()
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $fulfill/3)
+                                                            (VarE $rep0/2)
+                                                          )
+                                                        )
+                                                        (VarE $fail/3)
+                                                        (VarE $clean/3)
+                                                      )
+                                                    )
+                                                  )
+                                                  (LetD
+                                                    (VarP $x/3)
+                                                    (BlockE
+                                                      (LetD
+                                                        (VarP $$settings/1/0)
+                                                        (LitE NullLit)
+                                                      )
+                                                      (NewObjE
+                                                        Object
+                                                        (sender_canister_version
+                                                          $sender_canister_version/3
+                                                        )
+                                                        (settings
+                                                          $$settings/1/0
+                                                        )
+                                                        {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                                                      )
+                                                    )
+                                                  )
+                                                  (LetD
+                                                    WildP
+                                                    (PrimE
+                                                      ICCallPrim
+                                                      (VarE $v/20)
+                                                      (VarE $x/3)
+                                                      (VarE $reply/3)
+                                                      (VarE $reject/3)
+                                                      (VarE $cleanup/3)
+                                                    )
+                                                  )
+                                                  (VarE $async/7)
+                                                )
+                                              )
+                                              (IfE
+                                                (PrimE
+                                                  (CallPrim)
+                                                  (VarE @call_succeeded)
+                                                  (PrimE TupPrim)
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $v/39)
+                                                    (PrimE
+                                                      TupPrim
+                                                      (VarE $k/6)
+                                                      (VarE $r/2)
+                                                      (VarE $b/1)
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE $u/23)
+                                                      (VarE $v/39)
+                                                    )
+                                                    (case
+                                                      (TagP suspend WildP)
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (TagP
+                                                        schedule
+                                                        (VarP $schedule/2)
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $call/2)
+                                                          (SelfCallE
+                                                            ()
+                                                            (PrimE
+                                                              (ICReplyPrim)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                            (VarE $schedule/2)
+                                                            (PrimE
+                                                              (ProjPrim 1)
+                                                              (VarE $v/39)
+                                                            )
+                                                            (FuncE
+                                                              $lambda
+                                                              Local
+                                                              Returns
+                                                              ()
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (PrimE
+                                                                  (ProjPrim 2)
+                                                                  (VarE $v/39)
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                        (IfE
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE
+                                                              @call_succeeded
+                                                            )
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (VarE $call/2)
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (PrimE
+                                                              (ProjPrim 1)
+                                                              (VarE $v/39)
+                                                            )
+                                                            (PrimE
+                                                              (CallPrim)
+                                                              (VarE @call_error)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                                (PrimE
+                                                  (CallPrim)
+                                                  (VarE $r/2)
+                                                  (PrimE
+                                                    (CallPrim)
+                                                    (VarE @call_error)
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+              (PrimE
+                TupPrim
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $v/38)
+                  ()
+                  (PrimE (ICReplyPrim Principal) (VarE $v/38))
+                )
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $e/3)
+                  ()
+                  (PrimE
+                    ICRejectPrim
+                    (PrimE
+                      (ProjPrim 1)
+                      (PrimE
+                        (CastPrim
+                          Error
+                          ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                        )
+                        (VarE $e/3)
+                      )
+                    )
+                  )
+                )
+                (VarE @cleanup)
+              )
+            )
+            (VarE $reply/2)
+            (VarE $reject/2)
+            (VarE $cleanup/2)
+          )
+        )
+        (VarE $async/5)
+      )
+    )
+  )
+  (LetD
+    (VarP @call_raw)
+    (FuncE
+      @call_raw
+      Local
+      Returns
+      ($ Any)
+      (params p m a)
+      (Blob -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}
+      (BlockE
+        (LetD
+          (TupP
+            (VarP $async/11)
+            (VarP $reply/5)
+            (VarP $reject/5)
+            (VarP $cleanup/5)
+          )
+          (BlockE
+            (LetD
+              (TupP
+                (VarP $async/10)
+                (VarP $fulfill/5)
+                (VarP $fail/5)
+                (VarP $clean/5)
+              )
+              (PrimE (CallPrim Blob) (VarE @new_async) (PrimE TupPrim))
+            )
+            (PrimE
+              TupPrim
+              (VarE $async/10)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                (params $rep0/3)
+                ()
+                (PrimE (CallPrim) (VarE $fulfill/5) (VarE $rep0/3))
+              )
+              (VarE $fail/5)
+              (VarE $clean/5)
+            )
+          )
+        )
+        (LetD
+          WildP
+          (SelfCallE
+            Blob
+            (PrimE
+              (CallPrim $)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ($@call_raw Any)
+                (params $k/7 $r/3 $b/2)
+                ()
+                (DeclareE
+                  $available/2
+                  (BlockE
+                    (LetD (VarP $v/21) (PrimE SystemCyclesAvailablePrim))
+                    (LetD WildP (DefineE $available/2 Const (VarE $v/21)))
+                    (BlockE
+                      (LetD (VarP $u/24) (PrimE TupPrim))
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (PrimE
+                              (RelPrim Bool EqOp)
+                              (PrimE
+                                (RelPrim Nat EqOp)
+                                (VarE $available/2)
+                                (LitE (NatLit 0))
+                              )
+                              (LitE (BoolLit false))
+                            )
+                            (AssignE
+                              (VarLE @cycles)
+                              (PrimE SystemCyclesAcceptPrim (VarE $available/2))
+                            )
+                            (PrimE TupPrim)
+                          )
+                        )
+                        (BlockE
+                          (LetD (VarP $u/25) (PrimE TupPrim))
+                          (BlockE
+                            (LetD (VarP $u/26) (PrimE TupPrim))
+                            (BlockE
+                              (LetD
+                                (VarP $u/27)
+                                (BlockE
+                                  (LetD
+                                    (TupP
+                                      (VarP $async/13)
+                                      (VarP $reply/6)
+                                      (VarP $reject/6)
+                                      (VarP $cleanup/6)
+                                    )
+                                    (BlockE
+                                      (LetD
+                                        (TupP
+                                          (VarP $async/12)
+                                          (VarP $fulfill/6)
+                                          (VarP $fail/6)
+                                          (VarP $clean/6)
+                                        )
+                                        (PrimE
+                                          (CallPrim Blob)
+                                          (VarE @new_async)
+                                          (PrimE TupPrim)
+                                        )
+                                      )
+                                      (PrimE
+                                        TupPrim
+                                        (VarE $async/12)
+                                        (FuncE
+                                          $lambda
+                                          Local
+                                          Returns
+                                          (params $rep0/4)
+                                          ()
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE $fulfill/6)
+                                            (VarE $rep0/4)
+                                          )
+                                        )
+                                        (VarE $fail/6)
+                                        (VarE $clean/6)
+                                      )
+                                    )
+                                  )
+                                  (LetD
+                                    WildP
+                                    (PrimE
+                                      ICCallRawPrim
+                                      (VarE p)
+                                      (VarE m)
+                                      (VarE a)
+                                      (VarE $reply/6)
+                                      (VarE $reject/6)
+                                      (VarE $cleanup/6)
+                                    )
+                                  )
+                                  (VarE $async/13)
+                                )
+                              )
+                              (IfE
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE @call_succeeded)
+                                  (PrimE TupPrim)
+                                )
+                                (BlockE
+                                  (LetD
+                                    (VarP $v/43)
+                                    (PrimE
+                                      TupPrim
+                                      (VarE $k/7)
+                                      (VarE $r/3)
+                                      (VarE $b/2)
+                                    )
+                                  )
+                                  (SwitchE
+                                    (PrimE (CallPrim) (VarE $u/27) (VarE $v/43))
+                                    (case (TagP suspend WildP) (PrimE TupPrim))
+                                    (case
+                                      (TagP schedule (VarP $schedule/4))
+                                      (BlockE
+                                        (LetD
+                                          (VarP $call/4)
+                                          (SelfCallE
+                                            ()
+                                            (PrimE
+                                              (ICReplyPrim)
+                                              (PrimE TupPrim)
+                                            )
+                                            (VarE $schedule/4)
+                                            (PrimE (ProjPrim 1) (VarE $v/43))
+                                            (FuncE
+                                              $lambda
+                                              Local
+                                              Returns
+                                              ()
+                                              (PrimE
+                                                (CallPrim)
+                                                (PrimE
+                                                  (ProjPrim 2)
+                                                  (VarE $v/43)
+                                                )
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                        (IfE
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE @call_succeeded)
+                                            (PrimE TupPrim)
+                                          )
+                                          (VarE $call/4)
+                                          (PrimE
+                                            (CallPrim)
+                                            (PrimE (ProjPrim 1) (VarE $v/43))
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE @call_error)
+                                              (PrimE TupPrim)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE $r/3)
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE @call_error)
+                                    (PrimE TupPrim)
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+              (PrimE
+                TupPrim
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $v/42)
+                  ()
+                  (PrimE (ICReplyPrim Blob) (VarE $v/42))
+                )
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $e/4)
+                  ()
+                  (PrimE
+                    ICRejectPrim
+                    (PrimE
+                      (ProjPrim 1)
+                      (PrimE
+                        (CastPrim
+                          Error
+                          ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                        )
+                        (VarE $e/4)
+                      )
+                    )
+                  )
+                )
+                (VarE @cleanup)
+              )
+            )
+            (VarE $reply/5)
+            (VarE $reject/5)
+            (VarE $cleanup/5)
+          )
+        )
+        (VarE $async/11)
+      )
+    )
+  )
+  (LetD
+    (VarP @call_succeeded)
+    (FuncE
+      @call_succeeded
+      Local
+      Returns
+      Bool
+      (PrimE
+        (RelPrim Nat32 EqOp)
+        (PrimE call_perform_status)
+        (LitE (Nat32Lit 0))
+      )
+    )
+  )
+  (LetD
+    (VarP @call_error)
+    (FuncE
+      @call_error
+      Local
+      Returns
+      Error
+      (BlockE
+        (LetD (VarP status) (PrimE call_perform_status))
+        (LetD (VarP message) (PrimE call_perform_message))
+        (LetD
+          (VarP code)
+          (PrimE
+            (TagE call_error)
+            (NewObjE Object (err_code status) {err_code : Nat32})
+          )
+        )
+        (PrimE
+          (CastPrim ({#call_error : {err_code : Nat32}}, Text) Error)
+          (PrimE TupPrim (VarE code) (VarE message))
+        )
+      )
+    )
+  )
+  (VarD @timers ?@Node (LitE NullLit))
+  (LetD
+    (VarP @prune)
+    (FuncE
+      @prune
+      Local
+      Returns
+      (params n)
+      ?@Node
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE NullLit))
+        (case
+          (OptP (VarP n))
+          (IfE
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+              (LitE (Nat64Lit 0))
+            )
+            (PrimE (CallPrim) (VarE @prune) (PrimE (DotPrim post) (VarE n)))
+            (PrimE
+              OptPrim
+              (BlockE
+                (LetD (VarP $base/1) (VarE n))
+                (LetD
+                  (VarP $pre/0)
+                  (PrimE
+                    (CallPrim)
+                    (VarE @prune)
+                    (PrimE (DotPrim pre) (VarE n))
+                  )
+                )
+                (LetD (VarP $delay/0) (PrimE (DotPrim delay) (VarE $base/1)))
+                (LetD (VarP $expire/0) (PrimE (DotPrim expire) (VarE $base/1)))
+                (LetD (VarP $id/0) (PrimE (DotPrim id) (VarE $base/1)))
+                (LetD (VarP $job/0) (PrimE (DotPrim job) (VarE $base/1)))
+                (LetD (VarP $post/0) (PrimE (DotPrim post) (VarE $base/1)))
+                (NewObjE
+                  Object
+                  (post $post/0)
+                  (job $job/0)
+                  (id $id/0)
+                  (expire $expire/0)
+                  (delay $delay/0)
+                  (pre $pre/0)
+                  {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @nextExpiration)
+    (FuncE
+      @nextExpiration
+      Local
+      Returns
+      (params n)
+      Nat64
+      (SwitchE
+        (VarE n)
+        (case (LitP NullLit) (LitE (Nat64Lit 0)))
+        (case
+          (OptP (VarP n))
+          (BlockE
+            (LetD
+              (VarP pivot)
+              (PrimE
+                IdxPrim
+                (PrimE (DotPrim expire) (VarE n))
+                (LitE (NatLit 0))
+              )
+            )
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat64 EqOp) (VarE pivot) (LitE (Nat64Lit 0)))
+                (PrimE
+                  RetPrim
+                  (PrimE
+                    (CallPrim)
+                    (VarE @nextExpiration)
+                    (PrimE (DotPrim post) (VarE n))
+                  )
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              (VarP exp)
+              (PrimE
+                (CallPrim)
+                (VarE @nextExpiration)
+                (PrimE (DotPrim pre) (VarE n))
+              )
+            )
+            (IfE
+              (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+              (VarE pivot)
+              (VarE exp)
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @timer_helper)
+    (FuncE
+      @timer_helper
+      Local
+      Returns
+      ($ Any)
+      (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}
+      (BlockE
+        (LetD
+          (TupP
+            (VarP $async/15)
+            (VarP $reply/7)
+            (VarP $reject/7)
+            (VarP $cleanup/7)
+          )
+          (BlockE
+            (LetD
+              (TupP
+                (VarP $async/14)
+                (VarP $fulfill/7)
+                (VarP $fail/7)
+                (VarP $clean/7)
+              )
+              (PrimE (CallPrim ()) (VarE @new_async) (PrimE TupPrim))
+            )
+            (PrimE
+              TupPrim
+              (FuncE
+                $lambda
+                Local
+                Returns
+                (params $k/15 $r/11 $b/9)
+                {#schedule : () -> (); #suspend}
+                (PrimE
+                  (CallPrim)
+                  (VarE $async/14)
+                  (PrimE
+                    TupPrim
+                    (FuncE
+                      $lambda
+                      Local
+                      Returns
+                      (params $v/44)
+                      ()
+                      (PrimE (CallPrim) (VarE $k/15) (VarE $v/44))
+                    )
+                    (VarE $r/11)
+                    (VarE $b/9)
+                  )
+                )
+              )
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ()
+                (PrimE (CallPrim) (VarE $fulfill/7) (PrimE TupPrim))
+              )
+              (VarE $fail/7)
+              (VarE $clean/7)
+            )
+          )
+        )
+        (LetD
+          WildP
+          (SelfCallE
+            ()
+            (PrimE
+              (CallPrim $)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ($@timer_helper Any)
+                (params $k/8 $r/4 $b/3)
+                ()
+                (DeclareE
+                  $Array_init/0
+                  (DeclareE
+                    $now/0
+                    (DeclareE
+                      $gathered/0
+                      (DeclareE
+                        $thunks/0
+                        (DeclareE
+                          $gatherExpired/0
+                          (DeclareE
+                            $exp/0
+                            (DeclareE
+                              $failed/0
+                              (DeclareE
+                                $reinsert/0
+                                (BlockE
+                                  (LetD
+                                    (VarP $v/22)
+                                    (FuncE
+                                      Array_init
+                                      Local
+                                      Returns
+                                      (T Any)
+                                      (params $len/0 $x/0)
+                                      [var T]
+                                      (PrimE
+                                        Array.init
+                                        (VarE $len/0)
+                                        (VarE $x/0)
+                                      )
+                                    )
+                                  )
+                                  (LetD
+                                    WildP
+                                    (DefineE $Array_init/0 Const (VarE $v/22))
+                                  )
+                                  (BlockE
+                                    (LetD (VarP $u/28) (PrimE TupPrim))
+                                    (BlockE
+                                      (LetD (VarP $v/23) (PrimE SystemTimePrim))
+                                      (LetD
+                                        WildP
+                                        (DefineE $now/0 Const (VarE $v/23))
+                                      )
+                                      (BlockE
+                                        (LetD (VarP $u/29) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD
+                                            (VarP $u/30)
+                                            (DefineE
+                                              $gathered/0
+                                              Var
+                                              (LitE (NatLit 0))
+                                            )
+                                          )
+                                          (BlockE
+                                            (LetD
+                                              (VarP $v/24)
+                                              (PrimE
+                                                (CallPrim
+                                                  ?(<system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend})
+                                                )
+                                                (VarE $Array_init/0)
+                                                (PrimE
+                                                  TupPrim
+                                                  (LitE (NatLit 10))
+                                                  (LitE NullLit)
+                                                )
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (DefineE
+                                                $thunks/0
+                                                Const
+                                                (VarE $v/24)
+                                              )
+                                            )
+                                            (BlockE
+                                              (LetD
+                                                (VarP $u/31)
+                                                (PrimE TupPrim)
+                                              )
+                                              (BlockE
+                                                (LetD
+                                                  (VarP $v/25)
+                                                  (FuncE
+                                                    gatherExpired
+                                                    Local
+                                                    Returns
+                                                    (params $n/0)
+                                                    ()
+                                                    (SwitchE
+                                                      (VarE $n/0)
+                                                      (case
+                                                        (LitP NullLit)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                      (case
+                                                        (OptP (VarP $n/1))
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $pivot/0)
+                                                            (PrimE
+                                                              IdxPrim
+                                                              (PrimE
+                                                                (DotPrim expire)
+                                                                (VarE $n/1)
+                                                              )
+                                                              (LitE (NatLit 0))
+                                                            )
+                                                          )
+                                                          (LetD
+                                                            WildP
+                                                            (IfE
+                                                              (PrimE
+                                                                (RelPrim
+                                                                  Nat64
+                                                                  GtOp
+                                                                )
+                                                                (VarE $pivot/0)
+                                                                (LitE
+                                                                  (Nat64Lit 0)
+                                                                )
+                                                              )
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (VarE
+                                                                  $gatherExpired/0
+                                                                )
+                                                                (PrimE
+                                                                  (DotPrim pre)
+                                                                  (VarE $n/1)
+                                                                )
+                                                              )
+                                                              (PrimE TupPrim)
+                                                            )
+                                                          )
+                                                          (IfE
+                                                            (IfE
+                                                              (PrimE
+                                                                (RelPrim
+                                                                  Nat64
+                                                                  LeOp
+                                                                )
+                                                                (VarE $pivot/0)
+                                                                (VarE $now/0)
+                                                              )
+                                                              (PrimE
+                                                                (RelPrim
+                                                                  Nat
+                                                                  LtOp
+                                                                )
+                                                                (VarE!
+                                                                  $gathered/0
+                                                                )
+                                                                (PrimE
+                                                                  array_len
+                                                                  (VarE
+                                                                    $thunks/0
+                                                                  )
+                                                                )
+                                                              )
+                                                              (LitE
+                                                                (BoolLit false)
+                                                              )
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                WildP
+                                                                (IfE
+                                                                  (PrimE
+                                                                    (RelPrim
+                                                                      Nat64
+                                                                      GtOp
+                                                                    )
+                                                                    (VarE
+                                                                      $pivot/0
+                                                                    )
+                                                                    (LitE
+                                                                      (Nat64Lit
+                                                                        0
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (BlockE
+                                                                    (LetD
+                                                                      WildP
+                                                                      (AssignE
+                                                                        (IdxLE
+                                                                          (VarE
+                                                                            $thunks/0
+                                                                          )
+                                                                          (VarE!
+                                                                            $gathered/0
+                                                                          )
+                                                                        )
+                                                                        (PrimE
+                                                                          OptPrim
+                                                                          (PrimE
+                                                                            (DotPrim
+                                                                              job
+                                                                            )
+                                                                            (VarE
+                                                                              $n/1
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (LetD
+                                                                      WildP
+                                                                      (SwitchE
+                                                                        (PrimE
+                                                                          (DotPrim
+                                                                            delay
+                                                                          )
+                                                                          (VarE
+                                                                            $n/1
+                                                                          )
+                                                                        )
+                                                                        (case
+                                                                          (AltP
+                                                                            (LitP
+                                                                              NullLit
+                                                                            )
+                                                                            (OptP
+                                                                              (LitP
+                                                                                (Nat64Lit
+                                                                                  0
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                          (AssignE
+                                                                            (IdxLE
+                                                                              (PrimE
+                                                                                (DotPrim
+                                                                                  expire
+                                                                                )
+                                                                                (VarE
+                                                                                  $n/1
+                                                                                )
+                                                                              )
+                                                                              (LitE
+                                                                                (NatLit
+                                                                                  0
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LitE
+                                                                              (Nat64Lit
+                                                                                0
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                        (case
+                                                                          (OptP
+                                                                            (VarP
+                                                                              $delay/9
+                                                                            )
+                                                                          )
+                                                                          (BlockE
+                                                                            (LetD
+                                                                              (VarP
+                                                                                $expire/11
+                                                                              )
+                                                                              (PrimE
+                                                                                (BinPrim
+                                                                                  Nat64
+                                                                                  AddOp
+                                                                                )
+                                                                                (VarE
+                                                                                  $pivot/0
+                                                                                )
+                                                                                (PrimE
+                                                                                  (BinPrim
+                                                                                    Nat64
+                                                                                    MulOp
+                                                                                  )
+                                                                                  (VarE
+                                                                                    $delay/9
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (BinPrim
+                                                                                      Nat64
+                                                                                      AddOp
+                                                                                    )
+                                                                                    (LitE
+                                                                                      (Nat64Lit
+                                                                                        1
+                                                                                      )
+                                                                                    )
+                                                                                    (PrimE
+                                                                                      (BinPrim
+                                                                                        Nat64
+                                                                                        DivOp
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (BinPrim
+                                                                                          Nat64
+                                                                                          SubOp
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $now/0
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $pivot/0
+                                                                                        )
+                                                                                      )
+                                                                                      (VarE
+                                                                                        $delay/9
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LetD
+                                                                              WildP
+                                                                              (AssignE
+                                                                                (IdxLE
+                                                                                  (PrimE
+                                                                                    (DotPrim
+                                                                                      expire
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $n/1
+                                                                                    )
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (NatLit
+                                                                                      0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LitE
+                                                                                  (Nat64Lit
+                                                                                    0
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LetD
+                                                                              (VarP
+                                                                                $reinsert/1
+                                                                              )
+                                                                              (FuncE
+                                                                                reinsert
+                                                                                Local
+                                                                                Returns
+                                                                                (params
+                                                                                  $m/0
+                                                                                )
+                                                                                @Node
+                                                                                (SwitchE
+                                                                                  (VarE
+                                                                                    $m/0
+                                                                                  )
+                                                                                  (case
+                                                                                    (LitP
+                                                                                      NullLit
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$base/2/0
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $n/1
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$expire/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (ArrayPrim
+                                                                                            Var
+                                                                                            Nat64
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $expire/11
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$pre/1/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$post/1/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$delay/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (DotPrim
+                                                                                            delay
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $$base/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$id/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (DotPrim
+                                                                                            id
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $$base/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$job/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (DotPrim
+                                                                                            job
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $$base/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (NewObjE
+                                                                                        Object
+                                                                                        (job
+                                                                                          $$job/1/0
+                                                                                        )
+                                                                                        (id
+                                                                                          $$id/1/0
+                                                                                        )
+                                                                                        (delay
+                                                                                          $$delay/1/0
+                                                                                        )
+                                                                                        (post
+                                                                                          $$post/1/0
+                                                                                        )
+                                                                                        (pre
+                                                                                          $$pre/1/0
+                                                                                        )
+                                                                                        (expire
+                                                                                          $$expire/1/0
+                                                                                        )
+                                                                                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (case
+                                                                                    (OptP
+                                                                                      (VarP
+                                                                                        $m/1
+                                                                                      )
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        WildP
+                                                                                        (PrimE
+                                                                                          AssertPrim
+                                                                                          (PrimE
+                                                                                            (RelPrim
+                                                                                              Bool
+                                                                                              EqOp
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (RelPrim
+                                                                                                Nat64
+                                                                                                EqOp
+                                                                                              )
+                                                                                              (PrimE
+                                                                                                IdxPrim
+                                                                                                (PrimE
+                                                                                                  (DotPrim
+                                                                                                    expire
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $m/1
+                                                                                                  )
+                                                                                                )
+                                                                                                (LitE
+                                                                                                  (NatLit
+                                                                                                    0
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                              (LitE
+                                                                                                (Nat64Lit
+                                                                                                  0
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                            (LitE
+                                                                                              (BoolLit
+                                                                                                false
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (IfE
+                                                                                        (PrimE
+                                                                                          (RelPrim
+                                                                                            Nat64
+                                                                                            LtOp
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $expire/11
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            IdxPrim
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                expire
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $m/1
+                                                                                              )
+                                                                                            )
+                                                                                            (LitE
+                                                                                              (NatLit
+                                                                                                0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                        (BlockE
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$base/4/0
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $m/1
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$pre/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              OptPrim
+                                                                                              (PrimE
+                                                                                                (CallPrim
+                                                                                                )
+                                                                                                (VarE
+                                                                                                  $reinsert/1
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  (DotPrim
+                                                                                                    pre
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $m/1
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$delay/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                delay
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$expire/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                expire
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$id/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                id
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$job/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                job
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$post/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                post
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (NewObjE
+                                                                                            Object
+                                                                                            (post
+                                                                                              $$post/3/0
+                                                                                            )
+                                                                                            (job
+                                                                                              $$job/3/0
+                                                                                            )
+                                                                                            (id
+                                                                                              $$id/3/0
+                                                                                            )
+                                                                                            (expire
+                                                                                              $$expire/3/0
+                                                                                            )
+                                                                                            (delay
+                                                                                              $$delay/3/0
+                                                                                            )
+                                                                                            (pre
+                                                                                              $$pre/3/0
+                                                                                            )
+                                                                                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                          )
+                                                                                        )
+                                                                                        (BlockE
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$base/3/0
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $m/1
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$post/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              OptPrim
+                                                                                              (PrimE
+                                                                                                (CallPrim
+                                                                                                )
+                                                                                                (VarE
+                                                                                                  $reinsert/1
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  (DotPrim
+                                                                                                    post
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $m/1
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$delay/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                delay
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$expire/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                expire
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$id/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                id
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$job/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                job
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$pre/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                pre
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (NewObjE
+                                                                                            Object
+                                                                                            (pre
+                                                                                              $$pre/2/0
+                                                                                            )
+                                                                                            (job
+                                                                                              $$job/2/0
+                                                                                            )
+                                                                                            (id
+                                                                                              $$id/2/0
+                                                                                            )
+                                                                                            (expire
+                                                                                              $$expire/2/0
+                                                                                            )
+                                                                                            (delay
+                                                                                              $$delay/2/0
+                                                                                            )
+                                                                                            (post
+                                                                                              $$post/2/0
+                                                                                            )
+                                                                                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (AssignE
+                                                                              (VarLE
+                                                                                @timers
+                                                                              )
+                                                                              (PrimE
+                                                                                OptPrim
+                                                                                (PrimE
+                                                                                  (CallPrim
+                                                                                  )
+                                                                                  (VarE
+                                                                                    $reinsert/1
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (CallPrim
+                                                                                    )
+                                                                                    (VarE
+                                                                                      @prune
+                                                                                    )
+                                                                                    (VarE!
+                                                                                      @timers
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (AssignE
+                                                                      (VarLE
+                                                                        $gathered/0
+                                                                      )
+                                                                      (PrimE
+                                                                        (BinPrim
+                                                                          Nat
+                                                                          AddOp
+                                                                        )
+                                                                        (VarE!
+                                                                          $gathered/0
+                                                                        )
+                                                                        (LitE
+                                                                          (NatLit
+                                                                            1
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (PrimE
+                                                                    TupPrim
+                                                                  )
+                                                                )
+                                                              )
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (VarE
+                                                                  $gatherExpired/0
+                                                                )
+                                                                (PrimE
+                                                                  (DotPrim post)
+                                                                  (VarE $n/1)
+                                                                )
+                                                              )
+                                                            )
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                                (LetD
+                                                  WildP
+                                                  (DefineE
+                                                    $gatherExpired/0
+                                                    Const
+                                                    (VarE $v/25)
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $u/32)
+                                                    (PrimE TupPrim)
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE $gatherExpired/0)
+                                                        (VarE! @timers)
+                                                      )
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        (VarP $u/33)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $v/26)
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE
+                                                              @nextExpiration
+                                                            )
+                                                            (VarE! @timers)
+                                                          )
+                                                        )
+                                                        (LetD
+                                                          WildP
+                                                          (DefineE
+                                                            $exp/0
+                                                            Const
+                                                            (VarE $v/26)
+                                                          )
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $u/34)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              WildP
+                                                              (BlockE
+                                                                (LetD
+                                                                  WildP
+                                                                  (PrimE
+                                                                    global_timer_set
+                                                                    (VarE
+                                                                      $exp/0
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                (VarP $u/35)
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (BlockE
+                                                                (LetD
+                                                                  WildP
+                                                                  (IfE
+                                                                    (PrimE
+                                                                      (RelPrim
+                                                                        Nat64
+                                                                        EqOp
+                                                                      )
+                                                                      (VarE
+                                                                        $exp/0
+                                                                      )
+                                                                      (LitE
+                                                                        (Nat64Lit
+                                                                          0
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (AssignE
+                                                                      (VarLE
+                                                                        @timers
+                                                                      )
+                                                                      (LitE
+                                                                        NullLit
+                                                                      )
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (BlockE
+                                                                  (LetD
+                                                                    (VarP $u/36)
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                  (BlockE
+                                                                    (LetD
+                                                                      (VarP
+                                                                        $u/37
+                                                                      )
+                                                                      (DefineE
+                                                                        $failed/0
+                                                                        Var
+                                                                        (LitE
+                                                                          (Nat64Lit
+                                                                            0
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (BlockE
+                                                                      (LetD
+                                                                        (VarP
+                                                                          $v/27
+                                                                        )
+                                                                        (FuncE
+                                                                          reinsert
+                                                                          Local
+                                                                          Returns
+                                                                          (params
+                                                                            $job/8
+                                                                          )
+                                                                          ()
+                                                                          (BlockE
+                                                                            (LetD
+                                                                              WildP
+                                                                              (IfE
+                                                                                (PrimE
+                                                                                  (RelPrim
+                                                                                    Nat64
+                                                                                    EqOp
+                                                                                  )
+                                                                                  (VarE!
+                                                                                    $failed/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (Nat64Lit
+                                                                                      0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (BlockE
+                                                                                  (LetD
+                                                                                    WildP
+                                                                                    (AssignE
+                                                                                      (VarLE
+                                                                                        @timers
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (CallPrim
+                                                                                        )
+                                                                                        (VarE
+                                                                                          @prune
+                                                                                        )
+                                                                                        (VarE!
+                                                                                          @timers
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (BlockE
+                                                                                    (LetD
+                                                                                      WildP
+                                                                                      (PrimE
+                                                                                        global_timer_set
+                                                                                        (LitE
+                                                                                          (Nat64Lit
+                                                                                            1
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (PrimE
+                                                                                      TupPrim
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (PrimE
+                                                                                  TupPrim
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LetD
+                                                                              WildP
+                                                                              (AssignE
+                                                                                (VarLE
+                                                                                  $failed/0
+                                                                                )
+                                                                                (PrimE
+                                                                                  (BinPrim
+                                                                                    Nat64
+                                                                                    AddOp
+                                                                                  )
+                                                                                  (VarE!
+                                                                                    $failed/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (Nat64Lit
+                                                                                      1
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (AssignE
+                                                                              (VarLE
+                                                                                @timers
+                                                                              )
+                                                                              (PrimE
+                                                                                OptPrim
+                                                                                (SwitchE
+                                                                                  (VarE!
+                                                                                    @timers
+                                                                                  )
+                                                                                  (case
+                                                                                    (OptP
+                                                                                      (ObjP
+                                                                                        (id
+                                                                                          (LitP
+                                                                                            (IntLit
+                                                                                              0
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                        (pre
+                                                                                          (VarP
+                                                                                            $pre/11
+                                                                                          )
+                                                                                        )
+                                                                                        (post
+                                                                                          (VarP
+                                                                                            $post/11
+                                                                                          )
+                                                                                        )
+                                                                                        (job
+                                                                                          (VarP
+                                                                                            $j/0
+                                                                                          )
+                                                                                        )
+                                                                                        (expire
+                                                                                          (VarP
+                                                                                            $expire/12
+                                                                                          )
+                                                                                        )
+                                                                                        (delay
+                                                                                          (VarP
+                                                                                            $delay/10
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$expire/4/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (ArrayPrim
+                                                                                            Var
+                                                                                            Nat64
+                                                                                          )
+                                                                                          (VarE!
+                                                                                            $failed/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$id/4/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          (NatLit
+                                                                                            0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$pre/4/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          OptPrim
+                                                                                          (BlockE
+                                                                                            (LetD
+                                                                                              (VarP
+                                                                                                $$id/5/0
+                                                                                              )
+                                                                                              (LitE
+                                                                                                (NatLit
+                                                                                                  0
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                            (LetD
+                                                                                              (VarP
+                                                                                                $$post/4/0
+                                                                                              )
+                                                                                              (LitE
+                                                                                                NullLit
+                                                                                              )
+                                                                                            )
+                                                                                            (NewObjE
+                                                                                              Object
+                                                                                              (job
+                                                                                                $j/0
+                                                                                              )
+                                                                                              (delay
+                                                                                                $delay/10
+                                                                                              )
+                                                                                              (post
+                                                                                                $$post/4/0
+                                                                                              )
+                                                                                              (pre
+                                                                                                $pre/11
+                                                                                              )
+                                                                                              (expire
+                                                                                                $expire/12
+                                                                                              )
+                                                                                              (id
+                                                                                                $$id/5/0
+                                                                                              )
+                                                                                              {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (NewObjE
+                                                                                        Object
+                                                                                        (pre
+                                                                                          $$pre/4/0
+                                                                                        )
+                                                                                        (post
+                                                                                          $post/11
+                                                                                        )
+                                                                                        (job
+                                                                                          $job/8
+                                                                                        )
+                                                                                        (delay
+                                                                                          $delay/10
+                                                                                        )
+                                                                                        (id
+                                                                                          $$id/4/0
+                                                                                        )
+                                                                                        (expire
+                                                                                          $$expire/4/0
+                                                                                        )
+                                                                                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (case
+                                                                                    WildP
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$expire/5/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (ArrayPrim
+                                                                                            Var
+                                                                                            Nat64
+                                                                                          )
+                                                                                          (VarE!
+                                                                                            $failed/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$id/6/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          (NatLit
+                                                                                            0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$delay/4/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$pre/5/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$post/5/0
+                                                                                        )
+                                                                                        (VarE!
+                                                                                          @timers
+                                                                                        )
+                                                                                      )
+                                                                                      (NewObjE
+                                                                                        Object
+                                                                                        (post
+                                                                                          $$post/5/0
+                                                                                        )
+                                                                                        (pre
+                                                                                          $$pre/5/0
+                                                                                        )
+                                                                                        (job
+                                                                                          $job/8
+                                                                                        )
+                                                                                        (delay
+                                                                                          $$delay/4/0
+                                                                                        )
+                                                                                        (id
+                                                                                          $$id/6/0
+                                                                                        )
+                                                                                        (expire
+                                                                                          $$expire/5/0
+                                                                                        )
+                                                                                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (LetD
+                                                                        WildP
+                                                                        (DefineE
+                                                                          $reinsert/0
+                                                                          Const
+                                                                          (VarE
+                                                                            $v/27
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (BlockE
+                                                                        (LetD
+                                                                          (VarP
+                                                                            $u/38
+                                                                          )
+                                                                          (PrimE
+                                                                            TupPrim
+                                                                          )
+                                                                        )
+                                                                        (BlockE
+                                                                          (LetD
+                                                                            (VarP
+                                                                              $u/39
+                                                                            )
+                                                                            (PrimE
+                                                                              TupPrim
+                                                                            )
+                                                                          )
+                                                                          (DeclareE
+                                                                            $$arr/2/0
+                                                                            (DeclareE
+                                                                              $$last/2/0
+                                                                              (DeclareE
+                                                                                $$indx/2/0
+                                                                                (BlockE
+                                                                                  (LetD
+                                                                                    (VarP
+                                                                                      $v/28
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $thunks/0
+                                                                                    )
+                                                                                  )
+                                                                                  (LetD
+                                                                                    WildP
+                                                                                    (DefineE
+                                                                                      $$arr/2/0
+                                                                                      Const
+                                                                                      (VarE
+                                                                                        $v/28
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (BlockE
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $u/40
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        TupPrim
+                                                                                      )
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $v/29
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          GetLastArrayOffset
+                                                                                          (VarE
+                                                                                            $$arr/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        WildP
+                                                                                        (DefineE
+                                                                                          $$last/2/0
+                                                                                          Const
+                                                                                          (VarE
+                                                                                            $v/29
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (BlockE
+                                                                                        (LetD
+                                                                                          (VarP
+                                                                                            $u/41
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            TupPrim
+                                                                                          )
+                                                                                        )
+                                                                                        (BlockE
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $u/42
+                                                                                            )
+                                                                                            (DefineE
+                                                                                              $$indx/2/0
+                                                                                              Var
+                                                                                              (LitE
+                                                                                                (NatLit
+                                                                                                  0
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (BlockE
+                                                                                            (LetD
+                                                                                              (VarP
+                                                                                                $u/43
+                                                                                              )
+                                                                                              (PrimE
+                                                                                                TupPrim
+                                                                                              )
+                                                                                            )
+                                                                                            (IfE
+                                                                                              (PrimE
+                                                                                                EqArrayOffset
+                                                                                                (VarE
+                                                                                                  $$last/2/0
+                                                                                                )
+                                                                                                (LitE
+                                                                                                  (IntLit
+                                                                                                    -1
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                              (PrimE
+                                                                                                (CallPrim
+                                                                                                )
+                                                                                                (VarE
+                                                                                                  $k/8
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  TupPrim
+                                                                                                )
+                                                                                              )
+                                                                                              (BlockE
+                                                                                                (LetD
+                                                                                                  (VarP
+                                                                                                    $loop/0
+                                                                                                  )
+                                                                                                  (FuncE
+                                                                                                    $loop/0
+                                                                                                    Local
+                                                                                                    Returns
+                                                                                                    ()
+                                                                                                    (BlockE
+                                                                                                      (LetD
+                                                                                                        (VarP
+                                                                                                          $v/30
+                                                                                                        )
+                                                                                                        (PrimE
+                                                                                                          TupPrim
+                                                                                                        )
+                                                                                                      )
+                                                                                                      (DeclareE
+                                                                                                        $o/0
+                                                                                                        (BlockE
+                                                                                                          (LetD
+                                                                                                            (VarP
+                                                                                                              $v/31
+                                                                                                            )
+                                                                                                            (PrimE
+                                                                                                              DerefArrayOffset
+                                                                                                              (VarE
+                                                                                                                $$arr/2/0
+                                                                                                              )
+                                                                                                              (VarE!
+                                                                                                                $$indx/2/0
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                          (LetD
+                                                                                                            WildP
+                                                                                                            (DefineE
+                                                                                                              $o/0
+                                                                                                              Const
+                                                                                                              (VarE
+                                                                                                                $v/31
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                          (BlockE
+                                                                                                            (LetD
+                                                                                                              (VarP
+                                                                                                                $u/44
+                                                                                                              )
+                                                                                                              (PrimE
+                                                                                                                TupPrim
+                                                                                                              )
+                                                                                                            )
+                                                                                                            (BlockE
+                                                                                                              (LetD
+                                                                                                                (VarP
+                                                                                                                  $k/9
+                                                                                                                )
+                                                                                                                (FuncE
+                                                                                                                  $k/9
+                                                                                                                  Local
+                                                                                                                  Returns
+                                                                                                                  ()
+                                                                                                                  (BlockE
+                                                                                                                    (LetD
+                                                                                                                      (VarP
+                                                                                                                        $v/32
+                                                                                                                      )
+                                                                                                                      (PrimE
+                                                                                                                        TupPrim
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                    (BlockE
+                                                                                                                      (LetD
+                                                                                                                        WildP
+                                                                                                                        (VarE
+                                                                                                                          $v/32
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                      (BlockE
+                                                                                                                        (LetD
+                                                                                                                          (VarP
+                                                                                                                            $u/45
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (BlockE
+                                                                                                                          (LetD
+                                                                                                                            (VarP
+                                                                                                                              $u/46
+                                                                                                                            )
+                                                                                                                            (PrimE
+                                                                                                                              TupPrim
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            (CallPrim
+                                                                                                                            )
+                                                                                                                            (VarE
+                                                                                                                              $loop/0
+                                                                                                                            )
+                                                                                                                            (IfE
+                                                                                                                              (PrimE
+                                                                                                                                EqArrayOffset
+                                                                                                                                (VarE!
+                                                                                                                                  $$indx/2/0
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $$last/2/0
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                RetPrim
+                                                                                                                                (PrimE
+                                                                                                                                  (CallPrim
+                                                                                                                                  )
+                                                                                                                                  (VarE
+                                                                                                                                    $k/8
+                                                                                                                                  )
+                                                                                                                                  (PrimE
+                                                                                                                                    TupPrim
+                                                                                                                                  )
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                              (AssignE
+                                                                                                                                (VarLE
+                                                                                                                                  $$indx/2/0
+                                                                                                                                )
+                                                                                                                                (PrimE
+                                                                                                                                  NextArrayOffset
+                                                                                                                                  (VarE!
+                                                                                                                                    $$indx/2/0
+                                                                                                                                  )
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                              (SwitchE
+                                                                                                                (VarE
+                                                                                                                  $o/0
+                                                                                                                )
+                                                                                                                (case
+                                                                                                                  (OptP
+                                                                                                                    (VarP
+                                                                                                                      $thunk/0
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                  (BlockE
+                                                                                                                    (LetD
+                                                                                                                      (VarP
+                                                                                                                        $r/5
+                                                                                                                      )
+                                                                                                                      (FuncE
+                                                                                                                        $r/5
+                                                                                                                        Local
+                                                                                                                        Returns
+                                                                                                                        (params
+                                                                                                                          $e/1
+                                                                                                                        )
+                                                                                                                        ()
+                                                                                                                        (SwitchE
+                                                                                                                          (VarE
+                                                                                                                            $e/1
+                                                                                                                          )
+                                                                                                                          (case
+                                                                                                                            WildP
+                                                                                                                            (PrimE
+                                                                                                                              (CallPrim
+                                                                                                                              )
+                                                                                                                              (VarE
+                                                                                                                                $k/9
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                (CallPrim
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $reinsert/0
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $thunk/0
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                    (BlockE
+                                                                                                                      (LetD
+                                                                                                                        (VarP
+                                                                                                                          $u/47
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                            $@timer_helper
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $thunk/0
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                      (IfE
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            @call_succeeded
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (BlockE
+                                                                                                                          (LetD
+                                                                                                                            WildP
+                                                                                                                            (VarE
+                                                                                                                              $u/47
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                          (BlockE
+                                                                                                                            (LetD
+                                                                                                                              (VarP
+                                                                                                                                $u/48
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                TupPrim
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                            (BlockE
+                                                                                                                              (LetD
+                                                                                                                                (VarP
+                                                                                                                                  $u/49
+                                                                                                                                )
+                                                                                                                                (PrimE
+                                                                                                                                  TupPrim
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                (CallPrim
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $k/9
+                                                                                                                                )
+                                                                                                                                (PrimE
+                                                                                                                                  TupPrim
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $r/5
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            (CallPrim
+                                                                                                                            )
+                                                                                                                            (VarE
+                                                                                                                              @call_error
+                                                                                                                            )
+                                                                                                                            (PrimE
+                                                                                                                              TupPrim
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                                (case
+                                                                                                                  WildP
+                                                                                                                  (PrimE
+                                                                                                                    (CallPrim
+                                                                                                                    )
+                                                                                                                    (VarE
+                                                                                                                      $k/9
+                                                                                                                    )
+                                                                                                                    (PrimE
+                                                                                                                      RetPrim
+                                                                                                                      (PrimE
+                                                                                                                        (CallPrim
+                                                                                                                        )
+                                                                                                                        (VarE
+                                                                                                                          $k/8
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          TupPrim
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                        )
+                                                                                                      )
+                                                                                                    )
+                                                                                                  )
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  (CallPrim
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $loop/0
+                                                                                                  )
+                                                                                                  (PrimE
+                                                                                                    TupPrim
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+              (PrimE
+                TupPrim
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  ()
+                  (BlockE
+                    (LetD (VarP $v/45) (PrimE TupPrim))
+                    (PrimE (ICReplyPrim) (VarE $v/45))
+                  )
+                )
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $e/5)
+                  ()
+                  (PrimE
+                    ICRejectPrim
+                    (PrimE
+                      (ProjPrim 1)
+                      (PrimE
+                        (CastPrim
+                          Error
+                          ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                        )
+                        (VarE $e/5)
+                      )
+                    )
+                  )
+                )
+                (VarE @cleanup)
+              )
+            )
+            (VarE $reply/7)
+            (VarE $reject/7)
+            (VarE $cleanup/7)
+          )
+        )
+        (VarE $async/15)
+      )
+    )
+  )
+  (VarD @lastTimerId Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @setTimer)
+    (FuncE
+      @setTimer
+      Local
+      Returns
+      ($ Any)
+      (params delayNanos recurring job)
+      Nat
+      (BlockE
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @lastTimerId)
+            (PrimE (BinPrim Nat AddOp) (VarE! @lastTimerId) (LitE (NatLit 1)))
+          )
+        )
+        (LetD (VarP id) (VarE! @lastTimerId))
+        (LetD (VarP now) (PrimE SystemTimePrim))
+        (LetD
+          (VarP expire)
+          (PrimE (BinPrim Nat64 AddOp) (VarE now) (VarE delayNanos))
+        )
+        (LetD
+          (VarP delay)
+          (IfE
+            (VarE recurring)
+            (PrimE OptPrim (VarE delayNanos))
+            (LitE NullLit)
+          )
+        )
+        (LetD
+          (VarP insert)
+          (FuncE
+            insert
+            Local
+            Returns
+            (params n)
+            @Node
+            (SwitchE
+              (VarE n)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP $expire/6)
+                    (PrimE (ArrayPrim Var Nat64) (VarE expire))
+                  )
+                  (LetD (VarP $pre/6) (LitE NullLit))
+                  (LetD (VarP $post/6) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (post $post/6)
+                    (pre $pre/6)
+                    (job job)
+                    (delay delay)
+                    (id id)
+                    (expire $expire/6)
+                    {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                  )
+                )
+              )
+              (case
+                (OptP (VarP n))
+                (BlockE
+                  (LetD
+                    WildP
+                    (PrimE
+                      AssertPrim
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (PrimE
+                            IdxPrim
+                            (PrimE (DotPrim expire) (VarE n))
+                            (LitE (NatLit 0))
+                          )
+                          (LitE (Nat64Lit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                    )
+                  )
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 LtOp)
+                      (VarE expire)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/6) (VarE n))
+                      (LetD
+                        (VarP $pre/8)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim pre) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/6)
+                        (PrimE (DotPrim delay) (VarE $base/6))
+                      )
+                      (LetD
+                        (VarP $expire/8)
+                        (PrimE (DotPrim expire) (VarE $base/6))
+                      )
+                      (LetD (VarP $id/8) (PrimE (DotPrim id) (VarE $base/6)))
+                      (LetD (VarP $job/5) (PrimE (DotPrim job) (VarE $base/6)))
+                      (LetD
+                        (VarP $post/8)
+                        (PrimE (DotPrim post) (VarE $base/6))
+                      )
+                      (NewObjE
+                        Object
+                        (post $post/8)
+                        (job $job/5)
+                        (id $id/8)
+                        (expire $expire/8)
+                        (delay $delay/6)
+                        (pre $pre/8)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/5) (VarE n))
+                      (LetD
+                        (VarP $post/7)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/5)
+                        (PrimE (DotPrim delay) (VarE $base/5))
+                      )
+                      (LetD
+                        (VarP $expire/7)
+                        (PrimE (DotPrim expire) (VarE $base/5))
+                      )
+                      (LetD (VarP $id/7) (PrimE (DotPrim id) (VarE $base/5)))
+                      (LetD (VarP $job/4) (PrimE (DotPrim job) (VarE $base/5)))
+                      (LetD (VarP $pre/7) (PrimE (DotPrim pre) (VarE $base/5)))
+                      (NewObjE
+                        Object
+                        (pre $pre/7)
+                        (job $job/4)
+                        (id $id/7)
+                        (expire $expire/7)
+                        (delay $delay/5)
+                        (post $post/7)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE
+              OptPrim
+              (PrimE
+                (CallPrim)
+                (VarE insert)
+                (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP exp)
+          (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+            (AssignE (VarLE @timers) (LitE NullLit))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (BlockE
+            (LetD WildP (PrimE global_timer_set (VarE exp)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarE id)
+      )
+    )
+  )
+  (LetD
+    (VarP @cancelTimer)
+    (FuncE
+      @cancelTimer
+      Local
+      Returns
+      (params id)
+      ()
+      (BlockE
+        (LetD
+          (VarP graft)
+          (FuncE
+            graft
+            Local
+            Returns
+            (params onto branch)
+            ?@Node
+            (SwitchE
+              (PrimE TupPrim (VarE onto) (VarE branch))
+              (case (TupP (LitP NullLit) (LitP NullLit)) (LitE NullLit))
+              (case (TupP (LitP NullLit) WildP) (VarE branch))
+              (case (TupP WildP (LitP NullLit)) (VarE onto))
+              (case
+                (TupP (OptP (VarP onto)) WildP)
+                (PrimE
+                  OptPrim
+                  (BlockE
+                    (LetD (VarP $base/7) (VarE onto))
+                    (LetD
+                      (VarP $post/9)
+                      (PrimE
+                        (CallPrim)
+                        (VarE graft)
+                        (PrimE
+                          TupPrim
+                          (PrimE (DotPrim post) (VarE onto))
+                          (VarE branch)
+                        )
+                      )
+                    )
+                    (LetD
+                      (VarP $delay/7)
+                      (PrimE (DotPrim delay) (VarE $base/7))
+                    )
+                    (LetD
+                      (VarP $expire/9)
+                      (PrimE (DotPrim expire) (VarE $base/7))
+                    )
+                    (LetD (VarP $id/9) (PrimE (DotPrim id) (VarE $base/7)))
+                    (LetD (VarP $job/6) (PrimE (DotPrim job) (VarE $base/7)))
+                    (LetD (VarP $pre/9) (PrimE (DotPrim pre) (VarE $base/7)))
+                    (NewObjE
+                      Object
+                      (pre $pre/9)
+                      (job $job/6)
+                      (id $id/9)
+                      (expire $expire/9)
+                      (delay $delay/7)
+                      (post $post/9)
+                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP hunt)
+          (FuncE
+            hunt
+            Local
+            Returns
+            (params n)
+            ?@Node
+            (SwitchE
+              (VarE n)
+              (case (LitP NullLit) (VarE n))
+              (case
+                (OptP
+                  (ObjP (id (VarP node)) (pre (VarP pre)) (post (VarP post)))
+                )
+                (IfE
+                  (PrimE (RelPrim Nat EqOp) (VarE node) (VarE id))
+                  (PrimE
+                    (CallPrim)
+                    (VarE graft)
+                    (PrimE TupPrim (VarE pre) (VarE post))
+                  )
+                  (LabelE
+                    !
+                    ?@Node
+                    (PrimE
+                      OptPrim
+                      (BlockE
+                        (LetD
+                          (VarP $base/8)
+                          (SwitchE
+                            (VarE n)
+                            (case
+                              (LitP NullLit)
+                              (PrimE (BreakPrim !) (LitE NullLit))
+                            )
+                            (case (OptP (VarP $v/1)) (VarE $v/1))
+                          )
+                        )
+                        (LetD
+                          (VarP $pre/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE pre))
+                        )
+                        (LetD
+                          (VarP $post/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE post))
+                        )
+                        (LetD
+                          (VarP $delay/8)
+                          (PrimE (DotPrim delay) (VarE $base/8))
+                        )
+                        (LetD
+                          (VarP $expire/10)
+                          (PrimE (DotPrim expire) (VarE $base/8))
+                        )
+                        (LetD (VarP $id/10) (PrimE (DotPrim id) (VarE $base/8)))
+                        (LetD
+                          (VarP $job/7)
+                          (PrimE (DotPrim job) (VarE $base/8))
+                        )
+                        (NewObjE
+                          Object
+                          (job $job/7)
+                          (id $id/10)
+                          (expire $expire/10)
+                          (delay $delay/8)
+                          (post $post/10)
+                          (pre $pre/10)
+                          {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE (CallPrim) (VarE hunt) (VarE! @timers))
+          )
+        )
+        (IfE
+          (PrimE
+            (RelPrim Nat64 EqOp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+            (LitE (Nat64Lit 0))
+          )
+          (BlockE
+            (LetD
+              WildP
+              (BlockE
+                (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 0))))
+                (PrimE TupPrim)
+              )
+            )
+            (AssignE (VarLE @timers) (LitE NullLit))
+          )
+          (PrimE TupPrim)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @set_global_timer)
+    (FuncE
+      @set_global_timer
+      Local
+      Returns
+      (params time)
+      ()
+      (BlockE (LetD WildP (PrimE global_timer_set (VarE time))) (PrimE TupPrim))
+    )
+  )
+  (LetD
+    (VarP @dedup)
+    (FuncE
+      @dedup
+      Local
+      Returns
+      (params b)
+      Blob
+      (BlockE
+        (LetD
+          (VarP Array_tabulate)
+          (FuncE
+            Array_tabulate
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [T]
+            (PrimE Array.tabulate (VarE len) (VarE gen))
+          )
+        )
+        (LetD
+          (VarP Array_tabulateVar)
+          (FuncE
+            Array_tabulateVar
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [var T]
+            (PrimE Array.tabulateVar (VarE len) (VarE gen))
+          )
+        )
+        (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+        (LetD
+          (VarP debugPrint)
+          (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+        )
+        (LetD
+          (VarP hashBlob)
+          (FuncE
+            hashBlob
+            Local
+            Returns
+            (params b)
+            Nat32
+            (PrimE crc32Hash (VarE b))
+          )
+        )
+        (LetD
+          (VarP allocWeakRef)
+          (FuncE
+            allocWeakRef
+            Local
+            Returns
+            (T Any)
+            (params obj)
+            weak T
+            (PrimE alloc_weak_ref (VarE obj))
+          )
+        )
+        (LetD
+          (VarP weakGet)
+          (FuncE
+            weakGet
+            Local
+            Returns
+            (T Any)
+            (params w)
+            ?T
+            (PrimE weak_get (VarE w))
+          )
+        )
+        (LetD
+          (VarP getDedupTable)
+          (FuncE
+            getDedupTable
+            Local
+            Returns
+            ?[var List]
+            (PrimE get_dedup_table)
+          )
+        )
+        (LetD
+          (VarP setDedupTable)
+          (FuncE
+            setDedupTable
+            Local
+            Returns
+            (params dedupTable)
+            ()
+            (PrimE set_dedup_table (VarE dedupTable))
+          )
+        )
+        (LetD
+          (VarP arrayToBlob)
+          (FuncE
+            arrayToBlob
+            Local
+            Returns
+            (params a)
+            Blob
+            (PrimE arrayToBlob (VarE a))
+          )
+        )
+        (LetD
+          (VarP getOriginalBlob)
+          (FuncE
+            getOriginalBlob
+            Local
+            Returns
+            (params b)
+            Blob
+            (BlockE
+              (LetD
+                (VarP copiedArr)
+                (PrimE
+                  (CallPrim Nat8)
+                  (VarE Array_tabulate)
+                  (PrimE
+                    TupPrim
+                    (PrimE
+                      (BinPrim Nat SubOp)
+                      (PrimE blob_size (VarE b))
+                      (LitE (NatLit 5))
+                    )
+                    (FuncE
+                      @anon-func-744.50
+                      Local
+                      Returns
+                      (params i)
+                      Nat8
+                      (PrimE
+                        IdxBlobPrim
+                        (VarE b)
+                        (PrimE (BinPrim Nat AddOp) (VarE i) (LitE (NatLit 5)))
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP originalBlob)
+                (PrimE (CallPrim) (VarE arrayToBlob) (VarE copiedArr))
+              )
+              (VarE originalBlob)
+            )
+          )
+        )
+        (LetD
+          (VarP blobCompare)
+          (FuncE
+            blobCompare
+            Local
+            Returns
+            (params b1 b2)
+            Int8
+            (PrimE blob_compare (VarE b1) (VarE b2))
+          )
+        )
+        (LetD
+          (VarP addToList)
+          (FuncE
+            addToList
+            Local
+            Returns
+            (params list originalBlob weakRef)
+            List
+            (BlockE
+              (LetD
+                (VarP newList)
+                (BlockE
+                  (VarD
+                    $next/0
+                    ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                    (PrimE OptPrim (VarE list))
+                  )
+                  (LetD (VarP $value/0) (PrimE OptPrim (VarE weakRef)))
+                  (LetD
+                    (VarP $index/0)
+                    (PrimE
+                      (BinPrim Nat AddOp)
+                      (PrimE (DotPrim index) (VarE list))
+                      (LitE (NatLit 1))
+                    )
+                  )
+                  (NewObjE
+                    Object
+                    (index $index/0)
+                    (originalBlob originalBlob)
+                    (value $value/0)
+                    (next $next/0)
+                    {index : Nat; var next : ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}; originalBlob : Blob; value : ?{ref : weak Blob}}
+                  )
+                )
+              )
+              (VarE newList)
+            )
+          )
+        )
+        (LetD
+          (VarP getFromList)
+          (FuncE
+            getFromList
+            Local
+            Returns
+            (params list originalBlob)
+            ?WeakRef
+            (BlockE
+              (VarD
+                copy
+                {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                (VarE list)
+              )
+              (LoopE
+                (IfE
+                  (PrimE
+                    (RelPrim Int8 EqOp)
+                    (PrimE
+                      (CallPrim)
+                      (VarE blobCompare)
+                      (PrimE
+                        TupPrim
+                        (PrimE (DotPrim originalBlob) (VarE! copy))
+                        (VarE originalBlob)
+                      )
+                    )
+                    (LitE (Int8Lit 0))
+                  )
+                  (PrimE RetPrim (PrimE (DotPrim value) (VarE! copy)))
+                  (BlockE
+                    (LetD (VarP next) (PrimE (DotPrim next) (VarE! copy)))
+                    (SwitchE
+                      (VarE next)
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                      (case
+                        (OptP (VarP next))
+                        (AssignE (VarLE copy) (VarE next))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getListLen)
+          (FuncE
+            getListLen
+            Local
+            Returns
+            (params list)
+            Nat
+            (PrimE (DotPrim index) (VarE list))
+          )
+        )
+        (LetD
+          (VarP getHashArrayLen)
+          (FuncE
+            getHashArrayLen
+            Local
+            Returns
+            (params hashArray)
+            Nat
+            (BlockE
+              (VarD len Nat (LitE (NatLit 0)))
+              (VarD i Nat (LitE (NatLit 0)))
+              (LetD
+                WildP
+                (LabelE
+                  $done/9
+                  ()
+                  (LoopE
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat LtOp)
+                        (VarE! i)
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE len)
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (VarE! len)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getListLen)
+                                (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE i)
+                          (PrimE
+                            (BinPrim Nat AddOp)
+                            (VarE! i)
+                            (LitE (NatLit 1))
+                          )
+                        )
+                      )
+                      (PrimE (BreakPrim $done/9) (PrimE TupPrim))
+                    )
+                  )
+                )
+              )
+              (VarE! len)
+            )
+          )
+        )
+        (LetD
+          (VarP addToHashArray)
+          (FuncE
+            addToHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ()
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (LetD
+                (VarP weakRef)
+                (BlockE
+                  (LetD
+                    (VarP $ref/0)
+                    (PrimE (CallPrim Blob) (VarE allocWeakRef) (VarE b))
+                  )
+                  (NewObjE Object (ref $ref/0) {ref : weak Blob})
+                )
+              )
+              (AssignE
+                (IdxLE (VarE hashArray) (VarE index))
+                (PrimE
+                  (CallPrim)
+                  (VarE addToList)
+                  (PrimE
+                    TupPrim
+                    (VarE list)
+                    (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                    (VarE weakRef)
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getFromHashArray)
+          (FuncE
+            getFromHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ?WeakRef
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (PrimE
+                (CallPrim)
+                (VarE getFromList)
+                (PrimE
+                  TupPrim
+                  (VarE list)
+                  (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Nat LtOp)
+              (PrimE blob_size (VarE b))
+              (LitE (NatLit 5))
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (IfE
+              (IfE
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 0)))
+                        (LitE (Nat8Lit 33))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 1)))
+                        (LitE (Nat8Lit 99))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                  (LitE (BoolLit true))
+                  (PrimE
+                    (RelPrim Bool EqOp)
+                    (PrimE
+                      (RelPrim Nat8 EqOp)
+                      (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 2)))
+                      (LitE (Nat8Lit 97))
+                    )
+                    (LitE (BoolLit false))
+                  )
+                )
+                (LitE (BoolLit true))
+                (PrimE
+                  (RelPrim Bool EqOp)
+                  (PrimE
+                    (RelPrim Nat8 EqOp)
+                    (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 3)))
+                    (LitE (Nat8Lit 102))
+                  )
+                  (LitE (BoolLit false))
+                )
+              )
+              (LitE (BoolLit true))
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE
+                  (RelPrim Nat8 EqOp)
+                  (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 4)))
+                  (LitE (Nat8Lit 33))
+                )
+                (LitE (BoolLit false))
+              )
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP ptr)
+          (PrimE (CallPrim) (VarE getDedupTable) (PrimE TupPrim))
+        )
+        (LetD
+          (VarP hashArray)
+          (SwitchE
+            (VarE ptr)
+            (case (OptP (VarP dedupTable)) (VarE dedupTable))
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  (VarP arr)
+                  (PrimE
+                    (CallPrim List)
+                    (VarE Array_tabulateVar)
+                    (PrimE
+                      TupPrim
+                      (VarE HASH_ARRAY_SIZE)
+                      (FuncE
+                        @anon-func-830.58
+                        Local
+                        Returns
+                        (params i)
+                        List
+                        (BlockE
+                          (VarD $next/1 ?List (LitE NullLit))
+                          (LetD (VarP $value/1) (LitE NullLit))
+                          (LetD (VarP $originalBlob/0) (LitE (BlobLit "")))
+                          (LetD (VarP $index/1) (LitE (NatLit 0)))
+                          (NewObjE
+                            Object
+                            (index $index/1)
+                            (originalBlob $originalBlob/0)
+                            (value $value/1)
+                            (next $next/1)
+                            {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD WildP (PrimE (CallPrim) (VarE setDedupTable) (VarE arr)))
+                (VarE arr)
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP dedupedBlobWeakRef)
+          (PrimE
+            (CallPrim)
+            (VarE getFromHashArray)
+            (PrimE TupPrim (VarE hashArray) (VarE b))
+          )
+        )
+        (LetD
+          (VarP result)
+          (SwitchE
+            (VarE dedupedBlobWeakRef)
+            (case
+              (OptP (VarP weakRef))
+              (BlockE
+                (LetD
+                  (VarP derefed)
+                  (PrimE
+                    (CallPrim Blob)
+                    (VarE weakGet)
+                    (PrimE (DotPrim ref) (VarE weakRef))
+                  )
+                )
+                (SwitchE
+                  (VarE derefed)
+                  (case (OptP (VarP derefed)) (VarE derefed))
+                  (case
+                    (LitP NullLit)
+                    (BlockE
+                      (LetD
+                        WildP
+                        (PrimE
+                          (CallPrim)
+                          (VarE addToHashArray)
+                          (PrimE TupPrim (VarE hashArray) (VarE b))
+                        )
+                      )
+                      (VarE b)
+                    )
+                  )
+                )
+              )
+            )
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  WildP
+                  (PrimE
+                    (CallPrim)
+                    (VarE addToHashArray)
+                    (PrimE TupPrim (VarE hashArray) (VarE b))
+                  )
+                )
+                (VarE b)
+              )
+            )
+          )
+        )
+        (VarE result)
+      )
+    )
+  )
+  (LetD
+    (VarP file$@prim)
+    (BlockE
+      (LetD (VarP Types) (NewObjE Module module {}))
+      (LetD
+        (VarP abs)
+        (FuncE abs Local Returns (params x) Nat (PrimE abs (VarE x)))
+      )
+      (LetD
+        (VarP shiftLeft)
+        (FuncE
+          shiftLeft
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE lsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP shiftRight)
+        (FuncE
+          shiftRight
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE rsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP idlHash)
+        (FuncE idlHash Local Returns (params x) Nat32 (PrimE idlHash (VarE x)))
+      )
+      (LetD
+        (VarP debugPrint)
+        (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+      )
+      (LetD
+        (VarP debugPrintNat)
+        (FuncE
+          debugPrintNat
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Nat) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintInt)
+        (FuncE
+          debugPrintInt
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Int) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintChar)
+        (FuncE
+          debugPrintChar
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE charToText) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP trap)
+        (FuncE trap Local Returns (params x) None (PrimE trap (VarE x)))
+      )
+      (LetD
+        (VarP rts_version)
+        (FuncE rts_version Local Returns Text (PrimE rts_version))
+      )
+      (LetD
+        (VarP rts_memory_size)
+        (FuncE rts_memory_size Local Returns Nat (PrimE rts_memory_size))
+      )
+      (LetD
+        (VarP rts_heap_size)
+        (FuncE rts_heap_size Local Returns Nat (PrimE rts_heap_size))
+      )
+      (LetD
+        (VarP rts_total_allocation)
+        (FuncE
+          rts_total_allocation
+          Local
+          Returns
+          Nat
+          (PrimE rts_total_allocation)
+        )
+      )
+      (LetD
+        (VarP rts_reclaimed)
+        (FuncE rts_reclaimed Local Returns Nat (PrimE rts_reclaimed))
+      )
+      (LetD
+        (VarP rts_max_live_size)
+        (FuncE rts_max_live_size Local Returns Nat (PrimE rts_max_live_size))
+      )
+      (LetD
+        (VarP rts_max_stack_size)
+        (FuncE rts_max_stack_size Local Returns Nat (PrimE rts_max_stack_size))
+      )
+      (LetD
+        (VarP rts_callback_table_count)
+        (FuncE
+          rts_callback_table_count
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_count)
+        )
+      )
+      (LetD
+        (VarP rts_callback_table_size)
+        (FuncE
+          rts_callback_table_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_size)
+        )
+      )
+      (LetD
+        (VarP rts_mutator_instructions)
+        (FuncE
+          rts_mutator_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_mutator_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_collector_instructions)
+        (FuncE
+          rts_collector_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_collector_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_lifetime_instructions)
+        (FuncE
+          rts_lifetime_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_lifetime_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_upgrade_instructions)
+        (FuncE
+          rts_upgrade_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_upgrade_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_stable_memory_size)
+        (FuncE
+          rts_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP rts_logical_stable_memory_size)
+        (FuncE
+          rts_logical_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_logical_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP allocWeakRef)
+        (FuncE
+          allocWeakRef
+          Local
+          Returns
+          (T Any)
+          (params obj)
+          weak T
+          (PrimE alloc_weak_ref (VarE obj))
+        )
+      )
+      (LetD
+        (VarP weakGet)
+        (FuncE
+          weakGet
+          Local
+          Returns
+          (T Any)
+          (params w)
+          ?T
+          (PrimE weak_get (VarE w))
+        )
+      )
+      (LetD
+        (VarP isLive)
+        (FuncE
+          isLive
+          Local
+          Returns
+          (params weak_ref)
+          Bool
+          (PrimE weak_ref_is_live (VarE weak_ref))
+        )
+      )
+      (LetD
+        (VarP envVarNames)
+        (FuncE envVarNames Local Returns ($ Any) [Text] (PrimE env_var_names))
+      )
+      (LetD
+        (VarP envVar)
+        (FuncE
+          envVar
+          Local
+          Returns
+          ($ Any)
+          (params name)
+          ?Text
+          (PrimE env_var (VarE name))
+        )
+      )
+      (LetD
+        (VarP __getDedupTable)
+        (FuncE
+          __getDedupTable
+          Local
+          Returns
+          ?[var __List]
+          (PrimE get_dedup_table)
+        )
+      )
+      (LetD
+        (VarP BlobIterator)
+        (FuncE
+          BlobIterator
+          Local
+          Returns
+          (params hash)
+          {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+          (BlockE
+            (LetD
+              (VarP @anon-object-138.41)
+              (BlockE
+                (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+                (VarD currentIndex Nat (LitE (NatLit 0)))
+                (VarD currentList ?__List (LitE NullLit))
+                (LetD (VarP hashArray) (VarE hash))
+                (LetD
+                  (VarP size)
+                  (FuncE
+                    size
+                    Local
+                    Returns
+                    Nat
+                    (BlockE
+                      (VarD len Nat (LitE (NatLit 0)))
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LetD
+                        WildP
+                        (LabelE
+                          $done/0
+                          ()
+                          (LoopE
+                            (IfE
+                              (PrimE
+                                (RelPrim Nat LtOp)
+                                (VarE! i)
+                                (VarE HASH_ARRAY_SIZE)
+                              )
+                              (BlockE
+                                (VarD
+                                  list
+                                  {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                  (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                                )
+                                (LetD
+                                  WildP
+                                  (LabelE
+                                    countLoop
+                                    ()
+                                    (LoopE
+                                      (LabelE
+                                        continue countLoop
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (VarP weakRef)
+                                            (PrimE (DotPrim value) (VarE! list))
+                                          )
+                                          (LetD
+                                            WildP
+                                            (SwitchE
+                                              (VarE weakRef)
+                                              (case
+                                                (OptP (VarP weakRef))
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP deref)
+                                                    (PrimE
+                                                      (CallPrim Blob)
+                                                      (VarE weakGet)
+                                                      (PrimE
+                                                        (DotPrim ref)
+                                                        (VarE weakRef)
+                                                      )
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (VarE deref)
+                                                    (case
+                                                      (OptP (VarP deref))
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (LitP NullLit)
+                                                      (AssignE
+                                                        (VarLE len)
+                                                        (PrimE
+                                                          (BinPrim Nat AddOp)
+                                                          (VarE! len)
+                                                          (LitE (NatLit 1))
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            (VarP next)
+                                            (PrimE (DotPrim next) (VarE! list))
+                                          )
+                                          (SwitchE
+                                            (VarE next)
+                                            (case
+                                              (OptP (VarP next))
+                                              (AssignE (VarLE list) (VarE next))
+                                            )
+                                            (case
+                                              (LitP NullLit)
+                                              (PrimE
+                                                (BreakPrim countLoop)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (AssignE
+                                  (VarLE i)
+                                  (PrimE
+                                    (BinPrim Nat AddOp)
+                                    (VarE! i)
+                                    (LitE (NatLit 1))
+                                  )
+                                )
+                              )
+                              (PrimE (BreakPrim $done/0) (PrimE TupPrim))
+                            )
+                          )
+                        )
+                      )
+                      (VarE! len)
+                    )
+                  )
+                )
+                (LetD
+                  (VarP getDeadBlobFromListNode)
+                  (FuncE
+                    getDeadBlobFromListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?Blob
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP myList))
+                        (BlockE
+                          (LetD
+                            (VarP weakRef)
+                            (PrimE (DotPrim value) (VarE myList))
+                          )
+                          (SwitchE
+                            (VarE weakRef)
+                            (case
+                              (OptP (VarP weakRef))
+                              (BlockE
+                                (LetD
+                                  (VarP deref)
+                                  (PrimE
+                                    (CallPrim Blob)
+                                    (VarE weakGet)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                                (SwitchE
+                                  (VarE deref)
+                                  (case
+                                    (OptP (VarP deref))
+                                    (PrimE RetPrim (LitE NullLit))
+                                  )
+                                  (case
+                                    (LitP NullLit)
+                                    (PrimE
+                                      RetPrim
+                                      (PrimE
+                                        OptPrim
+                                        (PrimE
+                                          (DotPrim originalBlob)
+                                          (VarE myList)
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                          )
+                        )
+                      )
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP advanceListNode)
+                  (FuncE
+                    advanceListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?__List
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP list))
+                        (PrimE (DotPrim next) (VarE list))
+                      )
+                      (case (LitP NullLit) (LitE NullLit))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP nextDeadBlob)
+                  (FuncE
+                    nextDeadBlob
+                    Local
+                    Returns
+                    Blob
+                    (BlockE
+                      (LetD
+                        WildP
+                        (LoopE
+                          (BlockE
+                            (LetD
+                              (VarP blob)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getDeadBlobFromListNode)
+                                (VarE! currentList)
+                              )
+                            )
+                            (SwitchE
+                              (VarE blob)
+                              (case
+                                (OptP (VarP blob))
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (PrimE RetPrim (VarE blob))
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (SwitchE
+                                    (VarE! currentList)
+                                    (case (OptP WildP) (PrimE TupPrim))
+                                    (case
+                                      (LitP NullLit)
+                                      (BlockE
+                                        (LetD
+                                          WildP
+                                          (AssignE
+                                            (VarLE currentIndex)
+                                            (PrimE
+                                              (BinPrim Nat AddOp)
+                                              (VarE! currentIndex)
+                                              (LitE (NatLit 1))
+                                            )
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (IfE
+                                            (PrimE
+                                              (RelPrim Nat GeOp)
+                                              (VarE! currentIndex)
+                                              (VarE HASH_ARRAY_SIZE)
+                                            )
+                                            (PrimE RetPrim (LitE (BlobLit "")))
+                                            (PrimE TupPrim)
+                                          )
+                                        )
+                                        (AssignE
+                                          (VarLE currentList)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE
+                                              IdxPrim
+                                              (VarE hashArray)
+                                              (VarE! currentIndex)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LitE (BlobLit ""))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP computeIndex)
+                  (FuncE
+                    computeIndex
+                    Local
+                    Returns
+                    (params b)
+                    Nat
+                    (BlockE
+                      (LetD
+                        (VarP magicBytes)
+                        (PrimE
+                          (ArrayPrim Const Nat8)
+                          (LitE (Nat8Lit 33))
+                          (LitE (Nat8Lit 99))
+                          (LitE (Nat8Lit 97))
+                          (LitE (Nat8Lit 102))
+                          (LitE (Nat8Lit 33))
+                        )
+                      )
+                      (LetD
+                        (VarP originalBlob)
+                        (PrimE (CallPrim) (VarE blobToArray) (VarE b))
+                      )
+                      (LetD
+                        (VarP concat)
+                        (PrimE
+                          (CallPrim Nat8)
+                          (VarE Array_tabulate)
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (PrimE array_len (VarE magicBytes))
+                              (PrimE array_len (VarE originalBlob))
+                            )
+                            (FuncE
+                              @anon-func-240.74
+                              Local
+                              Returns
+                              (params i)
+                              Nat8
+                              (IfE
+                                (PrimE
+                                  (RelPrim Nat LtOp)
+                                  (VarE i)
+                                  (PrimE array_len (VarE magicBytes))
+                                )
+                                (PrimE IdxPrim (VarE magicBytes) (VarE i))
+                                (PrimE
+                                  IdxPrim
+                                  (VarE originalBlob)
+                                  (PrimE
+                                    (BinPrim Nat SubOp)
+                                    (VarE i)
+                                    (PrimE array_len (VarE magicBytes))
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP bWithMagic)
+                        (PrimE (CallPrim) (VarE arrayToBlob) (VarE concat))
+                      )
+                      (LetD
+                        (VarP hashValue)
+                        (PrimE (CallPrim) (VarE hashBlob) (VarE bWithMagic))
+                      )
+                      (PrimE
+                        (BinPrim Nat ModOp)
+                        (PrimE (CallPrim) (VarE nat32ToNat) (VarE hashValue))
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP isBlobLive)
+                  (FuncE
+                    isBlobLive
+                    Local
+                    Returns
+                    (params b)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP index)
+                        (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                      )
+                      (VarD
+                        list
+                        {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                        (PrimE IdxPrim (VarE hashArray) (VarE index))
+                      )
+                      (LoopE
+                        (IfE
+                          (PrimE
+                            (RelPrim Int8 EqOp)
+                            (PrimE
+                              (CallPrim)
+                              (VarE blobCompare)
+                              (PrimE
+                                TupPrim
+                                (PrimE (DotPrim originalBlob) (VarE! list))
+                                (VarE b)
+                              )
+                            )
+                            (LitE (Int8Lit 0))
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP weakRef)
+                              (PrimE (DotPrim value) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE weakRef)
+                              (case
+                                (OptP (VarP weakRef))
+                                (PrimE
+                                  RetPrim
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE isLive)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP next)
+                              (PrimE (DotPrim next) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE next)
+                              (case
+                                (OptP (VarP next))
+                                (AssignE (VarLE list) (VarE next))
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneFirstElement)
+                  (FuncE
+                    pruneFirstElement
+                    Local
+                    Returns
+                    (params list b index)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP deadBlob)
+                        (PrimE
+                          (CallPrim)
+                          (VarE getDeadBlobFromListNode)
+                          (PrimE OptPrim (VarE list))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (SwitchE
+                          (VarE deadBlob)
+                          (case
+                            (OptP (VarP deadBlob))
+                            (IfE
+                              (PrimE
+                                (RelPrim Int8 EqOp)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE blobCompare)
+                                  (PrimE TupPrim (VarE deadBlob) (VarE b))
+                                )
+                                (LitE (Int8Lit 0))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP nextElem)
+                                  (PrimE (DotPrim next) (VarE list))
+                                )
+                                (SwitchE
+                                  (VarE nextElem)
+                                  (case
+                                    (OptP (VarP next))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE (VarE hashArray) (VarE index))
+                                          (VarE next)
+                                        )
+                                      )
+                                      (PrimE RetPrim (LitE (BoolLit true)))
+                                    )
+                                  )
+                                  (case (LitP NullLit) (PrimE TupPrim))
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                          )
+                          (case (LitP NullLit) (PrimE TupPrim))
+                        )
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneDeadBlobs)
+                  (FuncE
+                    pruneDeadBlobs
+                    Local
+                    Returns
+                    (params confirmedDeadBlobs)
+                    ()
+                    (BlockE
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LabelE
+                        $done/1
+                        ()
+                        (LoopE
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat LtOp)
+                              (VarE! i)
+                              (PrimE array_len (VarE confirmedDeadBlobs))
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP b)
+                                (PrimE
+                                  IdxPrim
+                                  (VarE confirmedDeadBlobs)
+                                  (VarE! i)
+                                )
+                              )
+                              (LetD
+                                (VarP index)
+                                (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                              )
+                              (LetD
+                                (VarP list)
+                                (PrimE IdxPrim (VarE hashArray) (VarE index))
+                              )
+                              (LetD
+                                (VarP pruned)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE pruneFirstElement)
+                                  (PrimE
+                                    TupPrim
+                                    (VarE list)
+                                    (VarE b)
+                                    (VarE index)
+                                  )
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (IfE
+                                  (PrimE
+                                    (RelPrim Bool EqOp)
+                                    (VarE pruned)
+                                    (LitE (BoolLit false))
+                                  )
+                                  (BlockE
+                                    (VarD
+                                      prev
+                                      ?{index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                      (PrimE OptPrim (VarE list))
+                                    )
+                                    (VarD
+                                      crntNode
+                                      ?__List
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (PrimE OptPrim (VarE list))
+                                      )
+                                    )
+                                    (LabelE
+                                      findLoop
+                                      ()
+                                      (LoopE
+                                        (LabelE
+                                          continue findLoop
+                                          ()
+                                          (BlockE
+                                            (LetD
+                                              (VarP crntBlob)
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE getDeadBlobFromListNode)
+                                                (VarE! crntNode)
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (SwitchE
+                                                (VarE crntBlob)
+                                                (case
+                                                  (OptP (VarP crntBlob))
+                                                  (IfE
+                                                    (PrimE
+                                                      (RelPrim Int8 EqOp)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE blobCompare)
+                                                        (PrimE
+                                                          TupPrim
+                                                          (VarE crntBlob)
+                                                          (VarE b)
+                                                        )
+                                                      )
+                                                      (LitE (Int8Lit 0))
+                                                    )
+                                                    (SwitchE
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE! prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                      (case
+                                                        (TupP
+                                                          (OptP (VarP prev))
+                                                          (OptP (VarP crntNode))
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (AssignE
+                                                              (DotLE
+                                                                (VarE prev)
+                                                                next
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim next)
+                                                                (VarE crntNode)
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (BreakPrim findLoop)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                      (case
+                                                        WildP
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                                (case
+                                                  (LitP NullLit)
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (AssignE
+                                                        (VarLE prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                    (AssignE
+                                                      (VarLE crntNode)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE advanceListNode)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (SwitchE
+                                              (VarE! crntNode)
+                                              (case
+                                                (OptP (VarP crntNode))
+                                                (PrimE TupPrim)
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE
+                                                  (BreakPrim findLoop)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (AssignE
+                                (VarLE i)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! i)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE (BreakPrim $done/1) (PrimE TupPrim))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (NewObjE
+                  Object
+                  (size size)
+                  (pruneDeadBlobs pruneDeadBlobs)
+                  (nextDeadBlob nextDeadBlob)
+                  (isBlobLive isBlobLive)
+                  {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+                )
+              )
+            )
+            (VarE @anon-object-138.41)
+          )
+        )
+      )
+      (LetD
+        (VarP getDeadBlobs)
+        (FuncE
+          getDeadBlobs
+          Local
+          Returns
+          ?[Blob]
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (LetD
+                    (VarP numDeadBlobs)
+                    (PrimE
+                      (CallPrim)
+                      (PrimE (DotPrim size) (VarE dedupTableIter))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    (VarP deadBlobs)
+                    (PrimE
+                      (CallPrim Blob)
+                      (VarE Array_tabulate)
+                      (PrimE
+                        TupPrim
+                        (VarE numDeadBlobs)
+                        (FuncE
+                          @anon-func-355.58
+                          Local
+                          Returns
+                          (params i)
+                          Blob
+                          (PrimE
+                            (CallPrim)
+                            (PrimE (DotPrim nextDeadBlob) (VarE dedupTableIter))
+                            (PrimE TupPrim)
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE RetPrim (PrimE OptPrim (VarE deadBlobs)))
+                )
+              )
+              (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP pruneConfirmedDeadBlobs)
+        (FuncE
+          pruneConfirmedDeadBlobs
+          Local
+          Returns
+          (params confirmedDeadBlobs)
+          ()
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim pruneDeadBlobs) (VarE dedupTableIter))
+                    (VarE confirmedDeadBlobs)
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP isStorageBlobLive)
+        (FuncE
+          isStorageBlobLive
+          Local
+          Returns
+          (params b)
+          Bool
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP iter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim isBlobLive) (VarE iter))
+                    (VarE b)
+                  )
+                )
+              )
+              (case (LitP NullLit) (LitE (BoolLit false)))
+            )
+          )
+        )
+      )
+      (LetD (VarP int64ToInt) (VarE @int64ToInt))
+      (LetD (VarP int32ToInt) (VarE @int32ToInt))
+      (LetD (VarP int16ToInt) (VarE @int16ToInt))
+      (LetD (VarP int8ToInt) (VarE @int8ToInt))
+      (LetD (VarP nat64ToNat) (VarE @nat64ToNat))
+      (LetD (VarP nat32ToNat) (VarE @nat32ToNat))
+      (LetD (VarP nat16ToNat) (VarE @nat16ToNat))
+      (LetD (VarP nat8ToNat) (VarE @nat8ToNat))
+      (LetD
+        (VarP intToInt64)
+        (FuncE
+          intToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32)
+        (FuncE
+          intToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16)
+        (FuncE
+          intToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8)
+        (FuncE
+          intToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat64)
+        (FuncE
+          natToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat32)
+        (FuncE
+          natToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat16)
+        (FuncE
+          natToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat8)
+        (FuncE
+          natToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt64Wrap)
+        (FuncE
+          intToInt64Wrap
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32Wrap)
+        (FuncE
+          intToInt32Wrap
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16Wrap)
+        (FuncE
+          intToInt16Wrap
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8Wrap)
+        (FuncE
+          intToInt8Wrap
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat64Wrap)
+        (FuncE
+          intToNat64Wrap
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat32Wrap)
+        (FuncE
+          intToNat32Wrap
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat16Wrap)
+        (FuncE
+          intToNat16Wrap
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat8Wrap)
+        (FuncE
+          intToNat8Wrap
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToNat64)
+        (FuncE
+          int64ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int64 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToInt64)
+        (FuncE
+          nat64ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Nat64 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToNat32)
+        (FuncE
+          int32ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int32 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToInt32)
+        (FuncE
+          nat32ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Nat32 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToNat16)
+        (FuncE
+          int16ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int16 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToInt16)
+        (FuncE
+          nat16ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Nat16 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToNat8)
+        (FuncE
+          int8ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int8 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToInt8)
+        (FuncE
+          nat8ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Nat8 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToNat16)
+        (FuncE
+          nat8ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat8 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat32)
+        (FuncE
+          nat16ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat16 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat64)
+        (FuncE
+          nat32ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat32 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToNat32)
+        (FuncE
+          nat64ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat64 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat16)
+        (FuncE
+          nat32ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat32 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat8)
+        (FuncE
+          nat16ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat16 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToInt16)
+        (FuncE
+          int8ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int8 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt32)
+        (FuncE
+          int16ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int16 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt64)
+        (FuncE
+          int32ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int32 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToInt32)
+        (FuncE
+          int64ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int64 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt16)
+        (FuncE
+          int32ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int32 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt8)
+        (FuncE
+          int16ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int16 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat16)
+        (FuncE
+          explodeNat16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Nat16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt16)
+        (FuncE
+          explodeInt16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Int16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat32)
+        (FuncE
+          explodeNat32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt32)
+        (FuncE
+          explodeInt32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat64)
+        (FuncE
+          explodeNat64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt64)
+        (FuncE
+          explodeInt64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP charToNat32)
+        (FuncE
+          charToNat32
+          Local
+          Returns
+          (params c)
+          Nat32
+          (PrimE (NumConvWrapPrim Char Nat32) (VarE c))
+        )
+      )
+      (LetD
+        (VarP nat32ToChar)
+        (FuncE
+          nat32ToChar
+          Local
+          Returns
+          (params w)
+          Char
+          (PrimE (NumConvTrapPrim Nat32 Char) (VarE w))
+        )
+      )
+      (LetD
+        (VarP charToText)
+        (FuncE
+          charToText
+          Local
+          Returns
+          (params c)
+          Text
+          (PrimE conv_Char_Text (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToUpper)
+        (FuncE
+          charToUpper
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_upper (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToLower)
+        (FuncE
+          charToLower
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_lower (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsWhitespace)
+        (FuncE
+          charIsWhitespace
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_whitespace (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsLowercase)
+        (FuncE
+          charIsLowercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_lowercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsUppercase)
+        (FuncE
+          charIsUppercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_uppercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsAlphabetic)
+        (FuncE
+          charIsAlphabetic
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_alphabetic (VarE c))
+        )
+      )
+      (LetD
+        (VarP blobCompare)
+        (FuncE
+          blobCompare
+          Local
+          Returns
+          (params b1 b2)
+          Int8
+          (PrimE blob_compare (VarE b1) (VarE b2))
+        )
+      )
+      (LetD
+        (VarP hashBlob)
+        (FuncE
+          hashBlob
+          Local
+          Returns
+          (params b)
+          Nat32
+          (PrimE crc32Hash (VarE b))
+        )
+      )
+      (LetD
+        (VarP decodeUtf8)
+        (FuncE
+          decodeUtf8
+          Local
+          Returns
+          (params b)
+          ?Text
+          (PrimE DecodeUtf8 (VarE b))
+        )
+      )
+      (LetD
+        (VarP encodeUtf8)
+        (FuncE
+          encodeUtf8
+          Local
+          Returns
+          (params t)
+          Blob
+          (PrimE EncodeUtf8 (VarE t))
+        )
+      )
+      (LetD
+        (VarP textCompare)
+        (FuncE
+          textCompare
+          Local
+          Returns
+          (params t1 t2)
+          Int8
+          (PrimE text_compare (VarE t1) (VarE t2))
+        )
+      )
+      (LetD
+        (VarP textLowercase)
+        (FuncE
+          textLowercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_lowercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP textUppercase)
+        (FuncE
+          textUppercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_uppercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP popcntNat8)
+        (FuncE
+          popcntNat8
+          Local
+          Returns
+          (params w)
+          Nat8
+          (PrimE popcnt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat8)
+        (FuncE clzNat8 Local Returns (params w) Nat8 (PrimE clz8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat8)
+        (FuncE ctzNat8 Local Returns (params w) Nat8 (PrimE ctz8 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat8)
+        (FuncE
+          btstNat8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat8 EqOp)
+              (PrimE btst8 (VarE w) (VarE amount))
+              (LitE (Nat8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat16)
+        (FuncE
+          popcntNat16
+          Local
+          Returns
+          (params w)
+          Nat16
+          (PrimE popcnt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat16)
+        (FuncE clzNat16 Local Returns (params w) Nat16 (PrimE clz16 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat16)
+        (FuncE ctzNat16 Local Returns (params w) Nat16 (PrimE ctz16 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat16)
+        (FuncE
+          btstNat16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat16 EqOp)
+              (PrimE btst16 (VarE w) (VarE amount))
+              (LitE (Nat16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat32)
+        (FuncE
+          popcntNat32
+          Local
+          Returns
+          (params w)
+          Nat32
+          (PrimE popcnt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat32)
+        (FuncE clzNat32 Local Returns (params w) Nat32 (PrimE clz32 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat32)
+        (FuncE ctzNat32 Local Returns (params w) Nat32 (PrimE ctz32 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat32)
+        (FuncE
+          btstNat32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat32 EqOp)
+              (PrimE btst32 (VarE w) (VarE amount))
+              (LitE (Nat32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat64)
+        (FuncE
+          popcntNat64
+          Local
+          Returns
+          (params w)
+          Nat64
+          (PrimE popcnt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat64)
+        (FuncE clzNat64 Local Returns (params w) Nat64 (PrimE clz64 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat64)
+        (FuncE ctzNat64 Local Returns (params w) Nat64 (PrimE ctz64 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat64)
+        (FuncE
+          btstNat64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE btst64 (VarE w) (VarE amount))
+              (LitE (Nat64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt8)
+        (FuncE
+          popcntInt8
+          Local
+          Returns
+          (params w)
+          Int8
+          (PrimE popcntInt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt8)
+        (FuncE clzInt8 Local Returns (params w) Int8 (PrimE clzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzInt8)
+        (FuncE ctzInt8 Local Returns (params w) Int8 (PrimE ctzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP btstInt8)
+        (FuncE
+          btstInt8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int8 EqOp)
+              (PrimE btstInt8 (VarE w) (VarE amount))
+              (LitE (Int8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt16)
+        (FuncE
+          popcntInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE popcntInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt16)
+        (FuncE
+          clzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE clzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt16)
+        (FuncE
+          ctzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE ctzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt16)
+        (FuncE
+          btstInt16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int16 EqOp)
+              (PrimE btstInt16 (VarE w) (VarE amount))
+              (LitE (Int16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt32)
+        (FuncE
+          popcntInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE popcntInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt32)
+        (FuncE
+          clzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE clzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt32)
+        (FuncE
+          ctzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE ctzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt32)
+        (FuncE
+          btstInt32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int32 EqOp)
+              (PrimE btstInt32 (VarE w) (VarE amount))
+              (LitE (Int32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt64)
+        (FuncE
+          popcntInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE popcntInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt64)
+        (FuncE
+          clzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE clzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt64)
+        (FuncE
+          ctzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE ctzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt64)
+        (FuncE
+          btstInt64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int64 EqOp)
+              (PrimE btstInt64 (VarE w) (VarE amount))
+              (LitE (Int64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP floatAbs)
+        (FuncE floatAbs Local Returns (params f) Float (PrimE fabs (VarE f)))
+      )
+      (LetD
+        (VarP floatSqrt)
+        (FuncE floatSqrt Local Returns (params f) Float (PrimE fsqrt (VarE f)))
+      )
+      (LetD
+        (VarP floatCeil)
+        (FuncE floatCeil Local Returns (params f) Float (PrimE fceil (VarE f)))
+      )
+      (LetD
+        (VarP floatFloor)
+        (FuncE
+          floatFloor
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ffloor (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatTrunc)
+        (FuncE
+          floatTrunc
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ftrunc (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatNearest)
+        (FuncE
+          floatNearest
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE fnearest (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatMin)
+        (FuncE
+          floatMin
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmin (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatMax)
+        (FuncE
+          floatMax
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmax (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatCopySign)
+        (FuncE
+          floatCopySign
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fcopysign (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatToInt)
+        (FuncE
+          floatToInt
+          Local
+          Returns
+          (params f)
+          Int
+          (PrimE (NumConvTrapPrim Float Int) (VarE f))
+        )
+      )
+      (LetD
+        (VarP intToFloat)
+        (FuncE
+          intToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int Float) (VarE n))
+        )
+      )
+      (LetD
+        (VarP floatToInt64)
+        (FuncE
+          floatToInt64
+          Local
+          Returns
+          (params f)
+          Int64
+          (PrimE (NumConvTrapPrim Float Int64) (VarE f))
+        )
+      )
+      (LetD
+        (VarP int64ToFloat)
+        (FuncE
+          int64ToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int64 Float) (VarE n))
+        )
+      )
+      (LetD (VarP floatToText) (VarE @text_of_Float))
+      (LetD
+        (VarP floatToFormattedText)
+        (FuncE
+          floatToFormattedText
+          Local
+          Returns
+          (params f prec mode)
+          Text
+          (PrimE fmtFloat->Text (VarE f) (VarE prec) (VarE mode))
+        )
+      )
+      (LetD
+        (VarP sin)
+        (FuncE sin Local Returns (params f) Float (PrimE fsin (VarE f)))
+      )
+      (LetD
+        (VarP cos)
+        (FuncE cos Local Returns (params f) Float (PrimE fcos (VarE f)))
+      )
+      (LetD
+        (VarP tan)
+        (FuncE tan Local Returns (params f) Float (PrimE ftan (VarE f)))
+      )
+      (LetD
+        (VarP arcsin)
+        (FuncE arcsin Local Returns (params f) Float (PrimE fasin (VarE f)))
+      )
+      (LetD
+        (VarP arccos)
+        (FuncE arccos Local Returns (params f) Float (PrimE facos (VarE f)))
+      )
+      (LetD
+        (VarP arctan)
+        (FuncE arctan Local Returns (params f) Float (PrimE fatan (VarE f)))
+      )
+      (LetD
+        (VarP arctan2)
+        (FuncE
+          arctan2
+          Local
+          Returns
+          (params y x)
+          Float
+          (PrimE fatan2 (VarE y) (VarE x))
+        )
+      )
+      (LetD
+        (VarP exp)
+        (FuncE exp Local Returns (params f) Float (PrimE fexp (VarE f)))
+      )
+      (LetD
+        (VarP log)
+        (FuncE log Local Returns (params f) Float (PrimE flog (VarE f)))
+      )
+      (LetD
+        (VarP Array_init)
+        (FuncE
+          Array_init
+          Local
+          Returns
+          (T Any)
+          (params len x)
+          [var T]
+          (PrimE Array.init (VarE len) (VarE x))
+        )
+      )
+      (LetD
+        (VarP Array_tabulate)
+        (FuncE
+          Array_tabulate
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [T]
+          (PrimE Array.tabulate (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP Array_tabulateVar)
+        (FuncE
+          Array_tabulateVar
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [var T]
+          (PrimE Array.tabulateVar (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP blobToArray)
+        (FuncE
+          blobToArray
+          Local
+          Returns
+          (params b)
+          [Nat8]
+          (PrimE blobToArray (VarE b))
+        )
+      )
+      (LetD
+        (VarP blobToArrayMut)
+        (FuncE
+          blobToArrayMut
+          Local
+          Returns
+          (params b)
+          [var Nat8]
+          (PrimE blobToArrayMut (VarE b))
+        )
+      )
+      (LetD
+        (VarP arrayToBlob)
+        (FuncE
+          arrayToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP arrayMutToBlob)
+        (FuncE
+          arrayMutToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayMutToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP error)
+        (FuncE
+          error
+          Local
+          Returns
+          (params message)
+          Error
+          (BlockE
+            (LetD
+              (VarP e)
+              (PrimE
+                TupPrim
+                (PrimE (TagE canister_reject) (PrimE TupPrim))
+                (VarE message)
+              )
+            )
+            (PrimE (CastPrim (ErrorCode, Text) Error) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorCode)
+        (FuncE
+          errorCode
+          Local
+          Returns
+          (params e)
+          ErrorCode
+          (PrimE
+            (ProjPrim 0)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorMessage)
+        (FuncE
+          errorMessage
+          Local
+          Returns
+          (params e)
+          Text
+          (PrimE
+            (ProjPrim 1)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP replyDeadline)
+        (FuncE replyDeadline Local Returns Nat64 (PrimE ICReplyDeadlinePrim))
+      )
+      (LetD (VarP time) (FuncE time Local Returns Nat64 (PrimE SystemTimePrim)))
+      (LetD
+        (VarP blobOfPrincipal)
+        (FuncE
+          blobOfPrincipal
+          Local
+          Returns
+          (params id)
+          Blob
+          (PrimE blobOfPrincipal (VarE id))
+        )
+      )
+      (LetD
+        (VarP principalOfBlob)
+        (FuncE
+          principalOfBlob
+          Local
+          Returns
+          (params act)
+          Principal
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE
+                  (RelPrim Nat GtOp)
+                  (PrimE blob_size (VarE act))
+                  (LitE (NatLit 29))
+                )
+                (PrimE
+                  (CallPrim)
+                  (VarE trap)
+                  (LitE (TextLit blob too long for principal))
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (PrimE principalOfBlob (VarE act))
+          )
+        )
+      )
+      (LetD
+        (VarP principalOfActor)
+        (FuncE
+          principalOfActor
+          Local
+          Returns
+          (params act)
+          Principal
+          (PrimE principalOfActor (VarE act))
+        )
+      )
+      (LetD
+        (VarP isController)
+        (FuncE
+          isController
+          Local
+          Returns
+          (params p)
+          Bool
+          (PrimE is_controller (VarE p))
+        )
+      )
+      (LetD
+        (VarP isReplicatedExecution)
+        (FuncE
+          isReplicatedExecution
+          Local
+          Returns
+          Bool
+          (PrimE replicated_execution)
+        )
+      )
+      (LetD
+        (VarP canisterVersion)
+        (FuncE canisterVersion Local Returns Nat64 (PrimE canister_version))
+      )
+      (LetD
+        (VarP canisterSubnet)
+        (FuncE canisterSubnet Local Returns Principal (PrimE canister_subnet))
+      )
+      (LetD (VarP rootKey) (FuncE rootKey Local Returns Blob (PrimE root_key)))
+      (LetD
+        (VarP getSelfPrincipal)
+        (FuncE
+          getSelfPrincipal
+          Local
+          Returns
+          ($ Any)
+          Principal
+          (PrimE canister_self)
+        )
+      )
+      (LetD (VarP createActor) (VarE @create_actor_helper))
+      (LetD
+        (VarP cyclesBalance)
+        (FuncE cyclesBalance Local Returns Nat (PrimE SystemCyclesBalancePrim))
+      )
+      (LetD
+        (VarP cyclesAvailable)
+        (FuncE
+          cyclesAvailable
+          Local
+          Returns
+          Nat
+          (PrimE SystemCyclesAvailablePrim)
+        )
+      )
+      (LetD
+        (VarP cyclesRefunded)
+        (FuncE cyclesRefunded Local Returns Nat (VarE! @refund))
+      )
+      (LetD
+        (VarP cyclesAccept)
+        (FuncE
+          cyclesAccept
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesAcceptPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP cyclesAdd)
+        (FuncE
+          cyclesAdd
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          ()
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat EqOp) (VarE amount) (LitE (NatLit 0)))
+                (PrimE RetPrim (PrimE TupPrim))
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              WildP
+              (AssignE
+                (VarLE @cycles)
+                (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE amount))
+              )
+            )
+            (IfE
+              (PrimE
+                (RelPrim Nat GtOp)
+                (VarE! @cycles)
+                (LitE
+                  (NatLit 340_282_366_920_938_463_463_374_607_431_768_211_455)
+                )
+              )
+              (PrimE
+                (CallPrim)
+                (VarE trap)
+                (LitE (TextLit cannot add more than 2^128 cycles))
+              )
+              (PrimE TupPrim)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP cyclesBurn)
+        (FuncE
+          cyclesBurn
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesBurnPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP costCall)
+        (FuncE
+          costCall
+          Local
+          Returns
+          (params methodNameSize payloadSize)
+          Nat
+          (PrimE costCall (VarE methodNameSize) (VarE payloadSize))
+        )
+      )
+      (LetD
+        (VarP costCreateCanister)
+        (FuncE costCreateCanister Local Returns Nat (PrimE costCreateCanister))
+      )
+      (LetD
+        (VarP costHttpRequest)
+        (FuncE
+          costHttpRequest
+          Local
+          Returns
+          (params requestSize maxResBytes)
+          Nat
+          (PrimE costHttpRequest (VarE requestSize) (VarE maxResBytes))
+        )
+      )
+      (LetD
+        (VarP costSignWithEcdsa)
+        (FuncE
+          costSignWithEcdsa
+          Local
+          Returns
+          (params keyName curveEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithEcdsa (VarE keyName) (VarE curveEncoding))
+        )
+      )
+      (LetD
+        (VarP costSignWithSchnorr)
+        (FuncE
+          costSignWithSchnorr
+          Local
+          Returns
+          (params keyName algorithmEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithSchnorr (VarE keyName) (VarE algorithmEncoding))
+        )
+      )
+      (LetD
+        (VarP setCertifiedData)
+        (FuncE
+          setCertifiedData
+          Local
+          Returns
+          (params data)
+          ()
+          (PrimE SetCertifiedData (VarE data))
+        )
+      )
+      (LetD
+        (VarP getCertificate)
+        (FuncE getCertificate Local Returns ?Blob (PrimE GetCertificate))
+      )
+      (LetD
+        (VarP stableMemorySize)
+        (FuncE stableMemorySize Local Returns Nat64 (PrimE stableMemorySize))
+      )
+      (LetD
+        (VarP stableMemoryGrow)
+        (FuncE
+          stableMemoryGrow
+          Local
+          Returns
+          (params pages)
+          Nat64
+          (PrimE stableMemoryGrow (VarE pages))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat32)
+        (FuncE
+          stableMemoryLoadNat32
+          Local
+          Returns
+          (params offset)
+          Nat32
+          (PrimE stableMemoryLoadNat32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat32)
+        (FuncE
+          stableMemoryStoreNat32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat8)
+        (FuncE
+          stableMemoryLoadNat8
+          Local
+          Returns
+          (params offset)
+          Nat8
+          (PrimE stableMemoryLoadNat8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat8)
+        (FuncE
+          stableMemoryStoreNat8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat16)
+        (FuncE
+          stableMemoryLoadNat16
+          Local
+          Returns
+          (params offset)
+          Nat16
+          (PrimE stableMemoryLoadNat16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat16)
+        (FuncE
+          stableMemoryStoreNat16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat64)
+        (FuncE
+          stableMemoryLoadNat64
+          Local
+          Returns
+          (params offset)
+          Nat64
+          (PrimE stableMemoryLoadNat64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat64)
+        (FuncE
+          stableMemoryStoreNat64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt32)
+        (FuncE
+          stableMemoryLoadInt32
+          Local
+          Returns
+          (params offset)
+          Int32
+          (PrimE stableMemoryLoadInt32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt32)
+        (FuncE
+          stableMemoryStoreInt32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt8)
+        (FuncE
+          stableMemoryLoadInt8
+          Local
+          Returns
+          (params offset)
+          Int8
+          (PrimE stableMemoryLoadInt8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt8)
+        (FuncE
+          stableMemoryStoreInt8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt16)
+        (FuncE
+          stableMemoryLoadInt16
+          Local
+          Returns
+          (params offset)
+          Int16
+          (PrimE stableMemoryLoadInt16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt16)
+        (FuncE
+          stableMemoryStoreInt16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt64)
+        (FuncE
+          stableMemoryLoadInt64
+          Local
+          Returns
+          (params offset)
+          Int64
+          (PrimE stableMemoryLoadInt64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt64)
+        (FuncE
+          stableMemoryStoreInt64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadFloat)
+        (FuncE
+          stableMemoryLoadFloat
+          Local
+          Returns
+          (params offset)
+          Float
+          (PrimE stableMemoryLoadFloat (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreFloat)
+        (FuncE
+          stableMemoryStoreFloat
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreFloat (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadBlob)
+        (FuncE
+          stableMemoryLoadBlob
+          Local
+          Returns
+          (params offset size)
+          Blob
+          (PrimE stableMemoryLoadBlob (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreBlob)
+        (FuncE
+          stableMemoryStoreBlob
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreBlob (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableVarQuery)
+        (FuncE
+          stableVarQuery
+          Local
+          Returns
+          shared query <system>() -> replies {size : Nat64}
+          (PrimE stableVarQuery)
+        )
+      )
+      (LetD
+        (VarP regionNew)
+        (FuncE regionNew Local Returns Region (PrimE regionNew))
+      )
+      (LetD
+        (VarP regionId)
+        (FuncE regionId Local Returns (params r) Nat (PrimE regionId (VarE r)))
+      )
+      (LetD
+        (VarP regionSize)
+        (FuncE
+          regionSize
+          Local
+          Returns
+          (params r)
+          Nat64
+          (PrimE regionSize (VarE r))
+        )
+      )
+      (LetD
+        (VarP regionGrow)
+        (FuncE
+          regionGrow
+          Local
+          Returns
+          (params r pages)
+          Nat64
+          (PrimE regionGrow (VarE r) (VarE pages))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat32)
+        (FuncE
+          regionLoadNat32
+          Local
+          Returns
+          (params r offset)
+          Nat32
+          (PrimE regionLoadNat32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat32)
+        (FuncE
+          regionStoreNat32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat8)
+        (FuncE
+          regionLoadNat8
+          Local
+          Returns
+          (params r offset)
+          Nat8
+          (PrimE regionLoadNat8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat8)
+        (FuncE
+          regionStoreNat8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat16)
+        (FuncE
+          regionLoadNat16
+          Local
+          Returns
+          (params r offset)
+          Nat16
+          (PrimE regionLoadNat16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat16)
+        (FuncE
+          regionStoreNat16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat64)
+        (FuncE
+          regionLoadNat64
+          Local
+          Returns
+          (params r offset)
+          Nat64
+          (PrimE regionLoadNat64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat64)
+        (FuncE
+          regionStoreNat64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt32)
+        (FuncE
+          regionLoadInt32
+          Local
+          Returns
+          (params r offset)
+          Int32
+          (PrimE regionLoadInt32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt32)
+        (FuncE
+          regionStoreInt32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt8)
+        (FuncE
+          regionLoadInt8
+          Local
+          Returns
+          (params r offset)
+          Int8
+          (PrimE regionLoadInt8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt8)
+        (FuncE
+          regionStoreInt8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt16)
+        (FuncE
+          regionLoadInt16
+          Local
+          Returns
+          (params r offset)
+          Int16
+          (PrimE regionLoadInt16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt16)
+        (FuncE
+          regionStoreInt16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt64)
+        (FuncE
+          regionLoadInt64
+          Local
+          Returns
+          (params r offset)
+          Int64
+          (PrimE regionLoadInt64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt64)
+        (FuncE
+          regionStoreInt64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadFloat)
+        (FuncE
+          regionLoadFloat
+          Local
+          Returns
+          (params r offset)
+          Float
+          (PrimE regionLoadFloat (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreFloat)
+        (FuncE
+          regionStoreFloat
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreFloat (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadBlob)
+        (FuncE
+          regionLoadBlob
+          Local
+          Returns
+          (params r offset size)
+          Blob
+          (PrimE regionLoadBlob (VarE r) (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP regionStoreBlob)
+        (FuncE
+          regionStoreBlob
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreBlob (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD (VarP call_raw) (VarE @call_raw))
+      (LetD
+        (VarP performanceCounter)
+        (FuncE
+          performanceCounter
+          Local
+          Returns
+          (params counter)
+          Nat64
+          (PrimE performanceCounter (VarE counter))
+        )
+      )
+      (LetD
+        (VarP setCandidLimits)
+        (FuncE
+          setCandidLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/0)
+          ()
+          (BlockE
+            (LetD
+              (ObjP
+                (numerator (VarP numerator))
+                (denominator (VarP denominator))
+                (bias (VarP bias))
+              )
+              (VarE $param/0)
+            )
+            (PrimE
+              setCandidLimits
+              (VarE numerator)
+              (VarE denominator)
+              (VarE bias)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidLimits)
+        (FuncE
+          getCandidLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; denominator : Nat32; numerator : Nat32}
+          (BlockE
+            (LetD
+              (TupP (VarP numerator) (VarP denominator) (VarP bias))
+              (PrimE getCandidLimits)
+            )
+            (NewObjE
+              Object
+              (bias bias)
+              (denominator denominator)
+              (numerator numerator)
+              {bias : Nat32; denominator : Nat32; numerator : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP setCandidTypeLimits)
+        (FuncE
+          setCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/1)
+          ()
+          (BlockE
+            (LetD
+              (ObjP (scalar (VarP scalar)) (bias (VarP bias)))
+              (VarE $param/1)
+            )
+            (PrimE setCandidTypeLimits (VarE scalar) (VarE bias))
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidTypeLimits)
+        (FuncE
+          getCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; scalar : Nat32}
+          (BlockE
+            (LetD (TupP (VarP scalar) (VarP bias)) (PrimE getCandidTypeLimits))
+            (NewObjE
+              Object
+              (bias bias)
+              (scalar scalar)
+              {bias : Nat32; scalar : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP forall)
+        (FuncE
+          forall
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE forall (VarE f))
+        )
+      )
+      (LetD
+        (VarP exists)
+        (FuncE
+          exists
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE exists (VarE f))
+        )
+      )
+      (LetD (VarP setTimer) (VarE @setTimer))
+      (LetD (VarP cancelTimer) (VarE @cancelTimer))
+      (NewObjE
+        Module
+        (weakGet weakGet)
+        (trap trap)
+        (time time)
+        (textUppercase textUppercase)
+        (textLowercase textLowercase)
+        (textCompare textCompare)
+        (tan tan)
+        (stableVarQuery stableVarQuery)
+        (stableMemoryStoreNat8 stableMemoryStoreNat8)
+        (stableMemoryStoreNat64 stableMemoryStoreNat64)
+        (stableMemoryStoreNat32 stableMemoryStoreNat32)
+        (stableMemoryStoreNat16 stableMemoryStoreNat16)
+        (stableMemoryStoreInt8 stableMemoryStoreInt8)
+        (stableMemoryStoreInt64 stableMemoryStoreInt64)
+        (stableMemoryStoreInt32 stableMemoryStoreInt32)
+        (stableMemoryStoreInt16 stableMemoryStoreInt16)
+        (stableMemoryStoreFloat stableMemoryStoreFloat)
+        (stableMemoryStoreBlob stableMemoryStoreBlob)
+        (stableMemorySize stableMemorySize)
+        (stableMemoryLoadNat8 stableMemoryLoadNat8)
+        (stableMemoryLoadNat64 stableMemoryLoadNat64)
+        (stableMemoryLoadNat32 stableMemoryLoadNat32)
+        (stableMemoryLoadNat16 stableMemoryLoadNat16)
+        (stableMemoryLoadInt8 stableMemoryLoadInt8)
+        (stableMemoryLoadInt64 stableMemoryLoadInt64)
+        (stableMemoryLoadInt32 stableMemoryLoadInt32)
+        (stableMemoryLoadInt16 stableMemoryLoadInt16)
+        (stableMemoryLoadFloat stableMemoryLoadFloat)
+        (stableMemoryLoadBlob stableMemoryLoadBlob)
+        (stableMemoryGrow stableMemoryGrow)
+        (sin sin)
+        (shiftRight shiftRight)
+        (shiftLeft shiftLeft)
+        (setTimer setTimer)
+        (setCertifiedData setCertifiedData)
+        (setCandidTypeLimits setCandidTypeLimits)
+        (setCandidLimits setCandidLimits)
+        (rts_version rts_version)
+        (rts_upgrade_instructions rts_upgrade_instructions)
+        (rts_total_allocation rts_total_allocation)
+        (rts_stable_memory_size rts_stable_memory_size)
+        (rts_reclaimed rts_reclaimed)
+        (rts_mutator_instructions rts_mutator_instructions)
+        (rts_memory_size rts_memory_size)
+        (rts_max_stack_size rts_max_stack_size)
+        (rts_max_live_size rts_max_live_size)
+        (rts_logical_stable_memory_size rts_logical_stable_memory_size)
+        (rts_lifetime_instructions rts_lifetime_instructions)
+        (rts_heap_size rts_heap_size)
+        (rts_collector_instructions rts_collector_instructions)
+        (rts_callback_table_size rts_callback_table_size)
+        (rts_callback_table_count rts_callback_table_count)
+        (rootKey rootKey)
+        (replyDeadline replyDeadline)
+        (regionStoreNat8 regionStoreNat8)
+        (regionStoreNat64 regionStoreNat64)
+        (regionStoreNat32 regionStoreNat32)
+        (regionStoreNat16 regionStoreNat16)
+        (regionStoreInt8 regionStoreInt8)
+        (regionStoreInt64 regionStoreInt64)
+        (regionStoreInt32 regionStoreInt32)
+        (regionStoreInt16 regionStoreInt16)
+        (regionStoreFloat regionStoreFloat)
+        (regionStoreBlob regionStoreBlob)
+        (regionSize regionSize)
+        (regionNew regionNew)
+        (regionLoadNat8 regionLoadNat8)
+        (regionLoadNat64 regionLoadNat64)
+        (regionLoadNat32 regionLoadNat32)
+        (regionLoadNat16 regionLoadNat16)
+        (regionLoadInt8 regionLoadInt8)
+        (regionLoadInt64 regionLoadInt64)
+        (regionLoadInt32 regionLoadInt32)
+        (regionLoadInt16 regionLoadInt16)
+        (regionLoadFloat regionLoadFloat)
+        (regionLoadBlob regionLoadBlob)
+        (regionId regionId)
+        (regionGrow regionGrow)
+        (pruneConfirmedDeadBlobs pruneConfirmedDeadBlobs)
+        (principalOfBlob principalOfBlob)
+        (principalOfActor principalOfActor)
+        (popcntNat8 popcntNat8)
+        (popcntNat64 popcntNat64)
+        (popcntNat32 popcntNat32)
+        (popcntNat16 popcntNat16)
+        (popcntInt8 popcntInt8)
+        (popcntInt64 popcntInt64)
+        (popcntInt32 popcntInt32)
+        (popcntInt16 popcntInt16)
+        (performanceCounter performanceCounter)
+        (natToNat8 natToNat8)
+        (natToNat64 natToNat64)
+        (natToNat32 natToNat32)
+        (natToNat16 natToNat16)
+        (nat8ToNat16 nat8ToNat16)
+        (nat8ToNat nat8ToNat)
+        (nat8ToInt8 nat8ToInt8)
+        (nat64ToNat32 nat64ToNat32)
+        (nat64ToNat nat64ToNat)
+        (nat64ToInt64 nat64ToInt64)
+        (nat32ToNat64 nat32ToNat64)
+        (nat32ToNat16 nat32ToNat16)
+        (nat32ToNat nat32ToNat)
+        (nat32ToInt32 nat32ToInt32)
+        (nat32ToChar nat32ToChar)
+        (nat16ToNat8 nat16ToNat8)
+        (nat16ToNat32 nat16ToNat32)
+        (nat16ToNat nat16ToNat)
+        (nat16ToInt16 nat16ToInt16)
+        (log log)
+        (isStorageBlobLive isStorageBlobLive)
+        (isReplicatedExecution isReplicatedExecution)
+        (isLive isLive)
+        (isController isController)
+        (intToNat8Wrap intToNat8Wrap)
+        (intToNat64Wrap intToNat64Wrap)
+        (intToNat32Wrap intToNat32Wrap)
+        (intToNat16Wrap intToNat16Wrap)
+        (intToInt8Wrap intToInt8Wrap)
+        (intToInt8 intToInt8)
+        (intToInt64Wrap intToInt64Wrap)
+        (intToInt64 intToInt64)
+        (intToInt32Wrap intToInt32Wrap)
+        (intToInt32 intToInt32)
+        (intToInt16Wrap intToInt16Wrap)
+        (intToInt16 intToInt16)
+        (intToFloat intToFloat)
+        (int8ToNat8 int8ToNat8)
+        (int8ToInt16 int8ToInt16)
+        (int8ToInt int8ToInt)
+        (int64ToNat64 int64ToNat64)
+        (int64ToInt32 int64ToInt32)
+        (int64ToInt int64ToInt)
+        (int64ToFloat int64ToFloat)
+        (int32ToNat32 int32ToNat32)
+        (int32ToInt64 int32ToInt64)
+        (int32ToInt16 int32ToInt16)
+        (int32ToInt int32ToInt)
+        (int16ToNat16 int16ToNat16)
+        (int16ToInt8 int16ToInt8)
+        (int16ToInt32 int16ToInt32)
+        (int16ToInt int16ToInt)
+        (idlHash idlHash)
+        (hashBlob hashBlob)
+        (getSelfPrincipal getSelfPrincipal)
+        (getDeadBlobs getDeadBlobs)
+        (getCertificate getCertificate)
+        (getCandidTypeLimits getCandidTypeLimits)
+        (getCandidLimits getCandidLimits)
+        (forall forall)
+        (floatTrunc floatTrunc)
+        (floatToText floatToText)
+        (floatToInt64 floatToInt64)
+        (floatToInt floatToInt)
+        (floatToFormattedText floatToFormattedText)
+        (floatSqrt floatSqrt)
+        (floatNearest floatNearest)
+        (floatMin floatMin)
+        (floatMax floatMax)
+        (floatFloor floatFloor)
+        (floatCopySign floatCopySign)
+        (floatCeil floatCeil)
+        (floatAbs floatAbs)
+        (explodeNat64 explodeNat64)
+        (explodeNat32 explodeNat32)
+        (explodeNat16 explodeNat16)
+        (explodeInt64 explodeInt64)
+        (explodeInt32 explodeInt32)
+        (explodeInt16 explodeInt16)
+        (exp exp)
+        (exists exists)
+        (errorMessage errorMessage)
+        (errorCode errorCode)
+        (error error)
+        (envVarNames envVarNames)
+        (envVar envVar)
+        (encodeUtf8 encodeUtf8)
+        (decodeUtf8 decodeUtf8)
+        (debugPrintNat debugPrintNat)
+        (debugPrintInt debugPrintInt)
+        (debugPrintChar debugPrintChar)
+        (debugPrint debugPrint)
+        (cyclesRefunded cyclesRefunded)
+        (cyclesBurn cyclesBurn)
+        (cyclesBalance cyclesBalance)
+        (cyclesAvailable cyclesAvailable)
+        (cyclesAdd cyclesAdd)
+        (cyclesAccept cyclesAccept)
+        (ctzNat8 ctzNat8)
+        (ctzNat64 ctzNat64)
+        (ctzNat32 ctzNat32)
+        (ctzNat16 ctzNat16)
+        (ctzInt8 ctzInt8)
+        (ctzInt64 ctzInt64)
+        (ctzInt32 ctzInt32)
+        (ctzInt16 ctzInt16)
+        (createActor createActor)
+        (costSignWithSchnorr costSignWithSchnorr)
+        (costSignWithEcdsa costSignWithEcdsa)
+        (costHttpRequest costHttpRequest)
+        (costCreateCanister costCreateCanister)
+        (costCall costCall)
+        (cos cos)
+        (clzNat8 clzNat8)
+        (clzNat64 clzNat64)
+        (clzNat32 clzNat32)
+        (clzNat16 clzNat16)
+        (clzInt8 clzInt8)
+        (clzInt64 clzInt64)
+        (clzInt32 clzInt32)
+        (clzInt16 clzInt16)
+        (charToUpper charToUpper)
+        (charToText charToText)
+        (charToNat32 charToNat32)
+        (charToLower charToLower)
+        (charIsWhitespace charIsWhitespace)
+        (charIsUppercase charIsUppercase)
+        (charIsLowercase charIsLowercase)
+        (charIsAlphabetic charIsAlphabetic)
+        (canisterVersion canisterVersion)
+        (canisterSubnet canisterSubnet)
+        (cancelTimer cancelTimer)
+        (call_raw call_raw)
+        (btstNat8 btstNat8)
+        (btstNat64 btstNat64)
+        (btstNat32 btstNat32)
+        (btstNat16 btstNat16)
+        (btstInt8 btstInt8)
+        (btstInt64 btstInt64)
+        (btstInt32 btstInt32)
+        (btstInt16 btstInt16)
+        (blobToArrayMut blobToArrayMut)
+        (blobToArray blobToArray)
+        (blobOfPrincipal blobOfPrincipal)
+        (blobCompare blobCompare)
+        (arrayToBlob arrayToBlob)
+        (arrayMutToBlob arrayMutToBlob)
+        (arctan2 arctan2)
+        (arctan arctan)
+        (arcsin arcsin)
+        (arccos arccos)
+        (allocWeakRef allocWeakRef)
+        (abs abs)
+        (__getDedupTable __getDedupTable)
+        (Types Types)
+        (BlobIterator BlobIterator)
+        (Array_tabulateVar Array_tabulateVar)
+        (Array_tabulate Array_tabulate)
+        (Array_init Array_init)
+        module {Array_init : <T>(Nat, T) -> [var T]; Array_tabulate : <T>(Nat, Nat -> T) -> [T]; Array_tabulateVar : <T>(Nat, Nat -> T) -> [var T]; BlobIterator : [var __List] -> BlobIterator; Types : module {}; __getDedupTable : () -> ?[var __List]; abs : Int -> Nat; allocWeakRef : <T>T -> weak T; arccos : Float -> Float; arcsin : Float -> Float; arctan : Float -> Float; arctan2 : (Float, Float) -> Float; arrayMutToBlob : [var Nat8] -> Blob; arrayToBlob : [Nat8] -> Blob; blobCompare : (Blob, Blob) -> Int8; blobOfPrincipal : Principal -> Blob; blobToArray : Blob -> [Nat8]; blobToArrayMut : Blob -> [var Nat8]; btstInt16 : (Int16, Int16) -> Bool; btstInt32 : (Int32, Int32) -> Bool; btstInt64 : (Int64, Int64) -> Bool; btstInt8 : (Int8, Int8) -> Bool; btstNat16 : (Nat16, Nat16) -> Bool; btstNat32 : (Nat32, Nat32) -> Bool; btstNat64 : (Nat64, Nat64) -> Bool; btstNat8 : (Nat8, Nat8) -> Bool; call_raw : <system>(Principal, Text, Blob) -> (Blob -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; cancelTimer : Nat -> (); canisterSubnet : () -> Principal; canisterVersion : () -> Nat64; charIsAlphabetic : Char -> Bool; charIsLowercase : Char -> Bool; charIsUppercase : Char -> Bool; charIsWhitespace : Char -> Bool; charToLower : Char -> Char; charToNat32 : Char -> Nat32; charToText : Char -> Text; charToUpper : Char -> Char; clzInt16 : Int16 -> Int16; clzInt32 : Int32 -> Int32; clzInt64 : Int64 -> Int64; clzInt8 : Int8 -> Int8; clzNat16 : Nat16 -> Nat16; clzNat32 : Nat32 -> Nat32; clzNat64 : Nat64 -> Nat64; clzNat8 : Nat8 -> Nat8; cos : Float -> Float; costCall : (Nat64, Nat64) -> Nat; costCreateCanister : () -> Nat; costHttpRequest : (Nat64, Nat64) -> Nat; costSignWithEcdsa : (Text, Nat32) -> (Nat32, Nat); costSignWithSchnorr : (Text, Nat32) -> (Nat32, Nat); createActor : <system>(Blob, Blob) -> (Principal -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; ctzInt16 : Int16 -> Int16; ctzInt32 : Int32 -> Int32; ctzInt64 : Int64 -> Int64; ctzInt8 : Int8 -> Int8; ctzNat16 : Nat16 -> Nat16; ctzNat32 : Nat32 -> Nat32; ctzNat64 : Nat64 -> Nat64; ctzNat8 : Nat8 -> Nat8; cyclesAccept : <system>Nat -> Nat; cyclesAdd : <system>Nat -> (); cyclesAvailable : () -> Nat; cyclesBalance : () -> Nat; cyclesBurn : <system>Nat -> Nat; cyclesRefunded : () -> Nat; debugPrint : Text -> (); debugPrintChar : Char -> (); debugPrintInt : Int -> (); debugPrintNat : Nat -> (); decodeUtf8 : Blob -> ?Text; encodeUtf8 : Text -> Blob; envVar : <system>Text -> ?Text; envVarNames : <system>() -> [Text]; error : Text -> Error; errorCode : Error -> ErrorCode; errorMessage : Error -> Text; exists : <T>(T -> Bool) -> Bool; exp : Float -> Float; explodeInt16 : Int16 -> (Nat8, Nat8); explodeInt32 : Int32 -> (Nat8, Nat8, Nat8, Nat8); explodeInt64 : Int64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); explodeNat16 : Nat16 -> (Nat8, Nat8); explodeNat32 : Nat32 -> (Nat8, Nat8, Nat8, Nat8); explodeNat64 : Nat64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); floatAbs : Float -> Float; floatCeil : Float -> Float; floatCopySign : (Float, Float) -> Float; floatFloor : Float -> Float; floatMax : (Float, Float) -> Float; floatMin : (Float, Float) -> Float; floatNearest : Float -> Float; floatSqrt : Float -> Float; floatToFormattedText : (Float, Nat8, Nat8) -> Text; floatToInt : Float -> Int; floatToInt64 : Float -> Int64; floatToText : Float -> Text; floatTrunc : Float -> Float; forall : <T>(T -> Bool) -> Bool; getCandidLimits : <system>() -> {bias : Nat32; denominator : Nat32; numerator : Nat32}; getCandidTypeLimits : <system>() -> {bias : Nat32; scalar : Nat32}; getCertificate : () -> ?Blob; getDeadBlobs : () -> ?[Blob]; getSelfPrincipal : <system>() -> Principal; hashBlob : Blob -> Nat32; idlHash : Text -> Nat32; int16ToInt : Int16 -> Int; int16ToInt32 : Int16 -> Int32; int16ToInt8 : Int16 -> Int8; int16ToNat16 : Int16 -> Nat16; int32ToInt : Int32 -> Int; int32ToInt16 : Int32 -> Int16; int32ToInt64 : Int32 -> Int64; int32ToNat32 : Int32 -> Nat32; int64ToFloat : Int64 -> Float; int64ToInt : Int64 -> Int; int64ToInt32 : Int64 -> Int32; int64ToNat64 : Int64 -> Nat64; int8ToInt : Int8 -> Int; int8ToInt16 : Int8 -> Int16; int8ToNat8 : Int8 -> Nat8; intToFloat : Int -> Float; intToInt16 : Int -> Int16; intToInt16Wrap : Int -> Int16; intToInt32 : Int -> Int32; intToInt32Wrap : Int -> Int32; intToInt64 : Int -> Int64; intToInt64Wrap : Int -> Int64; intToInt8 : Int -> Int8; intToInt8Wrap : Int -> Int8; intToNat16Wrap : Int -> Nat16; intToNat32Wrap : Int -> Nat32; intToNat64Wrap : Int -> Nat64; intToNat8Wrap : Int -> Nat8; isController : Principal -> Bool; isLive : weak Any -> Bool; isReplicatedExecution : () -> Bool; isStorageBlobLive : Blob -> Bool; log : Float -> Float; nat16ToInt16 : Nat16 -> Int16; nat16ToNat : Nat16 -> Nat; nat16ToNat32 : Nat16 -> Nat32; nat16ToNat8 : Nat16 -> Nat8; nat32ToChar : Nat32 -> Char; nat32ToInt32 : Nat32 -> Int32; nat32ToNat : Nat32 -> Nat; nat32ToNat16 : Nat32 -> Nat16; nat32ToNat64 : Nat32 -> Nat64; nat64ToInt64 : Nat64 -> Int64; nat64ToNat : Nat64 -> Nat; nat64ToNat32 : Nat64 -> Nat32; nat8ToInt8 : Nat8 -> Int8; nat8ToNat : Nat8 -> Nat; nat8ToNat16 : Nat8 -> Nat16; natToNat16 : Nat -> Nat16; natToNat32 : Nat -> Nat32; natToNat64 : Nat -> Nat64; natToNat8 : Nat -> Nat8; performanceCounter : Nat32 -> Nat64; popcntInt16 : Int16 -> Int16; popcntInt32 : Int32 -> Int32; popcntInt64 : Int64 -> Int64; popcntInt8 : Int8 -> Int8; popcntNat16 : Nat16 -> Nat16; popcntNat32 : Nat32 -> Nat32; popcntNat64 : Nat64 -> Nat64; popcntNat8 : Nat8 -> Nat8; principalOfActor : (actor {}) -> Principal; principalOfBlob : Blob -> Principal; pruneConfirmedDeadBlobs : [Blob] -> (); regionGrow : (Region, Nat64) -> Nat64; regionId : Region -> Nat; regionLoadBlob : (Region, Nat64, Nat) -> Blob; regionLoadFloat : (Region, Nat64) -> Float; regionLoadInt16 : (Region, Nat64) -> Int16; regionLoadInt32 : (Region, Nat64) -> Int32; regionLoadInt64 : (Region, Nat64) -> Int64; regionLoadInt8 : (Region, Nat64) -> Int8; regionLoadNat16 : (Region, Nat64) -> Nat16; regionLoadNat32 : (Region, Nat64) -> Nat32; regionLoadNat64 : (Region, Nat64) -> Nat64; regionLoadNat8 : (Region, Nat64) -> Nat8; regionNew : () -> Region; regionSize : Region -> Nat64; regionStoreBlob : (Region, Nat64, Blob) -> (); regionStoreFloat : (Region, Nat64, Float) -> (); regionStoreInt16 : (Region, Nat64, Int16) -> (); regionStoreInt32 : (Region, Nat64, Int32) -> (); regionStoreInt64 : (Region, Nat64, Int64) -> (); regionStoreInt8 : (Region, Nat64, Int8) -> (); regionStoreNat16 : (Region, Nat64, Nat16) -> (); regionStoreNat32 : (Region, Nat64, Nat32) -> (); regionStoreNat64 : (Region, Nat64, Nat64) -> (); regionStoreNat8 : (Region, Nat64, Nat8) -> (); replyDeadline : () -> Nat64; rootKey : () -> Blob; rts_callback_table_count : () -> Nat; rts_callback_table_size : () -> Nat; rts_collector_instructions : () -> Nat; rts_heap_size : () -> Nat; rts_lifetime_instructions : () -> Nat; rts_logical_stable_memory_size : () -> Nat; rts_max_live_size : () -> Nat; rts_max_stack_size : () -> Nat; rts_memory_size : () -> Nat; rts_mutator_instructions : () -> Nat; rts_reclaimed : () -> Nat; rts_stable_memory_size : () -> Nat; rts_total_allocation : () -> Nat; rts_upgrade_instructions : () -> Nat; rts_version : () -> Text; setCandidLimits : <system>{bias : Nat32; denominator : Nat32; numerator : Nat32} -> (); setCandidTypeLimits : <system>{bias : Nat32; scalar : Nat32} -> (); setCertifiedData : Blob -> (); setTimer : <system>(Nat64, Bool, <system_1>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}) -> Nat; shiftLeft : (Nat, Nat32) -> Nat; shiftRight : (Nat, Nat32) -> Nat; sin : Float -> Float; stableMemoryGrow : Nat64 -> Nat64; stableMemoryLoadBlob : (Nat64, Nat) -> Blob; stableMemoryLoadFloat : Nat64 -> Float; stableMemoryLoadInt16 : Nat64 -> Int16; stableMemoryLoadInt32 : Nat64 -> Int32; stableMemoryLoadInt64 : Nat64 -> Int64; stableMemoryLoadInt8 : Nat64 -> Int8; stableMemoryLoadNat16 : Nat64 -> Nat16; stableMemoryLoadNat32 : Nat64 -> Nat32; stableMemoryLoadNat64 : Nat64 -> Nat64; stableMemoryLoadNat8 : Nat64 -> Nat8; stableMemorySize : () -> Nat64; stableMemoryStoreBlob : (Nat64, Blob) -> (); stableMemoryStoreFloat : (Nat64, Float) -> (); stableMemoryStoreInt16 : (Nat64, Int16) -> (); stableMemoryStoreInt32 : (Nat64, Int32) -> (); stableMemoryStoreInt64 : (Nat64, Int64) -> (); stableMemoryStoreInt8 : (Nat64, Int8) -> (); stableMemoryStoreNat16 : (Nat64, Nat16) -> (); stableMemoryStoreNat32 : (Nat64, Nat32) -> (); stableMemoryStoreNat64 : (Nat64, Nat64) -> (); stableMemoryStoreNat8 : (Nat64, Nat8) -> (); stableVarQuery : () -> shared query <system>() -> replies {size : Nat64}; tan : Float -> Float; textCompare : (Text, Text) -> Int8; textLowercase : Text -> Text; textUppercase : Text -> Text; time : () -> Nat64; trap : Text -> None; weakGet : <T>weak T -> ?T}
+      )
+    )
+  )
+  (LetD
+    (VarP file$issue-5767/Region.mo)
+    (BlockE
+      (LetD (VarP Prim) (VarE file$@prim))
+      (BlockE
+        (LetD (VarP new) (PrimE (DotPrim regionNew) (VarE Prim)))
+        (LetD
+          (VarP grow)
+          (FuncE
+            grow
+            Local
+            Returns
+            (params self newPages)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionGrow) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE newPages))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64)
+          (FuncE
+            loadNat64
+            Local
+            Returns
+            (params self offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE offset))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64Fn)
+          (FuncE
+            loadNat64Fn
+            Local
+            Returns
+            (params r offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE r) (VarE offset))
+            )
+          )
+        )
+        (NewObjE
+          Module
+          (new new)
+          (loadNat64Fn loadNat64Fn)
+          (loadNat64 loadNat64)
+          (grow grow)
+          module {grow : (Region, Nat64) -> Nat64; loadNat64 : (Region, Nat64) -> Nat64; loadNat64Fn : (Region, Nat64) -> Nat64; new : () -> Region}
+        )
+      )
+    )
+  )
+  (LetD (VarP Region) (VarE file$issue-5767/Region.mo))
+  (LetD
+    (VarP $__motoko_stable_var_info)
+    (FuncE
+      $__motoko_stable_var_info
+      Shared Query
+      Replies
+      (T1 Any)
+      {size : Nat64}
+      (PrimE
+        (CallPrim T1)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          (T2 Any)
+          (params $k/10 $r/6 $b/4)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/10)
+            (BlockE
+              (LetD (VarP $$caller/0/0) (PrimE ICCallerPrim))
+              (LetD
+                WildP
+                (PrimE
+                  AssertPrim
+                  (IfE
+                    (PrimE
+                      (RelPrim Principal EqOp)
+                      (VarE $$caller/0/0)
+                      (PrimE (SelfRef Principal))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE is_controller (VarE $$caller/0/0))
+                  )
+                )
+              )
+              (LetD
+                (VarP $$size/0/0)
+                (PrimE (ICStableSize memory {}) (NewObjE Memory memory {}))
+              )
+              (NewObjE Object (size $$size/0/0) {size : Nat64})
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $v/46)
+            ()
+            (PrimE (ICReplyPrim {size : Nat64}) (VarE $v/46))
+          )
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $e/6)
+            ()
+            (PrimE
+              ICRejectPrim
+              (PrimE
+                (ProjPrim 1)
+                (PrimE
+                  (CastPrim
+                    Error
+                    ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                  )
+                  (VarE $e/6)
+                )
+              )
+            )
+          )
+          (VarE @cleanup)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP $__motoko_runtime_information)
+    (FuncE
+      $__motoko_runtime_information
+      Shared Query
+      Replies
+      (T1 Any)
+      {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+      (PrimE
+        (CallPrim T1)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          (T2 Any)
+          (params $k/11 $r/7 $b/5)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/11)
+            (BlockE
+              (LetD (VarP $$caller/1/0) (PrimE ICCallerPrim))
+              (LetD
+                WildP
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Principal EqOp)
+                      (VarE $$caller/1/0)
+                      (PrimE (SelfRef Principal))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE is_controller (VarE $$caller/1/0))
+                  )
+                  (PrimE TupPrim)
+                  (PrimE
+                    trap
+                    (LitE
+                      (TextLit
+                        Unauthorized call of __motoko_runtime_information
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP $$compilerVersion/0/0)
+                (LitE (TextLit 1.0.0-77-g4d85e5c86-dirty))
+              )
+              (LetD
+                (VarP $$garbageCollector/0/0)
+                (LitE (TextLit default force))
+              )
+              (LetD (VarP $$rtsVersion/0/0) (PrimE rts_version))
+              (LetD (VarP $$sanityChecks/0/0) (LitE (BoolLit false)))
+              (LetD (VarP $$memorySize/0/0) (PrimE rts_memory_size))
+              (LetD (VarP $$heapSize/0/0) (PrimE rts_heap_size))
+              (LetD (VarP $$totalAllocation/0/0) (PrimE rts_total_allocation))
+              (LetD (VarP $$reclaimed/0/0) (PrimE rts_reclaimed))
+              (LetD (VarP $$maxLiveSize/0/0) (PrimE rts_max_live_size))
+              (LetD
+                (VarP $$stableMemorySize/0/0)
+                (PrimE rts_stable_memory_size)
+              )
+              (LetD
+                (VarP $$logicalStableMemorySize/0/0)
+                (PrimE rts_logical_stable_memory_size)
+              )
+              (LetD (VarP $$maxStackSize/0/0) (PrimE rts_max_stack_size))
+              (LetD
+                (VarP $$callbackTableCount/0/0)
+                (PrimE rts_callback_table_count)
+              )
+              (LetD
+                (VarP $$callbackTableSize/0/0)
+                (PrimE rts_callback_table_size)
+              )
+              (NewObjE
+                Object
+                (callbackTableSize $$callbackTableSize/0/0)
+                (callbackTableCount $$callbackTableCount/0/0)
+                (maxStackSize $$maxStackSize/0/0)
+                (logicalStableMemorySize $$logicalStableMemorySize/0/0)
+                (stableMemorySize $$stableMemorySize/0/0)
+                (maxLiveSize $$maxLiveSize/0/0)
+                (reclaimed $$reclaimed/0/0)
+                (totalAllocation $$totalAllocation/0/0)
+                (heapSize $$heapSize/0/0)
+                (memorySize $$memorySize/0/0)
+                (sanityChecks $$sanityChecks/0/0)
+                (rtsVersion $$rtsVersion/0/0)
+                (garbageCollector $$garbageCollector/0/0)
+                (compilerVersion $$compilerVersion/0/0)
+                {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $v/47)
+            ()
+            (PrimE
+              (ICReplyPrim
+                {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+              )
+              (VarE $v/47)
+            )
+          )
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $e/7)
+            ()
+            (PrimE
+              ICRejectPrim
+              (PrimE
+                (ProjPrim 1)
+                (PrimE
+                  (CastPrim
+                    Error
+                    ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                  )
+                  (VarE $e/7)
+                )
+              )
+            )
+          )
+          (VarE @cleanup)
+        )
+      )
+    )
+  )
+  (LetD (VarP A) (PrimE (SelfRef actor {go : shared <system>() -> replies ()})))
+  (VarD $state/0 ?(memory {}) (PrimE OptPrim (PrimE (ICStableRead memory {}))))
+  (LetD
+    (VarP $getState/0)
+    (FuncE
+      $getState/0
+      Local
+      Returns
+      memory {}
+      (SwitchE
+        (VarE! $state/0)
+        (case (LitP NullLit) (LoopE (PrimE TupPrim)))
+        (case (OptP (VarP $v/0)) (VarE $v/0))
+      )
+    )
+  )
+  (LetD
+    (VarP r)
+    (PrimE (CallPrim) (PrimE (DotPrim new) (VarE Region)) (PrimE TupPrim))
+  )
+  (LetD
+    WildP
+    (PrimE
+      (CallPrim)
+      (PrimE (DotPrim grow) (VarE Region))
+      (PrimE TupPrim (VarE r) (LitE (Nat64Lit 1)))
+    )
+  )
+  (LetD
+    (VarP kermit)
+    (FuncE
+      kermit
+      Local
+      Returns
+      ()
+      (BlockE
+        (LetD
+          (VarP w1)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w2)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w3)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64Fn) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (PrimE TupPrim)
+      )
+    )
+  )
+  (LetD
+    (VarP go)
+    (FuncE
+      go
+      Shared
+      Replies
+      ($ Any)
+      ()
+      (PrimE
+        (CallPrim $)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          ($go Any)
+          (params $k/12 $r/8 $b/6)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/12)
+            (PrimE (CallPrim) (VarE kermit) (PrimE TupPrim))
+          )
+        )
+        (PrimE
+          TupPrim
+          (FuncE
+            $lambda
+            Local
+            Returns
+            ()
+            (BlockE
+              (LetD (VarP $v/48) (PrimE TupPrim))
+              (PrimE (ICReplyPrim) (VarE $v/48))
+            )
+          )
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $e/8)
+            ()
+            (PrimE
+              ICRejectPrim
+              (PrimE
+                (ProjPrim 1)
+                (PrimE
+                  (CastPrim
+                    Error
+                    ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                  )
+                  (VarE $e/8)
+                )
+              )
+            )
+          )
+          (VarE @cleanup)
+        )
+      )
+    )
+  )
+  (LetD WildP (AssignE (VarLE $state/0) (LitE NullLit)))
+  (go go)
+  (__motoko_runtime_information $__motoko_runtime_information)
+  (__motoko_stable_var_info $__motoko_stable_var_info)
+  (System
+    (Pre (PrimE (ICStableWrite memory {})))
+    (Post (PrimE TupPrim))
+    (Heartbeat (PrimE TupPrim))
+    (Timer
+      (BlockE
+        (LetD
+          (VarP $r/0)
+          (FuncE
+            $r/0
+            Local
+            Returns
+            (params $e/0)
+            ()
+            (BlockE
+              (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 1))))
+              (PrimE TupPrim)
+            )
+          )
+        )
+        (BlockE
+          (LetD
+            (VarP $u/0)
+            (PrimE (CallPrim ()) (VarE @timer_helper) (PrimE TupPrim))
+          )
+          (IfE
+            (PrimE (CallPrim) (VarE @call_succeeded) (PrimE TupPrim))
+            (BlockE
+              (LetD WildP (VarE $u/0))
+              (BlockE
+                (LetD (VarP $u/1) (PrimE TupPrim))
+                (BlockE
+                  (LetD (VarP $u/2) (PrimE TupPrim))
+                  (BlockE (LetD (VarP $u/3) (PrimE TupPrim)) (PrimE TupPrim))
+                )
+              )
+            )
+            (PrimE
+              (CallPrim)
+              (VarE $r/0)
+              (PrimE (CallPrim) (VarE @call_error) (PrimE TupPrim))
+            )
+          )
+        )
+      )
+    )
+    (Inspect (PrimE TupPrim))
+    (LowMemory (PrimE TupPrim))
+    (StableRecord (NewObjE Memory memory {}))
+    (StableType memory {} memory {})
+  )
+  actor {go : shared <system>() -> replies ()}
+)
+(ActorU
+  (VarD @cycles Nat (LitE (NatLit 0)))
+  (VarD @timeout ?Nat32 (LitE NullLit))
+  (LetD
+    (VarP @add_cycles)
+    (FuncE
+      @add_cycles
+      Local
+      Returns
+      ($ Any)
+      ()
+      (BlockE
+        (LetD (VarP cycles) (VarE! @cycles))
+        (LetD WildP (PrimE (CallPrim) (VarE @reset_cycles) (PrimE TupPrim)))
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE (RelPrim Nat EqOp) (VarE cycles) (LitE (NatLit 0)))
+              (LitE (BoolLit false))
+            )
+            (PrimE SystemCyclesAddPrim (VarE cycles))
+            (PrimE TupPrim)
+          )
+        )
+        (SwitchE
+          (VarE! @timeout)
+          (case
+            (OptP (VarP timeout))
+            (BlockE
+              (LetD WildP (AssignE (VarLE @timeout) (LitE NullLit)))
+              (PrimE SystemTimeoutSetPrim (VarE timeout))
+            )
+          )
+          (case (LitP NullLit) (PrimE TupPrim))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @reset_cycles)
+    (FuncE
+      @reset_cycles
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @cycles) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @immut_array_get)
+    (FuncE
+      @immut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-45.49
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_get)
+    (FuncE
+      @mut_array_get
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      Nat -> A
+      (FuncE
+        @anon-func-46.51
+        Local
+        Returns
+        (params n)
+        A
+        (PrimE IdxPrim (VarE xs) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_size)
+    (FuncE
+      @immut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-47.51 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_size)
+    (FuncE
+      @mut_array_size
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-48.53 Local Returns Nat (PrimE array_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @mut_array_put)
+    (FuncE
+      @mut_array_put
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      (Nat, A) -> ()
+      (FuncE
+        @anon-func-49.57
+        Local
+        Returns
+        (params n x)
+        ()
+        (AssignE (IdxLE (VarE xs) (VarE n)) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_keys)
+    (FuncE
+      @immut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-50.58
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_keys)
+    (FuncE
+      @mut_array_keys
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-55.60
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @immut_array_vals)
+    (FuncE
+      @immut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-60.56
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @mut_array_vals)
+    (FuncE
+      @mut_array_vals
+      Local
+      Returns
+      (A Any)
+      (params xs)
+      () -> @Iter<A>
+      (FuncE
+        @anon-func-67.58
+        Local
+        Returns
+        @Iter<A>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE array_len (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?A
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (PrimE IdxPrim (VarE xs) (VarE j)))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?A})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_size)
+    (FuncE
+      @blob_size
+      Local
+      Returns
+      (params b)
+      () -> Nat
+      (FuncE @anon-func-74.41 Local Returns Nat (PrimE blob_size (VarE b)))
+    )
+  )
+  (LetD
+    (VarP @blob_keys)
+    (FuncE
+      @blob_keys
+      Local
+      Returns
+      (params b)
+      () -> @Iter<Nat>
+      (FuncE
+        @anon-func-75.48
+        Local
+        Returns
+        @Iter<Nat>
+        (BlockE
+          (VarD i Nat (LitE (NatLit 0)))
+          (LetD (VarP l) (PrimE blob_size (VarE b)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat
+              (IfE
+                (PrimE (RelPrim Nat GeOp) (VarE! i) (VarE l))
+                (LitE NullLit)
+                (BlockE
+                  (LetD (VarP j) (VarE! i))
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE OptPrim (VarE j))
+                )
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_get)
+    (FuncE
+      @blob_get
+      Local
+      Returns
+      (params b)
+      Nat -> Nat8
+      (FuncE
+        @anon-func-80.42
+        Local
+        Returns
+        (params n)
+        Nat8
+        (PrimE IdxBlobPrim (VarE b) (VarE n))
+      )
+    )
+  )
+  (LetD
+    (VarP @blob_vals)
+    (FuncE
+      @blob_vals
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Nat8>
+      (FuncE
+        @anon-func-81.50
+        Local
+        Returns
+        @Iter<Nat8>
+        (BlockE
+          (LetD (VarP i) (PrimE blob_vals_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Nat8
+              (IfE
+                (PrimE blob_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE blob_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Nat8})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_size)
+    (FuncE
+      @text_size
+      Local
+      Returns
+      (params xs)
+      () -> Nat
+      (FuncE @anon-func-88.42 Local Returns Nat (PrimE text_len (VarE xs)))
+    )
+  )
+  (LetD
+    (VarP @text_chars)
+    (FuncE
+      @text_chars
+      Local
+      Returns
+      (params xs)
+      () -> @Iter<Char>
+      (FuncE
+        @anon-func-89.51
+        Local
+        Returns
+        @Iter<Char>
+        (BlockE
+          (LetD (VarP i) (PrimE text_iter (VarE xs)))
+          (LetD
+            (VarP next)
+            (FuncE
+              next
+              Local
+              Returns
+              ?Char
+              (IfE
+                (PrimE text_iter_done (VarE i))
+                (LitE NullLit)
+                (PrimE OptPrim (PrimE text_iter_next (VarE i)))
+              )
+            )
+          )
+          (NewObjE Object (next next) {next : () -> ?Char})
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_num)
+    (FuncE
+      @text_of_num
+      Local
+      Returns
+      (params x base sep digits)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit )))
+        (VarD n Nat (VarE x))
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat EqOp) (VarE! n) (LitE (NatLit 0)))
+            (PrimE RetPrim (LitE (TextLit 0)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD
+          WildP
+          (LabelE
+            $done/2
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat GtOp) (VarE! n) (LitE (NatLit 0)))
+                (BlockE
+                  (LetD
+                    (VarP rem)
+                    (PrimE (BinPrim Nat ModOp) (VarE! n) (VarE base))
+                  )
+                  (LetD
+                    WildP
+                    (IfE
+                      (IfE
+                        (PrimE (RelPrim Nat GtOp) (VarE sep) (LitE (NatLit 0)))
+                        (PrimE (RelPrim Nat EqOp) (VarE! i) (VarE sep))
+                        (LitE (BoolLit false))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE text)
+                            (PrimE
+                              (BinPrim Text CatOp)
+                              (LitE (TextLit _))
+                              (VarE! text)
+                            )
+                          )
+                        )
+                        (AssignE (VarLE i) (LitE (NatLit 0)))
+                      )
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE text)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (PrimE (CallPrim) (VarE digits) (VarE rem))
+                        (VarE! text)
+                      )
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE n)
+                      (PrimE (BinPrim Nat DivOp) (VarE! n) (VarE base))
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/2) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (VarE! text)
+      )
+    )
+  )
+  (LetD
+    (VarP @left_pad)
+    (FuncE
+      @left_pad
+      Local
+      Returns
+      (params pad char t)
+      Text
+      (IfE
+        (PrimE (RelPrim Nat GtOp) (VarE pad) (PrimE text_len (VarE t)))
+        (BlockE
+          (VarD
+            i
+            Nat
+            (PrimE (BinPrim Nat SubOp) (VarE pad) (PrimE text_len (VarE t)))
+          )
+          (VarD text Text (VarE t))
+          (LetD
+            WildP
+            (LabelE
+              $done/3
+              ()
+              (LoopE
+                (IfE
+                  (PrimE (RelPrim Nat GtOp) (VarE! i) (LitE (NatLit 0)))
+                  (BlockE
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE text)
+                        (PrimE (BinPrim Text CatOp) (VarE char) (VarE! text))
+                      )
+                    )
+                    (AssignE
+                      (VarLE i)
+                      (PrimE (BinPrim Nat SubOp) (VarE! i) (LitE (NatLit 1)))
+                    )
+                  )
+                  (PrimE (BreakPrim $done/3) (PrimE TupPrim))
+                )
+              )
+            )
+          )
+          (VarE! text)
+        )
+        (VarE t)
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_dec)
+    (FuncE
+      @digits_dec
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE (BinPrim Int AddOp) (VarE x) (LitE (IntLit 48)))
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat)
+    (FuncE
+      @text_of_Nat
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_num)
+        (PrimE
+          TupPrim
+          (VarE x)
+          (LitE (NatLit 10))
+          (LitE (NatLit 3))
+          (VarE @digits_dec)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int)
+    (FuncE
+      @text_of_Int
+      Local
+      Returns
+      (params x)
+      Text
+      (IfE
+        (PrimE (RelPrim Int EqOp) (VarE x) (LitE (IntLit 0)))
+        (LitE (TextLit 0))
+        (PrimE
+          (BinPrim Text CatOp)
+          (IfE
+            (PrimE (RelPrim Int LtOp) (VarE x) (LitE (IntLit 0)))
+            (LitE (TextLit -))
+            (LitE (TextLit +))
+          )
+          (PrimE (CallPrim) (VarE @text_of_Nat) (PrimE abs (VarE x)))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @digits_hex)
+    (FuncE
+      @digits_hex
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        conv_Char_Text
+        (PrimE
+          (NumConvTrapPrim Nat32 Char)
+          (PrimE
+            (NumConvWrapPrim Int Nat32)
+            (PrimE
+              (BinPrim Int AddOp)
+              (VarE x)
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE x) (LitE (NatLit 10)))
+                (LitE (IntLit 48))
+                (LitE (IntLit 55))
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @int64ToInt)
+    (FuncE
+      @int64ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int64 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int32ToInt)
+    (FuncE
+      @int32ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int32 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int16ToInt)
+    (FuncE
+      @int16ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int16 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @int8ToInt)
+    (FuncE
+      @int8ToInt
+      Local
+      Returns
+      (params n)
+      Int
+      (PrimE (NumConvTrapPrim Int8 Int) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat64ToNat)
+    (FuncE
+      @nat64ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat64 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat32ToNat)
+    (FuncE
+      @nat32ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat32 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat16ToNat)
+    (FuncE
+      @nat16ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat16 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @nat8ToNat)
+    (FuncE
+      @nat8ToNat
+      Local
+      Returns
+      (params n)
+      Nat
+      (PrimE (NumConvTrapPrim Nat8 Nat) (VarE n))
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat8)
+    (FuncE
+      @text_of_Nat8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat8ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat16)
+    (FuncE
+      @text_of_Nat16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat16ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat32)
+    (FuncE
+      @text_of_Nat32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat32ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Nat64)
+    (FuncE
+      @text_of_Nat64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Nat)
+        (PrimE (CallPrim) (VarE @nat64ToNat) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int8)
+    (FuncE
+      @text_of_Int8
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int8ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int16)
+    (FuncE
+      @text_of_Int16
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int16ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int32)
+    (FuncE
+      @text_of_Int32
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int32ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Int64)
+    (FuncE
+      @text_of_Int64
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE
+        (CallPrim)
+        (VarE @text_of_Int)
+        (PrimE (CallPrim) (VarE @int64ToInt) (VarE x))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Float)
+    (FuncE
+      @text_of_Float
+      Local
+      Returns
+      (params x)
+      Text
+      (PrimE Float->Text (VarE x))
+    )
+  )
+  (LetD
+    (VarP @text_of_Bool)
+    (FuncE
+      @text_of_Bool
+      Local
+      Returns
+      (params b)
+      Text
+      (IfE (VarE b) (LitE (TextLit true)) (LitE (TextLit false)))
+    )
+  )
+  (LetD
+    (VarP @text_of_Text)
+    (FuncE
+      @text_of_Text
+      Local
+      Returns
+      (params t)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE (BinPrim Text CatOp) (LitE (TextLit ")) (VarE t))
+        (LitE (TextLit "))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Char)
+    (FuncE
+      @text_of_Char
+      Local
+      Returns
+      (params c)
+      Text
+      (PrimE
+        (BinPrim Text CatOp)
+        (PrimE
+          (BinPrim Text CatOp)
+          (LitE (TextLit '))
+          (PrimE conv_Char_Text (VarE c))
+        )
+        (LitE (TextLit '))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_Blob)
+    (FuncE
+      @text_of_Blob
+      Local
+      Returns
+      (params blob)
+      Text
+      (BlockE
+        (VarD t Text (LitE (TextLit ")))
+        (LetD
+          WildP
+          (BlockE
+            (LetD
+              (VarP $nxt/0)
+              (PrimE
+                (DotPrim next)
+                (PrimE
+                  (CallPrim)
+                  (PrimE (CallPrim) (VarE @blob_vals) (VarE blob))
+                  (PrimE TupPrim)
+                )
+              )
+            )
+            (LabelE
+              $done/4
+              ()
+              (LoopE
+                (SwitchE
+                  (PrimE (CallPrim) (VarE $nxt/0) (PrimE TupPrim))
+                  (case
+                    (LitP NullLit)
+                    (PrimE (BreakPrim $done/4) (PrimE TupPrim))
+                  )
+                  (case
+                    (OptP (VarP b))
+                    (AssignE
+                      (VarLE t)
+                      (PrimE
+                        (BinPrim Text CatOp)
+                        (VarE! t)
+                        (PrimE
+                          (BinPrim Text CatOp)
+                          (LitE (TextLit \))
+                          (PrimE
+                            (CallPrim)
+                            (VarE @left_pad)
+                            (PrimE
+                              TupPrim
+                              (LitE (NatLit 2))
+                              (LitE (TextLit 0))
+                              (PrimE
+                                (CallPrim)
+                                (VarE @text_of_num)
+                                (PrimE
+                                  TupPrim
+                                  (PrimE (CallPrim) (VarE @nat8ToNat) (VarE b))
+                                  (LitE (NatLit 16))
+                                  (LitE (NatLit 0))
+                                  (VarE @digits_hex)
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE t)
+            (PrimE (BinPrim Text CatOp) (VarE! t) (LitE (TextLit ")))
+          )
+        )
+        (PrimE RetPrim (VarE! t))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_has_parens)
+    (FuncE
+      @text_has_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case (OptP (LitP (CharLit 40))) (LitE (BoolLit true)))
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_needs_parens)
+    (FuncE
+      @text_needs_parens
+      Local
+      Returns
+      (params t)
+      Bool
+      (SwitchE
+        (PrimE
+          (CallPrim)
+          (PrimE
+            (DotPrim next)
+            (PrimE
+              (CallPrim)
+              (PrimE (CallPrim) (VarE @text_chars) (VarE t))
+              (PrimE TupPrim)
+            )
+          )
+          (PrimE TupPrim)
+        )
+        (case
+          (OptP
+            (AltP
+              (AltP
+                (AltP (LitP (CharLit 43)) (LitP (CharLit 45)))
+                (LitP (CharLit 63))
+              )
+              (LitP (CharLit 35))
+            )
+          )
+          (LitE (BoolLit true))
+        )
+        (case WildP (LitE (BoolLit false)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_option)
+    (FuncE
+      @text_of_option
+      Local
+      Returns
+      (T Any)
+      (params f x)
+      Text
+      (SwitchE
+        (VarE x)
+        (case
+          (OptP (VarP y))
+          (BlockE
+            (LetD (VarP fy) (PrimE (CallPrim) (VarE f) (VarE y)))
+            (IfE
+              (PrimE (CallPrim) (VarE @text_needs_parens) (VarE fy))
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE (BinPrim Text CatOp) (LitE (TextLit ?()) (VarE fy))
+                (LitE (TextLit )))
+              )
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit ?)) (VarE fy))
+            )
+          )
+        )
+        (case (LitP NullLit) (LitE (TextLit null)))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_variant)
+    (FuncE
+      @text_of_variant
+      Local
+      Returns
+      (T Any)
+      (params l f x)
+      Text
+      (BlockE
+        (LetD (VarP fx) (PrimE (CallPrim) (VarE f) (VarE x)))
+        (IfE
+          (PrimE (RelPrim Text EqOp) (VarE fx) (LitE (TextLit ())))
+          (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+          (IfE
+            (PrimE (CallPrim) (VarE @text_has_parens) (VarE fx))
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+              (VarE fx)
+            )
+            (PrimE
+              (BinPrim Text CatOp)
+              (PrimE
+                (BinPrim Text CatOp)
+                (PrimE
+                  (BinPrim Text CatOp)
+                  (PrimE (BinPrim Text CatOp) (LitE (TextLit #)) (VarE l))
+                  (LitE (TextLit ())
+                )
+                (VarE fx)
+              )
+              (LitE (TextLit )))
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array)
+    (FuncE
+      @text_of_array
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/0) (VarE xs))
+            (LetD (VarP $last/0) (PrimE GetLastArrayOffset (VarE $arr/0)))
+            (VarD $indx/0 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/0) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/5
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/0) (VarE! $indx/0))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (AssignE (VarLE first) (LitE (BoolLit false)))
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/0) (VarE $last/0))
+                      (PrimE (BreakPrim $done/5) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/0)
+                        (PrimE NextArrayOffset (VarE! $indx/0))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @text_of_array_mut)
+    (FuncE
+      @text_of_array_mut
+      Local
+      Returns
+      (T Any)
+      (params f xs)
+      Text
+      (BlockE
+        (VarD text Text (LitE (TextLit [var)))
+        (VarD first Bool (LitE (BoolLit true)))
+        (LetD
+          WildP
+          (BlockE
+            (LetD (VarP $arr/1) (VarE xs))
+            (LetD (VarP $last/1) (PrimE GetLastArrayOffset (VarE $arr/1)))
+            (VarD $indx/1 Nat (LitE (NatLit 0)))
+            (IfE
+              (PrimE EqArrayOffset (VarE $last/1) (LitE (IntLit -1)))
+              (PrimE TupPrim)
+              (LabelE
+                $done/6
+                ()
+                (LoopE
+                  (BlockE
+                    (LetD
+                      (VarP x)
+                      (PrimE DerefArrayOffset (VarE $arr/1) (VarE! $indx/1))
+                    )
+                    (LetD
+                      WildP
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (VarE! first)
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE (VarLE first) (LitE (BoolLit false)))
+                              )
+                              (AssignE
+                                (VarLE text)
+                                (PrimE
+                                  (BinPrim Text CatOp)
+                                  (VarE! text)
+                                  (LitE (TextLit  ))
+                                )
+                              )
+                            )
+                            (AssignE
+                              (VarLE text)
+                              (PrimE
+                                (BinPrim Text CatOp)
+                                (VarE! text)
+                                (LitE (TextLit , ))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE text)
+                          (PrimE
+                            (BinPrim Text CatOp)
+                            (VarE! text)
+                            (PrimE (CallPrim) (VarE f) (VarE x))
+                          )
+                        )
+                      )
+                    )
+                    (IfE
+                      (PrimE EqArrayOffset (VarE! $indx/1) (VarE $last/1))
+                      (PrimE (BreakPrim $done/6) (PrimE TupPrim))
+                      (AssignE
+                        (VarLE $indx/1)
+                        (PrimE NextArrayOffset (VarE! $indx/1))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE (BinPrim Text CatOp) (VarE! text) (LitE (TextLit ])))
+      )
+    )
+  )
+  (LetD
+    (VarP @equal_array)
+    (FuncE
+      @equal_array
+      Local
+      Returns
+      (T Any)
+      (params eq a b)
+      Bool
+      (BlockE
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Bool EqOp)
+              (PrimE
+                (RelPrim Nat EqOp)
+                (PrimE array_len (VarE a))
+                (PrimE array_len (VarE b))
+              )
+              (LitE (BoolLit false))
+            )
+            (PrimE RetPrim (LitE (BoolLit false)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarD i Nat (LitE (NatLit 0)))
+        (LetD (VarP s) (PrimE array_len (VarE a)))
+        (LetD
+          WildP
+          (LabelE
+            $done/7
+            ()
+            (LoopE
+              (IfE
+                (PrimE (RelPrim Nat LtOp) (VarE! i) (VarE s))
+                (BlockE
+                  (LetD
+                    WildP
+                    (IfE
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE eq)
+                          (PrimE
+                            TupPrim
+                            (PrimE IdxPrim (VarE a) (VarE! i))
+                            (PrimE IdxPrim (VarE b) (VarE! i))
+                          )
+                        )
+                        (LitE (BoolLit false))
+                      )
+                      (PrimE RetPrim (LitE (BoolLit false)))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (AssignE
+                    (VarLE i)
+                    (PrimE (BinPrim Nat AddOp) (VarE! i) (LitE (NatLit 1)))
+                  )
+                )
+                (PrimE (BreakPrim $done/7) (PrimE TupPrim))
+              )
+            )
+          )
+        )
+        (PrimE RetPrim (LitE (BoolLit true)))
+      )
+    )
+  )
+  (VarD @refund Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @reset_refund)
+    (FuncE
+      @reset_refund
+      Local
+      Returns
+      ()
+      (AssignE (VarLE @refund) (LitE (NatLit 0)))
+    )
+  )
+  (LetD
+    (VarP @getSystemRefund)
+    (FuncE
+      @getSystemRefund
+      Local
+      Returns
+      @Refund
+      (PrimE RetPrim (PrimE SystemCyclesRefundedPrim))
+    )
+  )
+  (LetD (VarP @cleanup) (FuncE @cleanup Local Returns () (PrimE TupPrim)))
+  (LetD
+    (VarP @new_async)
+    (FuncE
+      @new_async
+      Local
+      Returns
+      (T Any)
+      (@Async<T>, @Cont<T>, @Cont<Error>, @CleanCont)
+      (BlockE
+        (LetD
+          (VarP w_null)
+          (FuncE
+            @anon-func-293.16
+            Local
+            Returns
+            (params r t)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP r_null)
+          (FuncE
+            @anon-func-294.16
+            Local
+            Returns
+            (params $ignored0/0)
+            ()
+            (PrimE TupPrim)
+          )
+        )
+        (VarD result ?@Result<T> (LitE NullLit))
+        (VarD ws (@Refund, T) -> () (VarE w_null))
+        (VarD rs Error -> () (VarE r_null))
+        (LetD
+          (VarP getRefund)
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE (RelPrim Nat EqOp) (VarE! @cycles) (LitE (NatLit 0)))
+            (LitE (BoolLit false))
+          )
+        )
+        (LetD
+          (VarP fulfill)
+          (FuncE
+            fulfill
+            Local
+            Returns
+            (params t)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP refund)
+                    (IfE
+                      (VarE getRefund)
+                      (PrimE (CallPrim) (VarE @getSystemRefund) (PrimE TupPrim))
+                      (LitE (NatLit 0))
+                    )
+                  )
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE
+                        OptPrim
+                        (PrimE (TagE ok) (PrimE TupPrim (VarE refund) (VarE t)))
+                      )
+                    )
+                  )
+                  (LetD (VarP ws_) (VarE! ws))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE
+                    (CallPrim)
+                    (VarE ws_)
+                    (PrimE TupPrim (VarE refund) (VarE t))
+                  )
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (LetD
+          (VarP fail)
+          (FuncE
+            fail
+            Local
+            Returns
+            (params e)
+            ()
+            (SwitchE
+              (VarE! result)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    WildP
+                    (AssignE
+                      (VarLE result)
+                      (PrimE OptPrim (PrimE (TagE error) (VarE e)))
+                    )
+                  )
+                  (LetD (VarP rs_) (VarE! rs))
+                  (LetD WildP (AssignE (VarLE ws) (VarE w_null)))
+                  (LetD WildP (AssignE (VarLE rs) (VarE r_null)))
+                  (PrimE (CallPrim) (VarE rs_) (VarE e))
+                )
+              )
+              (case (OptP WildP) (PrimE AssertPrim (LitE (BoolLit false))))
+            )
+          )
+        )
+        (VarD cleanup () -> () (VarE @cleanup))
+        (LetD
+          (VarP enqueue)
+          (FuncE
+            enqueue
+            Local
+            Returns
+            (params k r b)
+            {#schedule : () -> (); #suspend}
+            (BlockE
+              (LetD WildP (AssignE (VarLE cleanup) (VarE b)))
+              (SwitchE
+                (VarE! result)
+                (case
+                  (LitP NullLit)
+                  (BlockE
+                    (LetD (VarP ws_) (VarE! ws))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE ws)
+                        (FuncE
+                          @anon-func-337.15
+                          Local
+                          Returns
+                          (params r t)
+                          ()
+                          (BlockE
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE ws_)
+                                (PrimE TupPrim (VarE r) (VarE t))
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                            (PrimE (CallPrim) (VarE k) (VarE t))
+                          )
+                        )
+                      )
+                    )
+                    (LetD (VarP rs_) (VarE! rs))
+                    (LetD
+                      WildP
+                      (AssignE
+                        (VarLE rs)
+                        (FuncE
+                          @anon-func-344.15
+                          Local
+                          Returns
+                          (params e)
+                          ()
+                          (BlockE
+                            (LetD WildP (PrimE (CallPrim) (VarE rs_) (VarE e)))
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_cycles)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (LetD
+                              WildP
+                              (PrimE
+                                (CallPrim)
+                                (VarE @reset_refund)
+                                (PrimE TupPrim)
+                              )
+                            )
+                            (PrimE (CallPrim) (VarE r) (VarE e))
+                          )
+                        )
+                      )
+                    )
+                    (PrimE (TagE suspend) (PrimE TupPrim))
+                  )
+                )
+                (case
+                  (OptP (TagP ok (TupP (VarP r) (VarP t))))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-353.19
+                      Local
+                      Returns
+                      ()
+                      (BlockE
+                        (LetD WildP (AssignE (VarLE @refund) (VarE r)))
+                        (PrimE (CallPrim) (VarE k) (VarE t))
+                      )
+                    )
+                  )
+                )
+                (case
+                  (OptP (TagP error (VarP e)))
+                  (PrimE
+                    (TagE schedule)
+                    (FuncE
+                      @anon-func-356.19
+                      Local
+                      Returns
+                      ()
+                      (PrimE (CallPrim) (VarE r) (VarE e))
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (VarE enqueue)
+          (VarE fulfill)
+          (VarE fail)
+          (FuncE
+            @anon-func-361.28
+            Local
+            Returns
+            ()
+            (PrimE (CallPrim) (VarE! cleanup) (PrimE TupPrim))
+          )
+        )
+      )
+    )
+  )
+  (LetD (VarP @ManagementCanister) (NewObjE Module module {}))
+  (LetD
+    (VarP @ic00)
+    (PrimE
+      (ActorOfIdBlob
+        actor {create_canister : shared <system>{sender_canister_version : ?Nat64; settings : ?canister_settings} -> replies {canister_id : Principal}; install_code : shared <system>{arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module} -> replies ()}
+      )
+      (PrimE BlobOfIcUrl (LitE (TextLit aaaaa-aa)))
+    )
+  )
+  (LetD
+    (VarP @install_actor_helper)
+    (FuncE
+      @install_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params install_arg enhanced_orthogonal_persistence wasm_module arg)
+      (Principal -> (), Error -> (), () -> ()) -> ()
+      (FuncE
+        $lambda
+        Local
+        Returns
+        (params $v/34 $e/2 $c/0)
+        ()
+        (PrimE
+          (CallPrim $)
+          (FuncE
+            $lambda
+            Local
+            Returns
+            ($@anon-async*-416.24 Any)
+            (params $k/0 $r/1 $b/0)
+            ()
+            (DeclareE
+              $mode/1
+              (DeclareE
+                $canister_id/0
+                (BlockE
+                  (LetD
+                    (VarP $k/2)
+                    (FuncE
+                      $k/2
+                      Local
+                      Returns
+                      (params $param0/0 $param1/0)
+                      ()
+                      (BlockE
+                        (LetD
+                          (VarP $v/4)
+                          (PrimE TupPrim (VarE $param0/0) (VarE $param1/0))
+                        )
+                        (BlockE
+                          (LetD (TupP (VarP $v/2) (VarP $v/3)) (VarE $v/4))
+                          (LetD WildP (DefineE $mode/1 Const (VarE $v/2)))
+                          (LetD
+                            WildP
+                            (DefineE $canister_id/0 Const (VarE $v/3))
+                          )
+                          (BlockE
+                            (LetD (VarP $u/4) (PrimE TupPrim))
+                            (BlockE
+                              (LetD
+                                (VarP $k/1)
+                                (FuncE
+                                  $k/1
+                                  Local
+                                  Returns
+                                  ()
+                                  (BlockE
+                                    (LetD (VarP $v/5) (PrimE TupPrim))
+                                    (BlockE
+                                      (LetD WildP (VarE $v/5))
+                                      (BlockE
+                                        (LetD (VarP $u/5) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD (VarP $u/6) (PrimE TupPrim))
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE $k/0)
+                                            (PrimE
+                                              RetPrim
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE $k/0)
+                                                (VarE $canister_id/0)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP $v/6)
+                                  (PrimE
+                                    (ActorDotPrim install_code)
+                                    (VarE @ic00)
+                                  )
+                                )
+                                (BlockE
+                                  (LetD
+                                    (VarP $u/7)
+                                    (BlockE
+                                      (LetD
+                                        (TupP
+                                          (VarP $async/3)
+                                          (VarP $reply/1)
+                                          (VarP $reject/1)
+                                          (VarP $cleanup/1)
+                                        )
+                                        (BlockE
+                                          (LetD
+                                            (TupP
+                                              (VarP $async/2)
+                                              (VarP $fulfill/1)
+                                              (VarP $fail/1)
+                                              (VarP $clean/1)
+                                            )
+                                            (PrimE
+                                              (CallPrim ())
+                                              (VarE @new_async)
+                                              (PrimE TupPrim)
+                                            )
+                                          )
+                                          (PrimE
+                                            TupPrim
+                                            (FuncE
+                                              $lambda
+                                              Local
+                                              Returns
+                                              (params $k/13 $r/9 $b/7)
+                                              {#schedule : () -> (); #suspend}
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE $async/2)
+                                                (PrimE
+                                                  TupPrim
+                                                  (FuncE
+                                                    $lambda
+                                                    Local
+                                                    Returns
+                                                    (params $v/37)
+                                                    ()
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE $k/13)
+                                                      (VarE $v/37)
+                                                    )
+                                                  )
+                                                  (VarE $r/9)
+                                                  (VarE $b/7)
+                                                )
+                                              )
+                                            )
+                                            (FuncE
+                                              $lambda
+                                              Local
+                                              Returns
+                                              ()
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE $fulfill/1)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                            (VarE $fail/1)
+                                            (VarE $clean/1)
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        (VarP $x/2)
+                                        (BlockE
+                                          (LetD
+                                            (VarP $$sender_canister_version/0/0)
+                                            (PrimE
+                                              OptPrim
+                                              (PrimE canister_version)
+                                            )
+                                          )
+                                          (NewObjE
+                                            Object
+                                            (sender_canister_version
+                                              $$sender_canister_version/0/0
+                                            )
+                                            (arg arg)
+                                            (wasm_module wasm_module)
+                                            (canister_id $canister_id/0)
+                                            (mode $mode/1)
+                                            {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                                          )
+                                        )
+                                      )
+                                      (LetD
+                                        WildP
+                                        (PrimE
+                                          ICCallPrim
+                                          (VarE $v/6)
+                                          (VarE $x/2)
+                                          (VarE $reply/1)
+                                          (VarE $reject/1)
+                                          (VarE $cleanup/1)
+                                        )
+                                      )
+                                      (VarE $async/3)
+                                    )
+                                  )
+                                  (IfE
+                                    (PrimE
+                                      (CallPrim)
+                                      (VarE @call_succeeded)
+                                      (PrimE TupPrim)
+                                    )
+                                    (BlockE
+                                      (LetD
+                                        (VarP $v/36)
+                                        (PrimE
+                                          TupPrim
+                                          (VarE $k/1)
+                                          (VarE $r/1)
+                                          (VarE $b/0)
+                                        )
+                                      )
+                                      (SwitchE
+                                        (PrimE
+                                          (CallPrim)
+                                          (VarE $u/7)
+                                          (VarE $v/36)
+                                        )
+                                        (case
+                                          (TagP suspend WildP)
+                                          (PrimE TupPrim)
+                                        )
+                                        (case
+                                          (TagP schedule (VarP $schedule/1))
+                                          (BlockE
+                                            (LetD
+                                              (VarP $call/1)
+                                              (SelfCallE
+                                                ()
+                                                (PrimE
+                                                  (ICReplyPrim)
+                                                  (PrimE TupPrim)
+                                                )
+                                                (VarE $schedule/1)
+                                                (PrimE
+                                                  (ProjPrim 1)
+                                                  (VarE $v/36)
+                                                )
+                                                (FuncE
+                                                  $lambda
+                                                  Local
+                                                  Returns
+                                                  ()
+                                                  (PrimE
+                                                    (CallPrim)
+                                                    (PrimE
+                                                      (ProjPrim 2)
+                                                      (VarE $v/36)
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (IfE
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE @call_succeeded)
+                                                (PrimE TupPrim)
+                                              )
+                                              (VarE $call/1)
+                                              (PrimE
+                                                (CallPrim)
+                                                (PrimE
+                                                  (ProjPrim 1)
+                                                  (VarE $v/36)
+                                                )
+                                                (PrimE
+                                                  (CallPrim)
+                                                  (VarE @call_error)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                    (PrimE
+                                      (CallPrim)
+                                      (VarE $r/1)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE @call_error)
+                                        (PrimE TupPrim)
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (SwitchE
+                    (VarE install_arg)
+                    (case
+                      (TagP new (VarP $settings/2))
+                      (DeclareE
+                        $available/0
+                        (DeclareE
+                          $accepted/0
+                          (DeclareE
+                            $sender_canister_version/2
+                            (DeclareE
+                              $canister_id/1
+                              (BlockE
+                                (LetD
+                                  (VarP $v/7)
+                                  (PrimE SystemCyclesAvailablePrim)
+                                )
+                                (LetD
+                                  WildP
+                                  (DefineE $available/0 Const (VarE $v/7))
+                                )
+                                (BlockE
+                                  (LetD (VarP $u/8) (PrimE TupPrim))
+                                  (BlockE
+                                    (LetD
+                                      (VarP $v/8)
+                                      (PrimE
+                                        SystemCyclesAcceptPrim
+                                        (VarE $available/0)
+                                      )
+                                    )
+                                    (LetD
+                                      WildP
+                                      (DefineE $accepted/0 Const (VarE $v/8))
+                                    )
+                                    (BlockE
+                                      (LetD (VarP $u/9) (PrimE TupPrim))
+                                      (BlockE
+                                        (LetD
+                                          (VarP $v/9)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE canister_version)
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (DefineE
+                                            $sender_canister_version/2
+                                            Const
+                                            (VarE $v/9)
+                                          )
+                                        )
+                                        (BlockE
+                                          (LetD (VarP $u/10) (PrimE TupPrim))
+                                          (BlockE
+                                            (LetD
+                                              WildP
+                                              (AssignE
+                                                (VarLE @cycles)
+                                                (PrimE
+                                                  (BinPrim Nat AddOp)
+                                                  (VarE! @cycles)
+                                                  (VarE $accepted/0)
+                                                )
+                                              )
+                                            )
+                                            (BlockE
+                                              (LetD
+                                                (VarP $u/11)
+                                                (PrimE TupPrim)
+                                              )
+                                              (BlockE
+                                                (LetD
+                                                  (VarP $k/3)
+                                                  (FuncE
+                                                    $k/3
+                                                    Local
+                                                    Returns
+                                                    (params $v/11)
+                                                    ()
+                                                    (BlockE
+                                                      (LetD
+                                                        (ObjP
+                                                          (canister_id
+                                                            (VarP $v/10)
+                                                          )
+                                                        )
+                                                        (VarE $v/11)
+                                                      )
+                                                      (LetD
+                                                        WildP
+                                                        (DefineE
+                                                          $canister_id/1
+                                                          Const
+                                                          (VarE $v/10)
+                                                        )
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $u/12)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $u/13)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $k/2)
+                                                            (PrimE
+                                                              TupPrim
+                                                              (PrimE
+                                                                (TagE install)
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (VarE
+                                                                $canister_id/1
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $v/12)
+                                                    (PrimE
+                                                      (ActorDotPrim
+                                                        create_canister
+                                                      )
+                                                      (VarE @ic00)
+                                                    )
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $u/14)
+                                                      (BlockE
+                                                        (LetD
+                                                          (TupP
+                                                            (VarP $async/1)
+                                                            (VarP $reply/0)
+                                                            (VarP $reject/0)
+                                                            (VarP $cleanup/0)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              (TupP
+                                                                (VarP $async/0)
+                                                                (VarP
+                                                                  $fulfill/0
+                                                                )
+                                                                (VarP $fail/0)
+                                                                (VarP $clean/0)
+                                                              )
+                                                              (PrimE
+                                                                (CallPrim
+                                                                  {canister_id : Principal}
+                                                                )
+                                                                (VarE
+                                                                  @new_async
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                            )
+                                                            (PrimE
+                                                              TupPrim
+                                                              (VarE $async/0)
+                                                              (FuncE
+                                                                $lambda
+                                                                Local
+                                                                Returns
+                                                                (params $rep0/0)
+                                                                ()
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (VarE
+                                                                    $fulfill/0
+                                                                  )
+                                                                  (VarE $rep0/0)
+                                                                )
+                                                              )
+                                                              (VarE $fail/0)
+                                                              (VarE $clean/0)
+                                                            )
+                                                          )
+                                                        )
+                                                        (LetD
+                                                          (VarP $x/1)
+                                                          (BlockE
+                                                            (LetD
+                                                              (VarP $$base/0/0)
+                                                              (VarE $settings/2)
+                                                            )
+                                                            (LetD
+                                                              (VarP
+                                                                $$settings/0/0
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim
+                                                                  settings
+                                                                )
+                                                                (VarE
+                                                                  $$base/0/0
+                                                                )
+                                                              )
+                                                            )
+                                                            (NewObjE
+                                                              Object
+                                                              (settings
+                                                                $$settings/0/0
+                                                              )
+                                                              (sender_canister_version
+                                                                $sender_canister_version/2
+                                                              )
+                                                              {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                                                            )
+                                                          )
+                                                        )
+                                                        (LetD
+                                                          WildP
+                                                          (PrimE
+                                                            ICCallPrim
+                                                            (VarE $v/12)
+                                                            (VarE $x/1)
+                                                            (VarE $reply/0)
+                                                            (VarE $reject/0)
+                                                            (VarE $cleanup/0)
+                                                          )
+                                                        )
+                                                        (VarE $async/1)
+                                                      )
+                                                    )
+                                                    (IfE
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE @call_succeeded)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $v/35)
+                                                          (PrimE
+                                                            TupPrim
+                                                            (VarE $k/3)
+                                                            (VarE $r/1)
+                                                            (VarE $b/0)
+                                                          )
+                                                        )
+                                                        (SwitchE
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $u/14)
+                                                            (VarE $v/35)
+                                                          )
+                                                          (case
+                                                            (TagP suspend WildP)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (case
+                                                            (TagP
+                                                              schedule
+                                                              (VarP $schedule/0)
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                (VarP $call/0)
+                                                                (SelfCallE
+                                                                  ()
+                                                                  (PrimE
+                                                                    (ICReplyPrim
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                  (VarE
+                                                                    $schedule/0
+                                                                  )
+                                                                  (PrimE
+                                                                    (ProjPrim 1)
+                                                                    (VarE $v/35)
+                                                                  )
+                                                                  (FuncE
+                                                                    $lambda
+                                                                    Local
+                                                                    Returns
+                                                                    ()
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (PrimE
+                                                                        (ProjPrim
+                                                                          2
+                                                                        )
+                                                                        (VarE
+                                                                          $v/35
+                                                                        )
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                              (IfE
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (VarE
+                                                                    @call_succeeded
+                                                                  )
+                                                                  (PrimE
+                                                                    TupPrim
+                                                                  )
+                                                                )
+                                                                (VarE $call/0)
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (PrimE
+                                                                    (ProjPrim 1)
+                                                                    (VarE $v/35)
+                                                                  )
+                                                                  (PrimE
+                                                                    (CallPrim)
+                                                                    (VarE
+                                                                      @call_error
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE $r/1)
+                                                        (PrimE
+                                                          (CallPrim)
+                                                          (VarE @call_error)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                    (case
+                      (TagP install (VarP $principal1/0))
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (PrimE
+                          TupPrim
+                          (PrimE (TagE install) (PrimE TupPrim))
+                          (VarE $principal1/0)
+                        )
+                      )
+                    )
+                    (case
+                      (TagP reinstall (VarP $actor1/0))
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (PrimE
+                          TupPrim
+                          (PrimE (TagE reinstall) (PrimE TupPrim))
+                          (PrimE principalOfActor (VarE $actor1/0))
+                        )
+                      )
+                    )
+                    (case
+                      (TagP upgrade (VarP $actor2/0))
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (BlockE
+                          (LetD
+                            (VarP $wasm_memory_persistence/1)
+                            (IfE
+                              (VarE enhanced_orthogonal_persistence)
+                              (PrimE
+                                OptPrim
+                                (PrimE (TagE keep) (PrimE TupPrim))
+                              )
+                              (LitE NullLit)
+                            )
+                          )
+                          (LetD
+                            (VarP $upgradeOptions/0)
+                            (NewObjE
+                              Object
+                              (wasm_memory_persistence
+                                $wasm_memory_persistence/1
+                              )
+                              {wasm_memory_persistence : ?{#keep}}
+                            )
+                          )
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (TagE upgrade)
+                              (PrimE OptPrim (VarE $upgradeOptions/0))
+                            )
+                            (PrimE principalOfActor (VarE $actor2/0))
+                          )
+                        )
+                      )
+                    )
+                    (case
+                      (TagP
+                        upgrade_with_persistence
+                        (ObjP
+                          (wasm_memory_persistence
+                            (VarP $wasm_memory_persistence/2)
+                          )
+                          (canister (VarP $canister/0))
+                        )
+                      )
+                      (PrimE
+                        (CallPrim)
+                        (VarE $k/2)
+                        (BlockE
+                          (LetD
+                            (VarP $upgradeOptions/1)
+                            (BlockE
+                              (LetD
+                                (VarP $$wasm_memory_persistence/0/0)
+                                (PrimE
+                                  OptPrim
+                                  (VarE $wasm_memory_persistence/2)
+                                )
+                              )
+                              (NewObjE
+                                Object
+                                (wasm_memory_persistence
+                                  $$wasm_memory_persistence/0/0
+                                )
+                                {wasm_memory_persistence : ?{#keep; #replace}}
+                              )
+                            )
+                          )
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (TagE upgrade)
+                              (PrimE OptPrim (VarE $upgradeOptions/1))
+                            )
+                            (PrimE principalOfActor (VarE $canister/0))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+          (PrimE TupPrim (VarE $v/34) (VarE $e/2) (VarE $c/0))
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @create_actor_helper)
+    (FuncE
+      @create_actor_helper
+      Local
+      Returns
+      ($ Any)
+      (params wasm_module arg)
+      (Principal -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}
+      (BlockE
+        (LetD
+          (TupP
+            (VarP $async/5)
+            (VarP $reply/2)
+            (VarP $reject/2)
+            (VarP $cleanup/2)
+          )
+          (BlockE
+            (LetD
+              (TupP
+                (VarP $async/4)
+                (VarP $fulfill/2)
+                (VarP $fail/2)
+                (VarP $clean/2)
+              )
+              (PrimE (CallPrim Principal) (VarE @new_async) (PrimE TupPrim))
+            )
+            (PrimE
+              TupPrim
+              (VarE $async/4)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                (params $rep0/1)
+                ()
+                (PrimE (CallPrim) (VarE $fulfill/2) (VarE $rep0/1))
+              )
+              (VarE $fail/2)
+              (VarE $clean/2)
+            )
+          )
+        )
+        (LetD
+          WildP
+          (SelfCallE
+            Principal
+            (PrimE
+              (CallPrim $)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ($@anon-async-464.79 Any)
+                (params $k/4 $r/2 $b/1)
+                ()
+                (DeclareE
+                  $available/1
+                  (DeclareE
+                    $accepted/1
+                    (DeclareE
+                      $sender_canister_version/3
+                      (DeclareE
+                        $canister_id/2
+                        (BlockE
+                          (LetD (VarP $v/13) (PrimE SystemCyclesAvailablePrim))
+                          (LetD WildP (DefineE $available/1 Const (VarE $v/13)))
+                          (BlockE
+                            (LetD (VarP $u/15) (PrimE TupPrim))
+                            (BlockE
+                              (LetD
+                                (VarP $v/14)
+                                (PrimE
+                                  SystemCyclesAcceptPrim
+                                  (VarE $available/1)
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (DefineE $accepted/1 Const (VarE $v/14))
+                              )
+                              (BlockE
+                                (LetD (VarP $u/16) (PrimE TupPrim))
+                                (BlockE
+                                  (LetD
+                                    (VarP $v/15)
+                                    (PrimE OptPrim (PrimE canister_version))
+                                  )
+                                  (LetD
+                                    WildP
+                                    (DefineE
+                                      $sender_canister_version/3
+                                      Const
+                                      (VarE $v/15)
+                                    )
+                                  )
+                                  (BlockE
+                                    (LetD (VarP $u/17) (PrimE TupPrim))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (VarLE @cycles)
+                                          (PrimE
+                                            (BinPrim Nat AddOp)
+                                            (VarE! @cycles)
+                                            (VarE $accepted/1)
+                                          )
+                                        )
+                                      )
+                                      (BlockE
+                                        (LetD (VarP $u/18) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD
+                                            (VarP $k/6)
+                                            (FuncE
+                                              $k/6
+                                              Local
+                                              Returns
+                                              (params $v/17)
+                                              ()
+                                              (BlockE
+                                                (LetD
+                                                  (ObjP
+                                                    (canister_id (VarP $v/16))
+                                                  )
+                                                  (VarE $v/17)
+                                                )
+                                                (LetD
+                                                  WildP
+                                                  (DefineE
+                                                    $canister_id/2
+                                                    Const
+                                                    (VarE $v/16)
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $u/19)
+                                                    (PrimE TupPrim)
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      (VarP $k/5)
+                                                      (FuncE
+                                                        $k/5
+                                                        Local
+                                                        Returns
+                                                        ()
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $v/18)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              WildP
+                                                              (VarE $v/18)
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                (VarP $u/20)
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (BlockE
+                                                                (LetD
+                                                                  (VarP $u/21)
+                                                                  (PrimE
+                                                                    TupPrim
+                                                                  )
+                                                                )
+                                                                (PrimE
+                                                                  (CallPrim)
+                                                                  (VarE $k/4)
+                                                                  (PrimE
+                                                                    RetPrim
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        $k/4
+                                                                      )
+                                                                      (VarE
+                                                                        $canister_id/2
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        (VarP $v/19)
+                                                        (PrimE
+                                                          (ActorDotPrim
+                                                            install_code
+                                                          )
+                                                          (VarE @ic00)
+                                                        )
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $u/22)
+                                                          (BlockE
+                                                            (LetD
+                                                              (TupP
+                                                                (VarP $async/9)
+                                                                (VarP $reply/4)
+                                                                (VarP $reject/4)
+                                                                (VarP
+                                                                  $cleanup/4
+                                                                )
+                                                              )
+                                                              (BlockE
+                                                                (LetD
+                                                                  (TupP
+                                                                    (VarP
+                                                                      $async/8
+                                                                    )
+                                                                    (VarP
+                                                                      $fulfill/4
+                                                                    )
+                                                                    (VarP
+                                                                      $fail/4
+                                                                    )
+                                                                    (VarP
+                                                                      $clean/4
+                                                                    )
+                                                                  )
+                                                                  (PrimE
+                                                                    (CallPrim
+                                                                      ()
+                                                                    )
+                                                                    (VarE
+                                                                      @new_async
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (PrimE
+                                                                  TupPrim
+                                                                  (FuncE
+                                                                    $lambda
+                                                                    Local
+                                                                    Returns
+                                                                    (params
+                                                                      $k/14
+                                                                      $r/10
+                                                                      $b/8
+                                                                    )
+                                                                    {#schedule : () -> (); #suspend}
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        $async/8
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                        (FuncE
+                                                                          $lambda
+                                                                          Local
+                                                                          Returns
+                                                                          (params
+                                                                            $v/41
+                                                                          )
+                                                                          ()
+                                                                          (PrimE
+                                                                            (CallPrim
+                                                                            )
+                                                                            (VarE
+                                                                              $k/14
+                                                                            )
+                                                                            (VarE
+                                                                              $v/41
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                        (VarE
+                                                                          $r/10
+                                                                        )
+                                                                        (VarE
+                                                                          $b/8
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (FuncE
+                                                                    $lambda
+                                                                    Local
+                                                                    Returns
+                                                                    ()
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        $fulfill/4
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (VarE $fail/4)
+                                                                  (VarE
+                                                                    $clean/4
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                            (LetD
+                                                              (VarP $x/4)
+                                                              (BlockE
+                                                                (LetD
+                                                                  (VarP
+                                                                    $$mode/0/0
+                                                                  )
+                                                                  (PrimE
+                                                                    (TagE
+                                                                      install
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (LetD
+                                                                  (VarP
+                                                                    $$sender_canister_version/1/0
+                                                                  )
+                                                                  (PrimE
+                                                                    OptPrim
+                                                                    (PrimE
+                                                                      canister_version
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (NewObjE
+                                                                  Object
+                                                                  (sender_canister_version
+                                                                    $$sender_canister_version/1/0
+                                                                  )
+                                                                  (arg arg)
+                                                                  (wasm_module
+                                                                    wasm_module
+                                                                  )
+                                                                  (canister_id
+                                                                    $canister_id/2
+                                                                  )
+                                                                  (mode
+                                                                    $$mode/0/0
+                                                                  )
+                                                                  {arg : Blob; canister_id : Principal; mode : {#install; #reinstall; #upgrade : ?@UpgradeOptions}; sender_canister_version : ?Nat64; wasm_module : wasm_module}
+                                                                )
+                                                              )
+                                                            )
+                                                            (LetD
+                                                              WildP
+                                                              (PrimE
+                                                                ICCallPrim
+                                                                (VarE $v/19)
+                                                                (VarE $x/4)
+                                                                (VarE $reply/4)
+                                                                (VarE $reject/4)
+                                                                (VarE
+                                                                  $cleanup/4
+                                                                )
+                                                              )
+                                                            )
+                                                            (VarE $async/9)
+                                                          )
+                                                        )
+                                                        (IfE
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE
+                                                              @call_succeeded
+                                                            )
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              (VarP $v/40)
+                                                              (PrimE
+                                                                TupPrim
+                                                                (VarE $k/5)
+                                                                (VarE $r/2)
+                                                                (VarE $b/1)
+                                                              )
+                                                            )
+                                                            (SwitchE
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (VarE $u/22)
+                                                                (VarE $v/40)
+                                                              )
+                                                              (case
+                                                                (TagP
+                                                                  suspend
+                                                                  WildP
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (case
+                                                                (TagP
+                                                                  schedule
+                                                                  (VarP
+                                                                    $schedule/3
+                                                                  )
+                                                                )
+                                                                (BlockE
+                                                                  (LetD
+                                                                    (VarP
+                                                                      $call/3
+                                                                    )
+                                                                    (SelfCallE
+                                                                      ()
+                                                                      (PrimE
+                                                                        (ICReplyPrim
+                                                                        )
+                                                                        (PrimE
+                                                                          TupPrim
+                                                                        )
+                                                                      )
+                                                                      (VarE
+                                                                        $schedule/3
+                                                                      )
+                                                                      (PrimE
+                                                                        (ProjPrim
+                                                                          1
+                                                                        )
+                                                                        (VarE
+                                                                          $v/40
+                                                                        )
+                                                                      )
+                                                                      (FuncE
+                                                                        $lambda
+                                                                        Local
+                                                                        Returns
+                                                                        ()
+                                                                        (PrimE
+                                                                          (CallPrim
+                                                                          )
+                                                                          (PrimE
+                                                                            (ProjPrim
+                                                                              2
+                                                                            )
+                                                                            (VarE
+                                                                              $v/40
+                                                                            )
+                                                                          )
+                                                                          (PrimE
+                                                                            TupPrim
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (IfE
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (VarE
+                                                                        @call_succeeded
+                                                                      )
+                                                                      (PrimE
+                                                                        TupPrim
+                                                                      )
+                                                                    )
+                                                                    (VarE
+                                                                      $call/3
+                                                                    )
+                                                                    (PrimE
+                                                                      (CallPrim)
+                                                                      (PrimE
+                                                                        (ProjPrim
+                                                                          1
+                                                                        )
+                                                                        (VarE
+                                                                          $v/40
+                                                                        )
+                                                                      )
+                                                                      (PrimE
+                                                                        (CallPrim
+                                                                        )
+                                                                        (VarE
+                                                                          @call_error
+                                                                        )
+                                                                        (PrimE
+                                                                          TupPrim
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $r/2)
+                                                            (PrimE
+                                                              (CallPrim)
+                                                              (VarE @call_error)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                          (BlockE
+                                            (LetD
+                                              (VarP $v/20)
+                                              (PrimE
+                                                (ActorDotPrim create_canister)
+                                                (VarE @ic00)
+                                              )
+                                            )
+                                            (BlockE
+                                              (LetD
+                                                (VarP $u/23)
+                                                (BlockE
+                                                  (LetD
+                                                    (TupP
+                                                      (VarP $async/7)
+                                                      (VarP $reply/3)
+                                                      (VarP $reject/3)
+                                                      (VarP $cleanup/3)
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        (TupP
+                                                          (VarP $async/6)
+                                                          (VarP $fulfill/3)
+                                                          (VarP $fail/3)
+                                                          (VarP $clean/3)
+                                                        )
+                                                        (PrimE
+                                                          (CallPrim
+                                                            {canister_id : Principal}
+                                                          )
+                                                          (VarE @new_async)
+                                                          (PrimE TupPrim)
+                                                        )
+                                                      )
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE $async/6)
+                                                        (FuncE
+                                                          $lambda
+                                                          Local
+                                                          Returns
+                                                          (params $rep0/2)
+                                                          ()
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE $fulfill/3)
+                                                            (VarE $rep0/2)
+                                                          )
+                                                        )
+                                                        (VarE $fail/3)
+                                                        (VarE $clean/3)
+                                                      )
+                                                    )
+                                                  )
+                                                  (LetD
+                                                    (VarP $x/3)
+                                                    (BlockE
+                                                      (LetD
+                                                        (VarP $$settings/1/0)
+                                                        (LitE NullLit)
+                                                      )
+                                                      (NewObjE
+                                                        Object
+                                                        (sender_canister_version
+                                                          $sender_canister_version/3
+                                                        )
+                                                        (settings
+                                                          $$settings/1/0
+                                                        )
+                                                        {sender_canister_version : ?Nat64; settings : ?canister_settings}
+                                                      )
+                                                    )
+                                                  )
+                                                  (LetD
+                                                    WildP
+                                                    (PrimE
+                                                      ICCallPrim
+                                                      (VarE $v/20)
+                                                      (VarE $x/3)
+                                                      (VarE $reply/3)
+                                                      (VarE $reject/3)
+                                                      (VarE $cleanup/3)
+                                                    )
+                                                  )
+                                                  (VarE $async/7)
+                                                )
+                                              )
+                                              (IfE
+                                                (PrimE
+                                                  (CallPrim)
+                                                  (VarE @call_succeeded)
+                                                  (PrimE TupPrim)
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $v/39)
+                                                    (PrimE
+                                                      TupPrim
+                                                      (VarE $k/6)
+                                                      (VarE $r/2)
+                                                      (VarE $b/1)
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (PrimE
+                                                      (CallPrim)
+                                                      (VarE $u/23)
+                                                      (VarE $v/39)
+                                                    )
+                                                    (case
+                                                      (TagP suspend WildP)
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (TagP
+                                                        schedule
+                                                        (VarP $schedule/2)
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $call/2)
+                                                          (SelfCallE
+                                                            ()
+                                                            (PrimE
+                                                              (ICReplyPrim)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                            (VarE $schedule/2)
+                                                            (PrimE
+                                                              (ProjPrim 1)
+                                                              (VarE $v/39)
+                                                            )
+                                                            (FuncE
+                                                              $lambda
+                                                              Local
+                                                              Returns
+                                                              ()
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (PrimE
+                                                                  (ProjPrim 2)
+                                                                  (VarE $v/39)
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                        (IfE
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE
+                                                              @call_succeeded
+                                                            )
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (VarE $call/2)
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (PrimE
+                                                              (ProjPrim 1)
+                                                              (VarE $v/39)
+                                                            )
+                                                            (PrimE
+                                                              (CallPrim)
+                                                              (VarE @call_error)
+                                                              (PrimE TupPrim)
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                                (PrimE
+                                                  (CallPrim)
+                                                  (VarE $r/2)
+                                                  (PrimE
+                                                    (CallPrim)
+                                                    (VarE @call_error)
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+              (PrimE
+                TupPrim
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $v/38)
+                  ()
+                  (PrimE (ICReplyPrim Principal) (VarE $v/38))
+                )
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $e/3)
+                  ()
+                  (PrimE
+                    ICRejectPrim
+                    (PrimE
+                      (ProjPrim 1)
+                      (PrimE
+                        (CastPrim
+                          Error
+                          ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                        )
+                        (VarE $e/3)
+                      )
+                    )
+                  )
+                )
+                (VarE @cleanup)
+              )
+            )
+            (VarE $reply/2)
+            (VarE $reject/2)
+            (VarE $cleanup/2)
+          )
+        )
+        (VarE $async/5)
+      )
+    )
+  )
+  (LetD
+    (VarP @call_raw)
+    (FuncE
+      @call_raw
+      Local
+      Returns
+      ($ Any)
+      (params p m a)
+      (Blob -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}
+      (BlockE
+        (LetD
+          (TupP
+            (VarP $async/11)
+            (VarP $reply/5)
+            (VarP $reject/5)
+            (VarP $cleanup/5)
+          )
+          (BlockE
+            (LetD
+              (TupP
+                (VarP $async/10)
+                (VarP $fulfill/5)
+                (VarP $fail/5)
+                (VarP $clean/5)
+              )
+              (PrimE (CallPrim Blob) (VarE @new_async) (PrimE TupPrim))
+            )
+            (PrimE
+              TupPrim
+              (VarE $async/10)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                (params $rep0/3)
+                ()
+                (PrimE (CallPrim) (VarE $fulfill/5) (VarE $rep0/3))
+              )
+              (VarE $fail/5)
+              (VarE $clean/5)
+            )
+          )
+        )
+        (LetD
+          WildP
+          (SelfCallE
+            Blob
+            (PrimE
+              (CallPrim $)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ($@call_raw Any)
+                (params $k/7 $r/3 $b/2)
+                ()
+                (DeclareE
+                  $available/2
+                  (BlockE
+                    (LetD (VarP $v/21) (PrimE SystemCyclesAvailablePrim))
+                    (LetD WildP (DefineE $available/2 Const (VarE $v/21)))
+                    (BlockE
+                      (LetD (VarP $u/24) (PrimE TupPrim))
+                      (BlockE
+                        (LetD
+                          WildP
+                          (IfE
+                            (PrimE
+                              (RelPrim Bool EqOp)
+                              (PrimE
+                                (RelPrim Nat EqOp)
+                                (VarE $available/2)
+                                (LitE (NatLit 0))
+                              )
+                              (LitE (BoolLit false))
+                            )
+                            (AssignE
+                              (VarLE @cycles)
+                              (PrimE SystemCyclesAcceptPrim (VarE $available/2))
+                            )
+                            (PrimE TupPrim)
+                          )
+                        )
+                        (BlockE
+                          (LetD (VarP $u/25) (PrimE TupPrim))
+                          (BlockE
+                            (LetD (VarP $u/26) (PrimE TupPrim))
+                            (BlockE
+                              (LetD
+                                (VarP $u/27)
+                                (BlockE
+                                  (LetD
+                                    (TupP
+                                      (VarP $async/13)
+                                      (VarP $reply/6)
+                                      (VarP $reject/6)
+                                      (VarP $cleanup/6)
+                                    )
+                                    (BlockE
+                                      (LetD
+                                        (TupP
+                                          (VarP $async/12)
+                                          (VarP $fulfill/6)
+                                          (VarP $fail/6)
+                                          (VarP $clean/6)
+                                        )
+                                        (PrimE
+                                          (CallPrim Blob)
+                                          (VarE @new_async)
+                                          (PrimE TupPrim)
+                                        )
+                                      )
+                                      (PrimE
+                                        TupPrim
+                                        (VarE $async/12)
+                                        (FuncE
+                                          $lambda
+                                          Local
+                                          Returns
+                                          (params $rep0/4)
+                                          ()
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE $fulfill/6)
+                                            (VarE $rep0/4)
+                                          )
+                                        )
+                                        (VarE $fail/6)
+                                        (VarE $clean/6)
+                                      )
+                                    )
+                                  )
+                                  (LetD
+                                    WildP
+                                    (PrimE
+                                      ICCallRawPrim
+                                      (VarE p)
+                                      (VarE m)
+                                      (VarE a)
+                                      (VarE $reply/6)
+                                      (VarE $reject/6)
+                                      (VarE $cleanup/6)
+                                    )
+                                  )
+                                  (VarE $async/13)
+                                )
+                              )
+                              (IfE
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE @call_succeeded)
+                                  (PrimE TupPrim)
+                                )
+                                (BlockE
+                                  (LetD
+                                    (VarP $v/43)
+                                    (PrimE
+                                      TupPrim
+                                      (VarE $k/7)
+                                      (VarE $r/3)
+                                      (VarE $b/2)
+                                    )
+                                  )
+                                  (SwitchE
+                                    (PrimE (CallPrim) (VarE $u/27) (VarE $v/43))
+                                    (case (TagP suspend WildP) (PrimE TupPrim))
+                                    (case
+                                      (TagP schedule (VarP $schedule/4))
+                                      (BlockE
+                                        (LetD
+                                          (VarP $call/4)
+                                          (SelfCallE
+                                            ()
+                                            (PrimE
+                                              (ICReplyPrim)
+                                              (PrimE TupPrim)
+                                            )
+                                            (VarE $schedule/4)
+                                            (PrimE (ProjPrim 1) (VarE $v/43))
+                                            (FuncE
+                                              $lambda
+                                              Local
+                                              Returns
+                                              ()
+                                              (PrimE
+                                                (CallPrim)
+                                                (PrimE
+                                                  (ProjPrim 2)
+                                                  (VarE $v/43)
+                                                )
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                        (IfE
+                                          (PrimE
+                                            (CallPrim)
+                                            (VarE @call_succeeded)
+                                            (PrimE TupPrim)
+                                          )
+                                          (VarE $call/4)
+                                          (PrimE
+                                            (CallPrim)
+                                            (PrimE (ProjPrim 1) (VarE $v/43))
+                                            (PrimE
+                                              (CallPrim)
+                                              (VarE @call_error)
+                                              (PrimE TupPrim)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE $r/3)
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE @call_error)
+                                    (PrimE TupPrim)
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+              (PrimE
+                TupPrim
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $v/42)
+                  ()
+                  (PrimE (ICReplyPrim Blob) (VarE $v/42))
+                )
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $e/4)
+                  ()
+                  (PrimE
+                    ICRejectPrim
+                    (PrimE
+                      (ProjPrim 1)
+                      (PrimE
+                        (CastPrim
+                          Error
+                          ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                        )
+                        (VarE $e/4)
+                      )
+                    )
+                  )
+                )
+                (VarE @cleanup)
+              )
+            )
+            (VarE $reply/5)
+            (VarE $reject/5)
+            (VarE $cleanup/5)
+          )
+        )
+        (VarE $async/11)
+      )
+    )
+  )
+  (LetD
+    (VarP @call_succeeded)
+    (FuncE
+      @call_succeeded
+      Local
+      Returns
+      Bool
+      (PrimE
+        (RelPrim Nat32 EqOp)
+        (PrimE call_perform_status)
+        (LitE (Nat32Lit 0))
+      )
+    )
+  )
+  (LetD
+    (VarP @call_error)
+    (FuncE
+      @call_error
+      Local
+      Returns
+      Error
+      (BlockE
+        (LetD (VarP status) (PrimE call_perform_status))
+        (LetD (VarP message) (PrimE call_perform_message))
+        (LetD
+          (VarP code)
+          (PrimE
+            (TagE call_error)
+            (NewObjE Object (err_code status) {err_code : Nat32})
+          )
+        )
+        (PrimE
+          (CastPrim ({#call_error : {err_code : Nat32}}, Text) Error)
+          (PrimE TupPrim (VarE code) (VarE message))
+        )
+      )
+    )
+  )
+  (VarD @timers ?@Node (LitE NullLit))
+  (LetD
+    (VarP @prune)
+    (FuncE
+      @prune
+      Local
+      Returns
+      (params $id0/0)
+      ?@Node
+      (BlockE
+        (VarD $temp0/60 ?@Node (VarE $id0/0))
+        (LoopE
+          (LabelE
+            $tailcall/77
+            ()
+            (BlockE
+              (LetD (VarP n) (VarE! $temp0/60))
+              (PrimE
+                RetPrim
+                (SwitchE
+                  (VarE n)
+                  (case (LitP NullLit) (LitE NullLit))
+                  (case
+                    (OptP (VarP n))
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat64 EqOp)
+                        (PrimE
+                          IdxPrim
+                          (PrimE (DotPrim expire) (VarE n))
+                          (LitE (NatLit 0))
+                        )
+                        (LitE (Nat64Lit 0))
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE $temp0/60)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                        (PrimE (BreakPrim $tailcall/77) (PrimE TupPrim))
+                      )
+                      (PrimE
+                        OptPrim
+                        (BlockE
+                          (LetD (VarP $base/1) (VarE n))
+                          (LetD
+                            (VarP $pre/0)
+                            (PrimE
+                              (CallPrim)
+                              (VarE @prune)
+                              (PrimE (DotPrim pre) (VarE n))
+                            )
+                          )
+                          (LetD
+                            (VarP $delay/0)
+                            (PrimE (DotPrim delay) (VarE $base/1))
+                          )
+                          (LetD
+                            (VarP $expire/0)
+                            (PrimE (DotPrim expire) (VarE $base/1))
+                          )
+                          (LetD
+                            (VarP $id/0)
+                            (PrimE (DotPrim id) (VarE $base/1))
+                          )
+                          (LetD
+                            (VarP $job/0)
+                            (PrimE (DotPrim job) (VarE $base/1))
+                          )
+                          (LetD
+                            (VarP $post/0)
+                            (PrimE (DotPrim post) (VarE $base/1))
+                          )
+                          (NewObjE
+                            Object
+                            (post $post/0)
+                            (job $job/0)
+                            (id $id/0)
+                            (expire $expire/0)
+                            (delay $delay/0)
+                            (pre $pre/0)
+                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @nextExpiration)
+    (FuncE
+      @nextExpiration
+      Local
+      Returns
+      (params $id0/1)
+      Nat64
+      (BlockE
+        (VarD $temp0/61 ?@Node (VarE $id0/1))
+        (LoopE
+          (LabelE
+            $tailcall/78
+            ()
+            (BlockE
+              (LetD (VarP n) (VarE! $temp0/61))
+              (PrimE
+                RetPrim
+                (SwitchE
+                  (VarE n)
+                  (case (LitP NullLit) (LitE (Nat64Lit 0)))
+                  (case
+                    (OptP (VarP n))
+                    (BlockE
+                      (LetD
+                        (VarP pivot)
+                        (PrimE
+                          IdxPrim
+                          (PrimE (DotPrim expire) (VarE n))
+                          (LitE (NatLit 0))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (IfE
+                          (PrimE
+                            (RelPrim Nat64 EqOp)
+                            (VarE pivot)
+                            (LitE (Nat64Lit 0))
+                          )
+                          (PrimE
+                            RetPrim
+                            (BlockE
+                              (LetD
+                                WildP
+                                (AssignE
+                                  (VarLE $temp0/61)
+                                  (PrimE (DotPrim post) (VarE n))
+                                )
+                              )
+                              (PrimE (BreakPrim $tailcall/78) (PrimE TupPrim))
+                            )
+                          )
+                          (PrimE TupPrim)
+                        )
+                      )
+                      (LetD
+                        (VarP exp)
+                        (PrimE
+                          (CallPrim)
+                          (VarE @nextExpiration)
+                          (PrimE (DotPrim pre) (VarE n))
+                        )
+                      )
+                      (IfE
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (VarE exp)
+                          (LitE (Nat64Lit 0))
+                        )
+                        (VarE pivot)
+                        (VarE exp)
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @timer_helper)
+    (FuncE
+      @timer_helper
+      Local
+      Returns
+      ($ Any)
+      (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}
+      (BlockE
+        (LetD
+          (TupP
+            (VarP $async/15)
+            (VarP $reply/7)
+            (VarP $reject/7)
+            (VarP $cleanup/7)
+          )
+          (BlockE
+            (LetD
+              (TupP
+                (VarP $async/14)
+                (VarP $fulfill/7)
+                (VarP $fail/7)
+                (VarP $clean/7)
+              )
+              (PrimE (CallPrim ()) (VarE @new_async) (PrimE TupPrim))
+            )
+            (PrimE
+              TupPrim
+              (FuncE
+                $lambda
+                Local
+                Returns
+                (params $k/15 $r/11 $b/9)
+                {#schedule : () -> (); #suspend}
+                (PrimE
+                  (CallPrim)
+                  (VarE $async/14)
+                  (PrimE
+                    TupPrim
+                    (FuncE
+                      $lambda
+                      Local
+                      Returns
+                      (params $v/44)
+                      ()
+                      (PrimE (CallPrim) (VarE $k/15) (VarE $v/44))
+                    )
+                    (VarE $r/11)
+                    (VarE $b/9)
+                  )
+                )
+              )
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ()
+                (PrimE (CallPrim) (VarE $fulfill/7) (PrimE TupPrim))
+              )
+              (VarE $fail/7)
+              (VarE $clean/7)
+            )
+          )
+        )
+        (LetD
+          WildP
+          (SelfCallE
+            ()
+            (PrimE
+              (CallPrim $)
+              (FuncE
+                $lambda
+                Local
+                Returns
+                ($@timer_helper Any)
+                (params $k/8 $r/4 $b/3)
+                ()
+                (DeclareE
+                  $Array_init/0
+                  (DeclareE
+                    $now/0
+                    (DeclareE
+                      $gathered/0
+                      (DeclareE
+                        $thunks/0
+                        (DeclareE
+                          $gatherExpired/0
+                          (DeclareE
+                            $exp/0
+                            (DeclareE
+                              $failed/0
+                              (DeclareE
+                                $reinsert/0
+                                (BlockE
+                                  (LetD
+                                    (VarP $v/22)
+                                    (FuncE
+                                      Array_init
+                                      Local
+                                      Returns
+                                      (T Any)
+                                      (params $len/0 $x/0)
+                                      [var T]
+                                      (PrimE
+                                        Array.init
+                                        (VarE $len/0)
+                                        (VarE $x/0)
+                                      )
+                                    )
+                                  )
+                                  (LetD
+                                    WildP
+                                    (DefineE $Array_init/0 Const (VarE $v/22))
+                                  )
+                                  (BlockE
+                                    (LetD (VarP $u/28) (PrimE TupPrim))
+                                    (BlockE
+                                      (LetD (VarP $v/23) (PrimE SystemTimePrim))
+                                      (LetD
+                                        WildP
+                                        (DefineE $now/0 Const (VarE $v/23))
+                                      )
+                                      (BlockE
+                                        (LetD (VarP $u/29) (PrimE TupPrim))
+                                        (BlockE
+                                          (LetD
+                                            (VarP $u/30)
+                                            (DefineE
+                                              $gathered/0
+                                              Var
+                                              (LitE (NatLit 0))
+                                            )
+                                          )
+                                          (BlockE
+                                            (LetD
+                                              (VarP $v/24)
+                                              (PrimE
+                                                (CallPrim
+                                                  ?(<system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend})
+                                                )
+                                                (VarE $Array_init/0)
+                                                (PrimE
+                                                  TupPrim
+                                                  (LitE (NatLit 10))
+                                                  (LitE NullLit)
+                                                )
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (DefineE
+                                                $thunks/0
+                                                Const
+                                                (VarE $v/24)
+                                              )
+                                            )
+                                            (BlockE
+                                              (LetD
+                                                (VarP $u/31)
+                                                (PrimE TupPrim)
+                                              )
+                                              (BlockE
+                                                (LetD
+                                                  (VarP $v/25)
+                                                  (FuncE
+                                                    gatherExpired
+                                                    Local
+                                                    Returns
+                                                    (params $n/0)
+                                                    ()
+                                                    (SwitchE
+                                                      (VarE $n/0)
+                                                      (case
+                                                        (LitP NullLit)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                      (case
+                                                        (OptP (VarP $n/1))
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $pivot/0)
+                                                            (PrimE
+                                                              IdxPrim
+                                                              (PrimE
+                                                                (DotPrim expire)
+                                                                (VarE $n/1)
+                                                              )
+                                                              (LitE (NatLit 0))
+                                                            )
+                                                          )
+                                                          (LetD
+                                                            WildP
+                                                            (IfE
+                                                              (PrimE
+                                                                (RelPrim
+                                                                  Nat64
+                                                                  GtOp
+                                                                )
+                                                                (VarE $pivot/0)
+                                                                (LitE
+                                                                  (Nat64Lit 0)
+                                                                )
+                                                              )
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (VarE
+                                                                  $gatherExpired/0
+                                                                )
+                                                                (PrimE
+                                                                  (DotPrim pre)
+                                                                  (VarE $n/1)
+                                                                )
+                                                              )
+                                                              (PrimE TupPrim)
+                                                            )
+                                                          )
+                                                          (IfE
+                                                            (IfE
+                                                              (PrimE
+                                                                (RelPrim
+                                                                  Nat64
+                                                                  LeOp
+                                                                )
+                                                                (VarE $pivot/0)
+                                                                (VarE $now/0)
+                                                              )
+                                                              (PrimE
+                                                                (RelPrim
+                                                                  Nat
+                                                                  LtOp
+                                                                )
+                                                                (VarE!
+                                                                  $gathered/0
+                                                                )
+                                                                (PrimE
+                                                                  array_len
+                                                                  (VarE
+                                                                    $thunks/0
+                                                                  )
+                                                                )
+                                                              )
+                                                              (LitE
+                                                                (BoolLit false)
+                                                              )
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                WildP
+                                                                (IfE
+                                                                  (PrimE
+                                                                    (RelPrim
+                                                                      Nat64
+                                                                      GtOp
+                                                                    )
+                                                                    (VarE
+                                                                      $pivot/0
+                                                                    )
+                                                                    (LitE
+                                                                      (Nat64Lit
+                                                                        0
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (BlockE
+                                                                    (LetD
+                                                                      WildP
+                                                                      (AssignE
+                                                                        (IdxLE
+                                                                          (VarE
+                                                                            $thunks/0
+                                                                          )
+                                                                          (VarE!
+                                                                            $gathered/0
+                                                                          )
+                                                                        )
+                                                                        (PrimE
+                                                                          OptPrim
+                                                                          (PrimE
+                                                                            (DotPrim
+                                                                              job
+                                                                            )
+                                                                            (VarE
+                                                                              $n/1
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (LetD
+                                                                      WildP
+                                                                      (SwitchE
+                                                                        (PrimE
+                                                                          (DotPrim
+                                                                            delay
+                                                                          )
+                                                                          (VarE
+                                                                            $n/1
+                                                                          )
+                                                                        )
+                                                                        (case
+                                                                          (AltP
+                                                                            (LitP
+                                                                              NullLit
+                                                                            )
+                                                                            (OptP
+                                                                              (LitP
+                                                                                (Nat64Lit
+                                                                                  0
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                          (AssignE
+                                                                            (IdxLE
+                                                                              (PrimE
+                                                                                (DotPrim
+                                                                                  expire
+                                                                                )
+                                                                                (VarE
+                                                                                  $n/1
+                                                                                )
+                                                                              )
+                                                                              (LitE
+                                                                                (NatLit
+                                                                                  0
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LitE
+                                                                              (Nat64Lit
+                                                                                0
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                        (case
+                                                                          (OptP
+                                                                            (VarP
+                                                                              $delay/9
+                                                                            )
+                                                                          )
+                                                                          (BlockE
+                                                                            (LetD
+                                                                              (VarP
+                                                                                $expire/11
+                                                                              )
+                                                                              (PrimE
+                                                                                (BinPrim
+                                                                                  Nat64
+                                                                                  AddOp
+                                                                                )
+                                                                                (VarE
+                                                                                  $pivot/0
+                                                                                )
+                                                                                (PrimE
+                                                                                  (BinPrim
+                                                                                    Nat64
+                                                                                    MulOp
+                                                                                  )
+                                                                                  (VarE
+                                                                                    $delay/9
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (BinPrim
+                                                                                      Nat64
+                                                                                      AddOp
+                                                                                    )
+                                                                                    (LitE
+                                                                                      (Nat64Lit
+                                                                                        1
+                                                                                      )
+                                                                                    )
+                                                                                    (PrimE
+                                                                                      (BinPrim
+                                                                                        Nat64
+                                                                                        DivOp
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (BinPrim
+                                                                                          Nat64
+                                                                                          SubOp
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $now/0
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $pivot/0
+                                                                                        )
+                                                                                      )
+                                                                                      (VarE
+                                                                                        $delay/9
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LetD
+                                                                              WildP
+                                                                              (AssignE
+                                                                                (IdxLE
+                                                                                  (PrimE
+                                                                                    (DotPrim
+                                                                                      expire
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $n/1
+                                                                                    )
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (NatLit
+                                                                                      0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (LitE
+                                                                                  (Nat64Lit
+                                                                                    0
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LetD
+                                                                              (VarP
+                                                                                $reinsert/1
+                                                                              )
+                                                                              (FuncE
+                                                                                reinsert
+                                                                                Local
+                                                                                Returns
+                                                                                (params
+                                                                                  $m/0
+                                                                                )
+                                                                                @Node
+                                                                                (SwitchE
+                                                                                  (VarE
+                                                                                    $m/0
+                                                                                  )
+                                                                                  (case
+                                                                                    (LitP
+                                                                                      NullLit
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$base/2/0
+                                                                                        )
+                                                                                        (VarE
+                                                                                          $n/1
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$expire/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (ArrayPrim
+                                                                                            Var
+                                                                                            Nat64
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $expire/11
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$pre/1/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$post/1/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$delay/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (DotPrim
+                                                                                            delay
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $$base/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$id/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (DotPrim
+                                                                                            id
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $$base/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$job/1/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (DotPrim
+                                                                                            job
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $$base/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (NewObjE
+                                                                                        Object
+                                                                                        (job
+                                                                                          $$job/1/0
+                                                                                        )
+                                                                                        (id
+                                                                                          $$id/1/0
+                                                                                        )
+                                                                                        (delay
+                                                                                          $$delay/1/0
+                                                                                        )
+                                                                                        (post
+                                                                                          $$post/1/0
+                                                                                        )
+                                                                                        (pre
+                                                                                          $$pre/1/0
+                                                                                        )
+                                                                                        (expire
+                                                                                          $$expire/1/0
+                                                                                        )
+                                                                                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (case
+                                                                                    (OptP
+                                                                                      (VarP
+                                                                                        $m/1
+                                                                                      )
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        WildP
+                                                                                        (PrimE
+                                                                                          AssertPrim
+                                                                                          (PrimE
+                                                                                            (RelPrim
+                                                                                              Bool
+                                                                                              EqOp
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (RelPrim
+                                                                                                Nat64
+                                                                                                EqOp
+                                                                                              )
+                                                                                              (PrimE
+                                                                                                IdxPrim
+                                                                                                (PrimE
+                                                                                                  (DotPrim
+                                                                                                    expire
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $m/1
+                                                                                                  )
+                                                                                                )
+                                                                                                (LitE
+                                                                                                  (NatLit
+                                                                                                    0
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                              (LitE
+                                                                                                (Nat64Lit
+                                                                                                  0
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                            (LitE
+                                                                                              (BoolLit
+                                                                                                false
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (IfE
+                                                                                        (PrimE
+                                                                                          (RelPrim
+                                                                                            Nat64
+                                                                                            LtOp
+                                                                                          )
+                                                                                          (VarE
+                                                                                            $expire/11
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            IdxPrim
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                expire
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $m/1
+                                                                                              )
+                                                                                            )
+                                                                                            (LitE
+                                                                                              (NatLit
+                                                                                                0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                        (BlockE
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$base/4/0
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $m/1
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$pre/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              OptPrim
+                                                                                              (PrimE
+                                                                                                (CallPrim
+                                                                                                )
+                                                                                                (VarE
+                                                                                                  $reinsert/1
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  (DotPrim
+                                                                                                    pre
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $m/1
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$delay/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                delay
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$expire/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                expire
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$id/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                id
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$job/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                job
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$post/3/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                post
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/4/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (NewObjE
+                                                                                            Object
+                                                                                            (post
+                                                                                              $$post/3/0
+                                                                                            )
+                                                                                            (job
+                                                                                              $$job/3/0
+                                                                                            )
+                                                                                            (id
+                                                                                              $$id/3/0
+                                                                                            )
+                                                                                            (expire
+                                                                                              $$expire/3/0
+                                                                                            )
+                                                                                            (delay
+                                                                                              $$delay/3/0
+                                                                                            )
+                                                                                            (pre
+                                                                                              $$pre/3/0
+                                                                                            )
+                                                                                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                          )
+                                                                                        )
+                                                                                        (BlockE
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$base/3/0
+                                                                                            )
+                                                                                            (VarE
+                                                                                              $m/1
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$post/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              OptPrim
+                                                                                              (PrimE
+                                                                                                (CallPrim
+                                                                                                )
+                                                                                                (VarE
+                                                                                                  $reinsert/1
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  (DotPrim
+                                                                                                    post
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $m/1
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$delay/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                delay
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$expire/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                expire
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$id/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                id
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$job/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                job
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $$pre/2/0
+                                                                                            )
+                                                                                            (PrimE
+                                                                                              (DotPrim
+                                                                                                pre
+                                                                                              )
+                                                                                              (VarE
+                                                                                                $$base/3/0
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (NewObjE
+                                                                                            Object
+                                                                                            (pre
+                                                                                              $$pre/2/0
+                                                                                            )
+                                                                                            (job
+                                                                                              $$job/2/0
+                                                                                            )
+                                                                                            (id
+                                                                                              $$id/2/0
+                                                                                            )
+                                                                                            (expire
+                                                                                              $$expire/2/0
+                                                                                            )
+                                                                                            (delay
+                                                                                              $$delay/2/0
+                                                                                            )
+                                                                                            (post
+                                                                                              $$post/2/0
+                                                                                            )
+                                                                                            {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (AssignE
+                                                                              (VarLE
+                                                                                @timers
+                                                                              )
+                                                                              (PrimE
+                                                                                OptPrim
+                                                                                (PrimE
+                                                                                  (CallPrim
+                                                                                  )
+                                                                                  (VarE
+                                                                                    $reinsert/1
+                                                                                  )
+                                                                                  (PrimE
+                                                                                    (CallPrim
+                                                                                    )
+                                                                                    (VarE
+                                                                                      @prune
+                                                                                    )
+                                                                                    (VarE!
+                                                                                      @timers
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (AssignE
+                                                                      (VarLE
+                                                                        $gathered/0
+                                                                      )
+                                                                      (PrimE
+                                                                        (BinPrim
+                                                                          Nat
+                                                                          AddOp
+                                                                        )
+                                                                        (VarE!
+                                                                          $gathered/0
+                                                                        )
+                                                                        (LitE
+                                                                          (NatLit
+                                                                            1
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                  (PrimE
+                                                                    TupPrim
+                                                                  )
+                                                                )
+                                                              )
+                                                              (PrimE
+                                                                (CallPrim)
+                                                                (VarE
+                                                                  $gatherExpired/0
+                                                                )
+                                                                (PrimE
+                                                                  (DotPrim post)
+                                                                  (VarE $n/1)
+                                                                )
+                                                              )
+                                                            )
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                                (LetD
+                                                  WildP
+                                                  (DefineE
+                                                    $gatherExpired/0
+                                                    Const
+                                                    (VarE $v/25)
+                                                  )
+                                                )
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP $u/32)
+                                                    (PrimE TupPrim)
+                                                  )
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE $gatherExpired/0)
+                                                        (VarE! @timers)
+                                                      )
+                                                    )
+                                                    (BlockE
+                                                      (LetD
+                                                        (VarP $u/33)
+                                                        (PrimE TupPrim)
+                                                      )
+                                                      (BlockE
+                                                        (LetD
+                                                          (VarP $v/26)
+                                                          (PrimE
+                                                            (CallPrim)
+                                                            (VarE
+                                                              @nextExpiration
+                                                            )
+                                                            (VarE! @timers)
+                                                          )
+                                                        )
+                                                        (LetD
+                                                          WildP
+                                                          (DefineE
+                                                            $exp/0
+                                                            Const
+                                                            (VarE $v/26)
+                                                          )
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            (VarP $u/34)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                          (BlockE
+                                                            (LetD
+                                                              WildP
+                                                              (BlockE
+                                                                (LetD
+                                                                  WildP
+                                                                  (PrimE
+                                                                    global_timer_set
+                                                                    (VarE
+                                                                      $exp/0
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (PrimE TupPrim)
+                                                              )
+                                                            )
+                                                            (BlockE
+                                                              (LetD
+                                                                (VarP $u/35)
+                                                                (PrimE TupPrim)
+                                                              )
+                                                              (BlockE
+                                                                (LetD
+                                                                  WildP
+                                                                  (IfE
+                                                                    (PrimE
+                                                                      (RelPrim
+                                                                        Nat64
+                                                                        EqOp
+                                                                      )
+                                                                      (VarE
+                                                                        $exp/0
+                                                                      )
+                                                                      (LitE
+                                                                        (Nat64Lit
+                                                                          0
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (AssignE
+                                                                      (VarLE
+                                                                        @timers
+                                                                      )
+                                                                      (LitE
+                                                                        NullLit
+                                                                      )
+                                                                    )
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                )
+                                                                (BlockE
+                                                                  (LetD
+                                                                    (VarP $u/36)
+                                                                    (PrimE
+                                                                      TupPrim
+                                                                    )
+                                                                  )
+                                                                  (BlockE
+                                                                    (LetD
+                                                                      (VarP
+                                                                        $u/37
+                                                                      )
+                                                                      (DefineE
+                                                                        $failed/0
+                                                                        Var
+                                                                        (LitE
+                                                                          (Nat64Lit
+                                                                            0
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                    (BlockE
+                                                                      (LetD
+                                                                        (VarP
+                                                                          $v/27
+                                                                        )
+                                                                        (FuncE
+                                                                          reinsert
+                                                                          Local
+                                                                          Returns
+                                                                          (params
+                                                                            $job/8
+                                                                          )
+                                                                          ()
+                                                                          (BlockE
+                                                                            (LetD
+                                                                              WildP
+                                                                              (IfE
+                                                                                (PrimE
+                                                                                  (RelPrim
+                                                                                    Nat64
+                                                                                    EqOp
+                                                                                  )
+                                                                                  (VarE!
+                                                                                    $failed/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (Nat64Lit
+                                                                                      0
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (BlockE
+                                                                                  (LetD
+                                                                                    WildP
+                                                                                    (AssignE
+                                                                                      (VarLE
+                                                                                        @timers
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        (CallPrim
+                                                                                        )
+                                                                                        (VarE
+                                                                                          @prune
+                                                                                        )
+                                                                                        (VarE!
+                                                                                          @timers
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (BlockE
+                                                                                    (LetD
+                                                                                      WildP
+                                                                                      (PrimE
+                                                                                        global_timer_set
+                                                                                        (LitE
+                                                                                          (Nat64Lit
+                                                                                            1
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (PrimE
+                                                                                      TupPrim
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                                (PrimE
+                                                                                  TupPrim
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (LetD
+                                                                              WildP
+                                                                              (AssignE
+                                                                                (VarLE
+                                                                                  $failed/0
+                                                                                )
+                                                                                (PrimE
+                                                                                  (BinPrim
+                                                                                    Nat64
+                                                                                    AddOp
+                                                                                  )
+                                                                                  (VarE!
+                                                                                    $failed/0
+                                                                                  )
+                                                                                  (LitE
+                                                                                    (Nat64Lit
+                                                                                      1
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                            (AssignE
+                                                                              (VarLE
+                                                                                @timers
+                                                                              )
+                                                                              (PrimE
+                                                                                OptPrim
+                                                                                (SwitchE
+                                                                                  (VarE!
+                                                                                    @timers
+                                                                                  )
+                                                                                  (case
+                                                                                    (OptP
+                                                                                      (ObjP
+                                                                                        (id
+                                                                                          (LitP
+                                                                                            (IntLit
+                                                                                              0
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                        (pre
+                                                                                          (VarP
+                                                                                            $pre/11
+                                                                                          )
+                                                                                        )
+                                                                                        (post
+                                                                                          (VarP
+                                                                                            $post/11
+                                                                                          )
+                                                                                        )
+                                                                                        (job
+                                                                                          (VarP
+                                                                                            $j/0
+                                                                                          )
+                                                                                        )
+                                                                                        (expire
+                                                                                          (VarP
+                                                                                            $expire/12
+                                                                                          )
+                                                                                        )
+                                                                                        (delay
+                                                                                          (VarP
+                                                                                            $delay/10
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$expire/4/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (ArrayPrim
+                                                                                            Var
+                                                                                            Nat64
+                                                                                          )
+                                                                                          (VarE!
+                                                                                            $failed/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$id/4/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          (NatLit
+                                                                                            0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$pre/4/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          OptPrim
+                                                                                          (BlockE
+                                                                                            (LetD
+                                                                                              (VarP
+                                                                                                $$id/5/0
+                                                                                              )
+                                                                                              (LitE
+                                                                                                (NatLit
+                                                                                                  0
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                            (LetD
+                                                                                              (VarP
+                                                                                                $$post/4/0
+                                                                                              )
+                                                                                              (LitE
+                                                                                                NullLit
+                                                                                              )
+                                                                                            )
+                                                                                            (NewObjE
+                                                                                              Object
+                                                                                              (job
+                                                                                                $j/0
+                                                                                              )
+                                                                                              (delay
+                                                                                                $delay/10
+                                                                                              )
+                                                                                              (post
+                                                                                                $$post/4/0
+                                                                                              )
+                                                                                              (pre
+                                                                                                $pre/11
+                                                                                              )
+                                                                                              (expire
+                                                                                                $expire/12
+                                                                                              )
+                                                                                              (id
+                                                                                                $$id/5/0
+                                                                                              )
+                                                                                              {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (NewObjE
+                                                                                        Object
+                                                                                        (pre
+                                                                                          $$pre/4/0
+                                                                                        )
+                                                                                        (post
+                                                                                          $post/11
+                                                                                        )
+                                                                                        (job
+                                                                                          $job/8
+                                                                                        )
+                                                                                        (delay
+                                                                                          $delay/10
+                                                                                        )
+                                                                                        (id
+                                                                                          $$id/4/0
+                                                                                        )
+                                                                                        (expire
+                                                                                          $$expire/4/0
+                                                                                        )
+                                                                                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (case
+                                                                                    WildP
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$expire/5/0
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          (ArrayPrim
+                                                                                            Var
+                                                                                            Nat64
+                                                                                          )
+                                                                                          (VarE!
+                                                                                            $failed/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$id/6/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          (NatLit
+                                                                                            0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$delay/4/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$pre/5/0
+                                                                                        )
+                                                                                        (LitE
+                                                                                          NullLit
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $$post/5/0
+                                                                                        )
+                                                                                        (VarE!
+                                                                                          @timers
+                                                                                        )
+                                                                                      )
+                                                                                      (NewObjE
+                                                                                        Object
+                                                                                        (post
+                                                                                          $$post/5/0
+                                                                                        )
+                                                                                        (pre
+                                                                                          $$pre/5/0
+                                                                                        )
+                                                                                        (job
+                                                                                          $job/8
+                                                                                        )
+                                                                                        (delay
+                                                                                          $$delay/4/0
+                                                                                        )
+                                                                                        (id
+                                                                                          $$id/6/0
+                                                                                        )
+                                                                                        (expire
+                                                                                          $$expire/5/0
+                                                                                        )
+                                                                                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (LetD
+                                                                        WildP
+                                                                        (DefineE
+                                                                          $reinsert/0
+                                                                          Const
+                                                                          (VarE
+                                                                            $v/27
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                      (BlockE
+                                                                        (LetD
+                                                                          (VarP
+                                                                            $u/38
+                                                                          )
+                                                                          (PrimE
+                                                                            TupPrim
+                                                                          )
+                                                                        )
+                                                                        (BlockE
+                                                                          (LetD
+                                                                            (VarP
+                                                                              $u/39
+                                                                            )
+                                                                            (PrimE
+                                                                              TupPrim
+                                                                            )
+                                                                          )
+                                                                          (DeclareE
+                                                                            $$arr/2/0
+                                                                            (DeclareE
+                                                                              $$last/2/0
+                                                                              (DeclareE
+                                                                                $$indx/2/0
+                                                                                (BlockE
+                                                                                  (LetD
+                                                                                    (VarP
+                                                                                      $v/28
+                                                                                    )
+                                                                                    (VarE
+                                                                                      $thunks/0
+                                                                                    )
+                                                                                  )
+                                                                                  (LetD
+                                                                                    WildP
+                                                                                    (DefineE
+                                                                                      $$arr/2/0
+                                                                                      Const
+                                                                                      (VarE
+                                                                                        $v/28
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                  (BlockE
+                                                                                    (LetD
+                                                                                      (VarP
+                                                                                        $u/40
+                                                                                      )
+                                                                                      (PrimE
+                                                                                        TupPrim
+                                                                                      )
+                                                                                    )
+                                                                                    (BlockE
+                                                                                      (LetD
+                                                                                        (VarP
+                                                                                          $v/29
+                                                                                        )
+                                                                                        (PrimE
+                                                                                          GetLastArrayOffset
+                                                                                          (VarE
+                                                                                            $$arr/2/0
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (LetD
+                                                                                        WildP
+                                                                                        (DefineE
+                                                                                          $$last/2/0
+                                                                                          Const
+                                                                                          (VarE
+                                                                                            $v/29
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                      (BlockE
+                                                                                        (LetD
+                                                                                          (VarP
+                                                                                            $u/41
+                                                                                          )
+                                                                                          (PrimE
+                                                                                            TupPrim
+                                                                                          )
+                                                                                        )
+                                                                                        (BlockE
+                                                                                          (LetD
+                                                                                            (VarP
+                                                                                              $u/42
+                                                                                            )
+                                                                                            (DefineE
+                                                                                              $$indx/2/0
+                                                                                              Var
+                                                                                              (LitE
+                                                                                                (NatLit
+                                                                                                  0
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                          (BlockE
+                                                                                            (LetD
+                                                                                              (VarP
+                                                                                                $u/43
+                                                                                              )
+                                                                                              (PrimE
+                                                                                                TupPrim
+                                                                                              )
+                                                                                            )
+                                                                                            (IfE
+                                                                                              (PrimE
+                                                                                                EqArrayOffset
+                                                                                                (VarE
+                                                                                                  $$last/2/0
+                                                                                                )
+                                                                                                (LitE
+                                                                                                  (IntLit
+                                                                                                    -1
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                              (PrimE
+                                                                                                (CallPrim
+                                                                                                )
+                                                                                                (VarE
+                                                                                                  $k/8
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  TupPrim
+                                                                                                )
+                                                                                              )
+                                                                                              (BlockE
+                                                                                                (LetD
+                                                                                                  (VarP
+                                                                                                    $loop/0
+                                                                                                  )
+                                                                                                  (FuncE
+                                                                                                    $loop/0
+                                                                                                    Local
+                                                                                                    Returns
+                                                                                                    ()
+                                                                                                    (BlockE
+                                                                                                      (LetD
+                                                                                                        (VarP
+                                                                                                          $v/30
+                                                                                                        )
+                                                                                                        (PrimE
+                                                                                                          TupPrim
+                                                                                                        )
+                                                                                                      )
+                                                                                                      (DeclareE
+                                                                                                        $o/0
+                                                                                                        (BlockE
+                                                                                                          (LetD
+                                                                                                            (VarP
+                                                                                                              $v/31
+                                                                                                            )
+                                                                                                            (PrimE
+                                                                                                              DerefArrayOffset
+                                                                                                              (VarE
+                                                                                                                $$arr/2/0
+                                                                                                              )
+                                                                                                              (VarE!
+                                                                                                                $$indx/2/0
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                          (LetD
+                                                                                                            WildP
+                                                                                                            (DefineE
+                                                                                                              $o/0
+                                                                                                              Const
+                                                                                                              (VarE
+                                                                                                                $v/31
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                          (BlockE
+                                                                                                            (LetD
+                                                                                                              (VarP
+                                                                                                                $u/44
+                                                                                                              )
+                                                                                                              (PrimE
+                                                                                                                TupPrim
+                                                                                                              )
+                                                                                                            )
+                                                                                                            (BlockE
+                                                                                                              (LetD
+                                                                                                                (VarP
+                                                                                                                  $k/9
+                                                                                                                )
+                                                                                                                (FuncE
+                                                                                                                  $k/9
+                                                                                                                  Local
+                                                                                                                  Returns
+                                                                                                                  ()
+                                                                                                                  (BlockE
+                                                                                                                    (LetD
+                                                                                                                      (VarP
+                                                                                                                        $v/32
+                                                                                                                      )
+                                                                                                                      (PrimE
+                                                                                                                        TupPrim
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                    (BlockE
+                                                                                                                      (LetD
+                                                                                                                        WildP
+                                                                                                                        (VarE
+                                                                                                                          $v/32
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                      (BlockE
+                                                                                                                        (LetD
+                                                                                                                          (VarP
+                                                                                                                            $u/45
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (BlockE
+                                                                                                                          (LetD
+                                                                                                                            (VarP
+                                                                                                                              $u/46
+                                                                                                                            )
+                                                                                                                            (PrimE
+                                                                                                                              TupPrim
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            (CallPrim
+                                                                                                                            )
+                                                                                                                            (VarE
+                                                                                                                              $loop/0
+                                                                                                                            )
+                                                                                                                            (IfE
+                                                                                                                              (PrimE
+                                                                                                                                EqArrayOffset
+                                                                                                                                (VarE!
+                                                                                                                                  $$indx/2/0
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $$last/2/0
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                RetPrim
+                                                                                                                                (PrimE
+                                                                                                                                  (CallPrim
+                                                                                                                                  )
+                                                                                                                                  (VarE
+                                                                                                                                    $k/8
+                                                                                                                                  )
+                                                                                                                                  (PrimE
+                                                                                                                                    TupPrim
+                                                                                                                                  )
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                              (AssignE
+                                                                                                                                (VarLE
+                                                                                                                                  $$indx/2/0
+                                                                                                                                )
+                                                                                                                                (PrimE
+                                                                                                                                  NextArrayOffset
+                                                                                                                                  (VarE!
+                                                                                                                                    $$indx/2/0
+                                                                                                                                  )
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                              (SwitchE
+                                                                                                                (VarE
+                                                                                                                  $o/0
+                                                                                                                )
+                                                                                                                (case
+                                                                                                                  (OptP
+                                                                                                                    (VarP
+                                                                                                                      $thunk/0
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                  (BlockE
+                                                                                                                    (LetD
+                                                                                                                      (VarP
+                                                                                                                        $r/5
+                                                                                                                      )
+                                                                                                                      (FuncE
+                                                                                                                        $r/5
+                                                                                                                        Local
+                                                                                                                        Returns
+                                                                                                                        (params
+                                                                                                                          $e/1
+                                                                                                                        )
+                                                                                                                        ()
+                                                                                                                        (SwitchE
+                                                                                                                          (VarE
+                                                                                                                            $e/1
+                                                                                                                          )
+                                                                                                                          (case
+                                                                                                                            WildP
+                                                                                                                            (PrimE
+                                                                                                                              (CallPrim
+                                                                                                                              )
+                                                                                                                              (VarE
+                                                                                                                                $k/9
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                (CallPrim
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $reinsert/0
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $thunk/0
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                    (BlockE
+                                                                                                                      (LetD
+                                                                                                                        (VarP
+                                                                                                                          $u/47
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                            $@timer_helper
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $thunk/0
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                      (IfE
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            @call_succeeded
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            TupPrim
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (BlockE
+                                                                                                                          (LetD
+                                                                                                                            WildP
+                                                                                                                            (VarE
+                                                                                                                              $u/47
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                          (BlockE
+                                                                                                                            (LetD
+                                                                                                                              (VarP
+                                                                                                                                $u/48
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                TupPrim
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                            (BlockE
+                                                                                                                              (LetD
+                                                                                                                                (VarP
+                                                                                                                                  $u/49
+                                                                                                                                )
+                                                                                                                                (PrimE
+                                                                                                                                  TupPrim
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                              (PrimE
+                                                                                                                                (CallPrim
+                                                                                                                                )
+                                                                                                                                (VarE
+                                                                                                                                  $k/9
+                                                                                                                                )
+                                                                                                                                (PrimE
+                                                                                                                                  TupPrim
+                                                                                                                                )
+                                                                                                                              )
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          (CallPrim
+                                                                                                                          )
+                                                                                                                          (VarE
+                                                                                                                            $r/5
+                                                                                                                          )
+                                                                                                                          (PrimE
+                                                                                                                            (CallPrim
+                                                                                                                            )
+                                                                                                                            (VarE
+                                                                                                                              @call_error
+                                                                                                                            )
+                                                                                                                            (PrimE
+                                                                                                                              TupPrim
+                                                                                                                            )
+                                                                                                                          )
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                                (case
+                                                                                                                  WildP
+                                                                                                                  (PrimE
+                                                                                                                    (CallPrim
+                                                                                                                    )
+                                                                                                                    (VarE
+                                                                                                                      $k/9
+                                                                                                                    )
+                                                                                                                    (PrimE
+                                                                                                                      RetPrim
+                                                                                                                      (PrimE
+                                                                                                                        (CallPrim
+                                                                                                                        )
+                                                                                                                        (VarE
+                                                                                                                          $k/8
+                                                                                                                        )
+                                                                                                                        (PrimE
+                                                                                                                          TupPrim
+                                                                                                                        )
+                                                                                                                      )
+                                                                                                                    )
+                                                                                                                  )
+                                                                                                                )
+                                                                                                              )
+                                                                                                            )
+                                                                                                          )
+                                                                                                        )
+                                                                                                      )
+                                                                                                    )
+                                                                                                  )
+                                                                                                )
+                                                                                                (PrimE
+                                                                                                  (CallPrim
+                                                                                                  )
+                                                                                                  (VarE
+                                                                                                    $loop/0
+                                                                                                  )
+                                                                                                  (PrimE
+                                                                                                    TupPrim
+                                                                                                  )
+                                                                                                )
+                                                                                              )
+                                                                                            )
+                                                                                          )
+                                                                                        )
+                                                                                      )
+                                                                                    )
+                                                                                  )
+                                                                                )
+                                                                              )
+                                                                            )
+                                                                          )
+                                                                        )
+                                                                      )
+                                                                    )
+                                                                  )
+                                                                )
+                                                              )
+                                                            )
+                                                          )
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+              (PrimE
+                TupPrim
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  ()
+                  (BlockE
+                    (LetD (VarP $v/45) (PrimE TupPrim))
+                    (PrimE (ICReplyPrim) (VarE $v/45))
+                  )
+                )
+                (FuncE
+                  $lambda
+                  Local
+                  Returns
+                  (params $e/5)
+                  ()
+                  (PrimE
+                    ICRejectPrim
+                    (PrimE
+                      (ProjPrim 1)
+                      (PrimE
+                        (CastPrim
+                          Error
+                          ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                        )
+                        (VarE $e/5)
+                      )
+                    )
+                  )
+                )
+                (VarE @cleanup)
+              )
+            )
+            (VarE $reply/7)
+            (VarE $reject/7)
+            (VarE $cleanup/7)
+          )
+        )
+        (VarE $async/15)
+      )
+    )
+  )
+  (VarD @lastTimerId Nat (LitE (NatLit 0)))
+  (LetD
+    (VarP @setTimer)
+    (FuncE
+      @setTimer
+      Local
+      Returns
+      ($ Any)
+      (params delayNanos recurring job)
+      Nat
+      (BlockE
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @lastTimerId)
+            (PrimE (BinPrim Nat AddOp) (VarE! @lastTimerId) (LitE (NatLit 1)))
+          )
+        )
+        (LetD (VarP id) (VarE! @lastTimerId))
+        (LetD (VarP now) (PrimE SystemTimePrim))
+        (LetD
+          (VarP expire)
+          (PrimE (BinPrim Nat64 AddOp) (VarE now) (VarE delayNanos))
+        )
+        (LetD
+          (VarP delay)
+          (IfE
+            (VarE recurring)
+            (PrimE OptPrim (VarE delayNanos))
+            (LitE NullLit)
+          )
+        )
+        (LetD
+          (VarP insert)
+          (FuncE
+            insert
+            Local
+            Returns
+            (params n)
+            @Node
+            (SwitchE
+              (VarE n)
+              (case
+                (LitP NullLit)
+                (BlockE
+                  (LetD
+                    (VarP $expire/6)
+                    (PrimE (ArrayPrim Var Nat64) (VarE expire))
+                  )
+                  (LetD (VarP $pre/6) (LitE NullLit))
+                  (LetD (VarP $post/6) (LitE NullLit))
+                  (NewObjE
+                    Object
+                    (post $post/6)
+                    (pre $pre/6)
+                    (job job)
+                    (delay delay)
+                    (id id)
+                    (expire $expire/6)
+                    {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                  )
+                )
+              )
+              (case
+                (OptP (VarP n))
+                (BlockE
+                  (LetD
+                    WildP
+                    (PrimE
+                      AssertPrim
+                      (PrimE
+                        (RelPrim Bool EqOp)
+                        (PrimE
+                          (RelPrim Nat64 EqOp)
+                          (PrimE
+                            IdxPrim
+                            (PrimE (DotPrim expire) (VarE n))
+                            (LitE (NatLit 0))
+                          )
+                          (LitE (Nat64Lit 0))
+                        )
+                        (LitE (BoolLit false))
+                      )
+                    )
+                  )
+                  (IfE
+                    (PrimE
+                      (RelPrim Nat64 LtOp)
+                      (VarE expire)
+                      (PrimE
+                        IdxPrim
+                        (PrimE (DotPrim expire) (VarE n))
+                        (LitE (NatLit 0))
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/6) (VarE n))
+                      (LetD
+                        (VarP $pre/8)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim pre) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/6)
+                        (PrimE (DotPrim delay) (VarE $base/6))
+                      )
+                      (LetD
+                        (VarP $expire/8)
+                        (PrimE (DotPrim expire) (VarE $base/6))
+                      )
+                      (LetD (VarP $id/8) (PrimE (DotPrim id) (VarE $base/6)))
+                      (LetD (VarP $job/5) (PrimE (DotPrim job) (VarE $base/6)))
+                      (LetD
+                        (VarP $post/8)
+                        (PrimE (DotPrim post) (VarE $base/6))
+                      )
+                      (NewObjE
+                        Object
+                        (post $post/8)
+                        (job $job/5)
+                        (id $id/8)
+                        (expire $expire/8)
+                        (delay $delay/6)
+                        (pre $pre/8)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                    (BlockE
+                      (LetD (VarP $base/5) (VarE n))
+                      (LetD
+                        (VarP $post/7)
+                        (PrimE
+                          OptPrim
+                          (PrimE
+                            (CallPrim)
+                            (VarE insert)
+                            (PrimE (DotPrim post) (VarE n))
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP $delay/5)
+                        (PrimE (DotPrim delay) (VarE $base/5))
+                      )
+                      (LetD
+                        (VarP $expire/7)
+                        (PrimE (DotPrim expire) (VarE $base/5))
+                      )
+                      (LetD (VarP $id/7) (PrimE (DotPrim id) (VarE $base/5)))
+                      (LetD (VarP $job/4) (PrimE (DotPrim job) (VarE $base/5)))
+                      (LetD (VarP $pre/7) (PrimE (DotPrim pre) (VarE $base/5)))
+                      (NewObjE
+                        Object
+                        (pre $pre/7)
+                        (job $job/4)
+                        (id $id/7)
+                        (expire $expire/7)
+                        (delay $delay/5)
+                        (post $post/7)
+                        {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE
+              OptPrim
+              (PrimE
+                (CallPrim)
+                (VarE insert)
+                (PrimE (CallPrim) (VarE @prune) (VarE! @timers))
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP exp)
+          (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE (RelPrim Nat64 EqOp) (VarE exp) (LitE (Nat64Lit 0)))
+            (AssignE (VarLE @timers) (LitE NullLit))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (BlockE
+            (LetD WildP (PrimE global_timer_set (VarE exp)))
+            (PrimE TupPrim)
+          )
+        )
+        (VarE id)
+      )
+    )
+  )
+  (LetD
+    (VarP @cancelTimer)
+    (FuncE
+      @cancelTimer
+      Local
+      Returns
+      (params id)
+      ()
+      (BlockE
+        (LetD
+          (VarP graft)
+          (FuncE
+            graft
+            Local
+            Returns
+            (params onto branch)
+            ?@Node
+            (SwitchE
+              (PrimE TupPrim (VarE onto) (VarE branch))
+              (case (TupP (LitP NullLit) (LitP NullLit)) (LitE NullLit))
+              (case (TupP (LitP NullLit) WildP) (VarE branch))
+              (case (TupP WildP (LitP NullLit)) (VarE onto))
+              (case
+                (TupP (OptP (VarP onto)) WildP)
+                (PrimE
+                  OptPrim
+                  (BlockE
+                    (LetD (VarP $base/7) (VarE onto))
+                    (LetD
+                      (VarP $post/9)
+                      (PrimE
+                        (CallPrim)
+                        (VarE graft)
+                        (PrimE
+                          TupPrim
+                          (PrimE (DotPrim post) (VarE onto))
+                          (VarE branch)
+                        )
+                      )
+                    )
+                    (LetD
+                      (VarP $delay/7)
+                      (PrimE (DotPrim delay) (VarE $base/7))
+                    )
+                    (LetD
+                      (VarP $expire/9)
+                      (PrimE (DotPrim expire) (VarE $base/7))
+                    )
+                    (LetD (VarP $id/9) (PrimE (DotPrim id) (VarE $base/7)))
+                    (LetD (VarP $job/6) (PrimE (DotPrim job) (VarE $base/7)))
+                    (LetD (VarP $pre/9) (PrimE (DotPrim pre) (VarE $base/7)))
+                    (NewObjE
+                      Object
+                      (pre $pre/9)
+                      (job $job/6)
+                      (id $id/9)
+                      (expire $expire/9)
+                      (delay $delay/7)
+                      (post $post/9)
+                      {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP hunt)
+          (FuncE
+            hunt
+            Local
+            Returns
+            (params n)
+            ?@Node
+            (SwitchE
+              (VarE n)
+              (case (LitP NullLit) (VarE n))
+              (case
+                (OptP
+                  (ObjP (id (VarP node)) (pre (VarP pre)) (post (VarP post)))
+                )
+                (IfE
+                  (PrimE (RelPrim Nat EqOp) (VarE node) (VarE id))
+                  (PrimE
+                    (CallPrim)
+                    (VarE graft)
+                    (PrimE TupPrim (VarE pre) (VarE post))
+                  )
+                  (LabelE
+                    !
+                    ?@Node
+                    (PrimE
+                      OptPrim
+                      (BlockE
+                        (LetD
+                          (VarP $base/8)
+                          (SwitchE
+                            (VarE n)
+                            (case
+                              (LitP NullLit)
+                              (PrimE (BreakPrim !) (LitE NullLit))
+                            )
+                            (case (OptP (VarP $v/1)) (VarE $v/1))
+                          )
+                        )
+                        (LetD
+                          (VarP $pre/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE pre))
+                        )
+                        (LetD
+                          (VarP $post/10)
+                          (PrimE (CallPrim) (VarE hunt) (VarE post))
+                        )
+                        (LetD
+                          (VarP $delay/8)
+                          (PrimE (DotPrim delay) (VarE $base/8))
+                        )
+                        (LetD
+                          (VarP $expire/10)
+                          (PrimE (DotPrim expire) (VarE $base/8))
+                        )
+                        (LetD (VarP $id/10) (PrimE (DotPrim id) (VarE $base/8)))
+                        (LetD
+                          (VarP $job/7)
+                          (PrimE (DotPrim job) (VarE $base/8))
+                        )
+                        (NewObjE
+                          Object
+                          (job $job/7)
+                          (id $id/10)
+                          (expire $expire/10)
+                          (delay $delay/8)
+                          (post $post/10)
+                          (pre $pre/10)
+                          {delay : ?Nat64; expire : [var Nat64]; id : Nat; job : <system>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; post : ?@Node; pre : ?@Node}
+                        )
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (AssignE
+            (VarLE @timers)
+            (PrimE (CallPrim) (VarE hunt) (VarE! @timers))
+          )
+        )
+        (IfE
+          (PrimE
+            (RelPrim Nat64 EqOp)
+            (PrimE (CallPrim) (VarE @nextExpiration) (VarE! @timers))
+            (LitE (Nat64Lit 0))
+          )
+          (BlockE
+            (LetD
+              WildP
+              (BlockE
+                (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 0))))
+                (PrimE TupPrim)
+              )
+            )
+            (AssignE (VarLE @timers) (LitE NullLit))
+          )
+          (PrimE TupPrim)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP @set_global_timer)
+    (FuncE
+      @set_global_timer
+      Local
+      Returns
+      (params time)
+      ()
+      (BlockE (LetD WildP (PrimE global_timer_set (VarE time))) (PrimE TupPrim))
+    )
+  )
+  (LetD
+    (VarP @dedup)
+    (FuncE
+      @dedup
+      Local
+      Returns
+      (params b)
+      Blob
+      (BlockE
+        (LetD
+          (VarP Array_tabulate)
+          (FuncE
+            Array_tabulate
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [T]
+            (PrimE Array.tabulate (VarE len) (VarE gen))
+          )
+        )
+        (LetD
+          (VarP Array_tabulateVar)
+          (FuncE
+            Array_tabulateVar
+            Local
+            Returns
+            (T Any)
+            (params len gen)
+            [var T]
+            (PrimE Array.tabulateVar (VarE len) (VarE gen))
+          )
+        )
+        (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+        (LetD
+          (VarP debugPrint)
+          (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+        )
+        (LetD
+          (VarP hashBlob)
+          (FuncE
+            hashBlob
+            Local
+            Returns
+            (params b)
+            Nat32
+            (PrimE crc32Hash (VarE b))
+          )
+        )
+        (LetD
+          (VarP allocWeakRef)
+          (FuncE
+            allocWeakRef
+            Local
+            Returns
+            (T Any)
+            (params obj)
+            weak T
+            (PrimE alloc_weak_ref (VarE obj))
+          )
+        )
+        (LetD
+          (VarP weakGet)
+          (FuncE
+            weakGet
+            Local
+            Returns
+            (T Any)
+            (params w)
+            ?T
+            (PrimE weak_get (VarE w))
+          )
+        )
+        (LetD
+          (VarP getDedupTable)
+          (FuncE
+            getDedupTable
+            Local
+            Returns
+            ?[var List]
+            (PrimE get_dedup_table)
+          )
+        )
+        (LetD
+          (VarP setDedupTable)
+          (FuncE
+            setDedupTable
+            Local
+            Returns
+            (params dedupTable)
+            ()
+            (PrimE set_dedup_table (VarE dedupTable))
+          )
+        )
+        (LetD
+          (VarP arrayToBlob)
+          (FuncE
+            arrayToBlob
+            Local
+            Returns
+            (params a)
+            Blob
+            (PrimE arrayToBlob (VarE a))
+          )
+        )
+        (LetD
+          (VarP getOriginalBlob)
+          (FuncE
+            getOriginalBlob
+            Local
+            Returns
+            (params b)
+            Blob
+            (BlockE
+              (LetD
+                (VarP copiedArr)
+                (PrimE
+                  (CallPrim Nat8)
+                  (VarE Array_tabulate)
+                  (PrimE
+                    TupPrim
+                    (PrimE
+                      (BinPrim Nat SubOp)
+                      (PrimE blob_size (VarE b))
+                      (LitE (NatLit 5))
+                    )
+                    (FuncE
+                      @anon-func-744.50
+                      Local
+                      Returns
+                      (params i)
+                      Nat8
+                      (PrimE
+                        IdxBlobPrim
+                        (VarE b)
+                        (PrimE (BinPrim Nat AddOp) (VarE i) (LitE (NatLit 5)))
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP originalBlob)
+                (PrimE (CallPrim) (VarE arrayToBlob) (VarE copiedArr))
+              )
+              (VarE originalBlob)
+            )
+          )
+        )
+        (LetD
+          (VarP blobCompare)
+          (FuncE
+            blobCompare
+            Local
+            Returns
+            (params b1 b2)
+            Int8
+            (PrimE blob_compare (VarE b1) (VarE b2))
+          )
+        )
+        (LetD
+          (VarP addToList)
+          (FuncE
+            addToList
+            Local
+            Returns
+            (params list originalBlob weakRef)
+            List
+            (BlockE
+              (LetD
+                (VarP newList)
+                (BlockE
+                  (VarD
+                    $next/0
+                    ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                    (PrimE OptPrim (VarE list))
+                  )
+                  (LetD (VarP $value/0) (PrimE OptPrim (VarE weakRef)))
+                  (LetD
+                    (VarP $index/0)
+                    (PrimE
+                      (BinPrim Nat AddOp)
+                      (PrimE (DotPrim index) (VarE list))
+                      (LitE (NatLit 1))
+                    )
+                  )
+                  (NewObjE
+                    Object
+                    (index $index/0)
+                    (originalBlob originalBlob)
+                    (value $value/0)
+                    (next $next/0)
+                    {index : Nat; var next : ?{index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}; originalBlob : Blob; value : ?{ref : weak Blob}}
+                  )
+                )
+              )
+              (VarE newList)
+            )
+          )
+        )
+        (LetD
+          (VarP getFromList)
+          (FuncE
+            getFromList
+            Local
+            Returns
+            (params list originalBlob)
+            ?WeakRef
+            (BlockE
+              (VarD
+                copy
+                {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                (VarE list)
+              )
+              (LoopE
+                (IfE
+                  (PrimE
+                    (RelPrim Int8 EqOp)
+                    (PrimE
+                      (CallPrim)
+                      (VarE blobCompare)
+                      (PrimE
+                        TupPrim
+                        (PrimE (DotPrim originalBlob) (VarE! copy))
+                        (VarE originalBlob)
+                      )
+                    )
+                    (LitE (Int8Lit 0))
+                  )
+                  (PrimE RetPrim (PrimE (DotPrim value) (VarE! copy)))
+                  (BlockE
+                    (LetD (VarP next) (PrimE (DotPrim next) (VarE! copy)))
+                    (SwitchE
+                      (VarE next)
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                      (case
+                        (OptP (VarP next))
+                        (AssignE (VarLE copy) (VarE next))
+                      )
+                    )
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getListLen)
+          (FuncE
+            getListLen
+            Local
+            Returns
+            (params list)
+            Nat
+            (PrimE (DotPrim index) (VarE list))
+          )
+        )
+        (LetD
+          (VarP getHashArrayLen)
+          (FuncE
+            getHashArrayLen
+            Local
+            Returns
+            (params hashArray)
+            Nat
+            (BlockE
+              (VarD len Nat (LitE (NatLit 0)))
+              (VarD i Nat (LitE (NatLit 0)))
+              (LetD
+                WildP
+                (LabelE
+                  $done/9
+                  ()
+                  (LoopE
+                    (IfE
+                      (PrimE
+                        (RelPrim Nat LtOp)
+                        (VarE! i)
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                      (BlockE
+                        (LetD
+                          WildP
+                          (AssignE
+                            (VarLE len)
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (VarE! len)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getListLen)
+                                (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                              )
+                            )
+                          )
+                        )
+                        (AssignE
+                          (VarLE i)
+                          (PrimE
+                            (BinPrim Nat AddOp)
+                            (VarE! i)
+                            (LitE (NatLit 1))
+                          )
+                        )
+                      )
+                      (PrimE (BreakPrim $done/9) (PrimE TupPrim))
+                    )
+                  )
+                )
+              )
+              (VarE! len)
+            )
+          )
+        )
+        (LetD
+          (VarP addToHashArray)
+          (FuncE
+            addToHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ()
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (LetD
+                (VarP weakRef)
+                (BlockE
+                  (LetD
+                    (VarP $ref/0)
+                    (PrimE (CallPrim Blob) (VarE allocWeakRef) (VarE b))
+                  )
+                  (NewObjE Object (ref $ref/0) {ref : weak Blob})
+                )
+              )
+              (AssignE
+                (IdxLE (VarE hashArray) (VarE index))
+                (PrimE
+                  (CallPrim)
+                  (VarE addToList)
+                  (PrimE
+                    TupPrim
+                    (VarE list)
+                    (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                    (VarE weakRef)
+                  )
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP getFromHashArray)
+          (FuncE
+            getFromHashArray
+            Local
+            Returns
+            (params hashArray b)
+            ?WeakRef
+            (BlockE
+              (LetD
+                (VarP hashValue)
+                (PrimE (CallPrim) (VarE hashBlob) (VarE b))
+              )
+              (LetD
+                (VarP index)
+                (PrimE
+                  (BinPrim Nat ModOp)
+                  (PrimE (CallPrim) (VarE @nat32ToNat) (VarE hashValue))
+                  (VarE HASH_ARRAY_SIZE)
+                )
+              )
+              (LetD (VarP list) (PrimE IdxPrim (VarE hashArray) (VarE index)))
+              (PrimE
+                (CallPrim)
+                (VarE getFromList)
+                (PrimE
+                  TupPrim
+                  (VarE list)
+                  (PrimE (CallPrim) (VarE getOriginalBlob) (VarE b))
+                )
+              )
+            )
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (PrimE
+              (RelPrim Nat LtOp)
+              (PrimE blob_size (VarE b))
+              (LitE (NatLit 5))
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          WildP
+          (IfE
+            (IfE
+              (IfE
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 0)))
+                        (LitE (Nat8Lit 33))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE
+                      (RelPrim Bool EqOp)
+                      (PrimE
+                        (RelPrim Nat8 EqOp)
+                        (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 1)))
+                        (LitE (Nat8Lit 99))
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                  (LitE (BoolLit true))
+                  (PrimE
+                    (RelPrim Bool EqOp)
+                    (PrimE
+                      (RelPrim Nat8 EqOp)
+                      (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 2)))
+                      (LitE (Nat8Lit 97))
+                    )
+                    (LitE (BoolLit false))
+                  )
+                )
+                (LitE (BoolLit true))
+                (PrimE
+                  (RelPrim Bool EqOp)
+                  (PrimE
+                    (RelPrim Nat8 EqOp)
+                    (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 3)))
+                    (LitE (Nat8Lit 102))
+                  )
+                  (LitE (BoolLit false))
+                )
+              )
+              (LitE (BoolLit true))
+              (PrimE
+                (RelPrim Bool EqOp)
+                (PrimE
+                  (RelPrim Nat8 EqOp)
+                  (PrimE IdxBlobPrim (VarE b) (LitE (NatLit 4)))
+                  (LitE (Nat8Lit 33))
+                )
+                (LitE (BoolLit false))
+              )
+            )
+            (PrimE RetPrim (VarE b))
+            (PrimE TupPrim)
+          )
+        )
+        (LetD
+          (VarP ptr)
+          (PrimE (CallPrim) (VarE getDedupTable) (PrimE TupPrim))
+        )
+        (LetD
+          (VarP hashArray)
+          (SwitchE
+            (VarE ptr)
+            (case (OptP (VarP dedupTable)) (VarE dedupTable))
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  (VarP arr)
+                  (PrimE
+                    (CallPrim List)
+                    (VarE Array_tabulateVar)
+                    (PrimE
+                      TupPrim
+                      (VarE HASH_ARRAY_SIZE)
+                      (FuncE
+                        @anon-func-830.58
+                        Local
+                        Returns
+                        (params i)
+                        List
+                        (BlockE
+                          (VarD $next/1 ?List (LitE NullLit))
+                          (LetD (VarP $value/1) (LitE NullLit))
+                          (LetD (VarP $originalBlob/0) (LitE (BlobLit "")))
+                          (LetD (VarP $index/1) (LitE (NatLit 0)))
+                          (NewObjE
+                            Object
+                            (index $index/1)
+                            (originalBlob $originalBlob/0)
+                            (value $value/1)
+                            (next $next/1)
+                            {index : Nat; var next : ?List; originalBlob : Blob; value : ?WeakRef}
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD WildP (PrimE (CallPrim) (VarE setDedupTable) (VarE arr)))
+                (VarE arr)
+              )
+            )
+          )
+        )
+        (LetD
+          (VarP dedupedBlobWeakRef)
+          (PrimE
+            (CallPrim)
+            (VarE getFromHashArray)
+            (PrimE TupPrim (VarE hashArray) (VarE b))
+          )
+        )
+        (LetD
+          (VarP result)
+          (SwitchE
+            (VarE dedupedBlobWeakRef)
+            (case
+              (OptP (VarP weakRef))
+              (BlockE
+                (LetD
+                  (VarP derefed)
+                  (PrimE
+                    (CallPrim Blob)
+                    (VarE weakGet)
+                    (PrimE (DotPrim ref) (VarE weakRef))
+                  )
+                )
+                (SwitchE
+                  (VarE derefed)
+                  (case (OptP (VarP derefed)) (VarE derefed))
+                  (case
+                    (LitP NullLit)
+                    (BlockE
+                      (LetD
+                        WildP
+                        (PrimE
+                          (CallPrim)
+                          (VarE addToHashArray)
+                          (PrimE TupPrim (VarE hashArray) (VarE b))
+                        )
+                      )
+                      (VarE b)
+                    )
+                  )
+                )
+              )
+            )
+            (case
+              (LitP NullLit)
+              (BlockE
+                (LetD
+                  WildP
+                  (PrimE
+                    (CallPrim)
+                    (VarE addToHashArray)
+                    (PrimE TupPrim (VarE hashArray) (VarE b))
+                  )
+                )
+                (VarE b)
+              )
+            )
+          )
+        )
+        (VarE result)
+      )
+    )
+  )
+  (LetD
+    (VarP file$@prim)
+    (BlockE
+      (LetD (VarP Types) (NewObjE Module module {}))
+      (LetD
+        (VarP abs)
+        (FuncE abs Local Returns (params x) Nat (PrimE abs (VarE x)))
+      )
+      (LetD
+        (VarP shiftLeft)
+        (FuncE
+          shiftLeft
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE lsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP shiftRight)
+        (FuncE
+          shiftRight
+          Local
+          Returns
+          (params x shift)
+          Nat
+          (PrimE rsh_Nat (VarE x) (VarE shift))
+        )
+      )
+      (LetD
+        (VarP idlHash)
+        (FuncE idlHash Local Returns (params x) Nat32 (PrimE idlHash (VarE x)))
+      )
+      (LetD
+        (VarP debugPrint)
+        (FuncE debugPrint Local Returns (params x) () (PrimE print (VarE x)))
+      )
+      (LetD
+        (VarP debugPrintNat)
+        (FuncE
+          debugPrintNat
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Nat) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintInt)
+        (FuncE
+          debugPrintInt
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE @text_of_Int) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP debugPrintChar)
+        (FuncE
+          debugPrintChar
+          Local
+          Returns
+          (params x)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE debugPrint)
+            (PrimE (CallPrim) (VarE charToText) (VarE x))
+          )
+        )
+      )
+      (LetD
+        (VarP trap)
+        (FuncE trap Local Returns (params x) None (PrimE trap (VarE x)))
+      )
+      (LetD
+        (VarP rts_version)
+        (FuncE rts_version Local Returns Text (PrimE rts_version))
+      )
+      (LetD
+        (VarP rts_memory_size)
+        (FuncE rts_memory_size Local Returns Nat (PrimE rts_memory_size))
+      )
+      (LetD
+        (VarP rts_heap_size)
+        (FuncE rts_heap_size Local Returns Nat (PrimE rts_heap_size))
+      )
+      (LetD
+        (VarP rts_total_allocation)
+        (FuncE
+          rts_total_allocation
+          Local
+          Returns
+          Nat
+          (PrimE rts_total_allocation)
+        )
+      )
+      (LetD
+        (VarP rts_reclaimed)
+        (FuncE rts_reclaimed Local Returns Nat (PrimE rts_reclaimed))
+      )
+      (LetD
+        (VarP rts_max_live_size)
+        (FuncE rts_max_live_size Local Returns Nat (PrimE rts_max_live_size))
+      )
+      (LetD
+        (VarP rts_max_stack_size)
+        (FuncE rts_max_stack_size Local Returns Nat (PrimE rts_max_stack_size))
+      )
+      (LetD
+        (VarP rts_callback_table_count)
+        (FuncE
+          rts_callback_table_count
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_count)
+        )
+      )
+      (LetD
+        (VarP rts_callback_table_size)
+        (FuncE
+          rts_callback_table_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_callback_table_size)
+        )
+      )
+      (LetD
+        (VarP rts_mutator_instructions)
+        (FuncE
+          rts_mutator_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_mutator_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_collector_instructions)
+        (FuncE
+          rts_collector_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_collector_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_lifetime_instructions)
+        (FuncE
+          rts_lifetime_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_lifetime_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_upgrade_instructions)
+        (FuncE
+          rts_upgrade_instructions
+          Local
+          Returns
+          Nat
+          (PrimE rts_upgrade_instructions)
+        )
+      )
+      (LetD
+        (VarP rts_stable_memory_size)
+        (FuncE
+          rts_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP rts_logical_stable_memory_size)
+        (FuncE
+          rts_logical_stable_memory_size
+          Local
+          Returns
+          Nat
+          (PrimE rts_logical_stable_memory_size)
+        )
+      )
+      (LetD
+        (VarP allocWeakRef)
+        (FuncE
+          allocWeakRef
+          Local
+          Returns
+          (T Any)
+          (params obj)
+          weak T
+          (PrimE alloc_weak_ref (VarE obj))
+        )
+      )
+      (LetD
+        (VarP weakGet)
+        (FuncE
+          weakGet
+          Local
+          Returns
+          (T Any)
+          (params w)
+          ?T
+          (PrimE weak_get (VarE w))
+        )
+      )
+      (LetD
+        (VarP isLive)
+        (FuncE
+          isLive
+          Local
+          Returns
+          (params weak_ref)
+          Bool
+          (PrimE weak_ref_is_live (VarE weak_ref))
+        )
+      )
+      (LetD
+        (VarP envVarNames)
+        (FuncE envVarNames Local Returns ($ Any) [Text] (PrimE env_var_names))
+      )
+      (LetD
+        (VarP envVar)
+        (FuncE
+          envVar
+          Local
+          Returns
+          ($ Any)
+          (params name)
+          ?Text
+          (PrimE env_var (VarE name))
+        )
+      )
+      (LetD
+        (VarP __getDedupTable)
+        (FuncE
+          __getDedupTable
+          Local
+          Returns
+          ?[var __List]
+          (PrimE get_dedup_table)
+        )
+      )
+      (LetD
+        (VarP BlobIterator)
+        (FuncE
+          BlobIterator
+          Local
+          Returns
+          (params hash)
+          {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+          (BlockE
+            (LetD
+              (VarP @anon-object-138.41)
+              (BlockE
+                (LetD (VarP HASH_ARRAY_SIZE) (LitE (NatLit 16_384)))
+                (VarD currentIndex Nat (LitE (NatLit 0)))
+                (VarD currentList ?__List (LitE NullLit))
+                (LetD (VarP hashArray) (VarE hash))
+                (LetD
+                  (VarP size)
+                  (FuncE
+                    size
+                    Local
+                    Returns
+                    Nat
+                    (BlockE
+                      (VarD len Nat (LitE (NatLit 0)))
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LetD
+                        WildP
+                        (LabelE
+                          $done/0
+                          ()
+                          (LoopE
+                            (IfE
+                              (PrimE
+                                (RelPrim Nat LtOp)
+                                (VarE! i)
+                                (VarE HASH_ARRAY_SIZE)
+                              )
+                              (BlockE
+                                (VarD
+                                  list
+                                  {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                  (PrimE IdxPrim (VarE hashArray) (VarE! i))
+                                )
+                                (LetD
+                                  WildP
+                                  (LabelE
+                                    countLoop
+                                    ()
+                                    (LoopE
+                                      (LabelE
+                                        continue countLoop
+                                        ()
+                                        (BlockE
+                                          (LetD
+                                            (VarP weakRef)
+                                            (PrimE (DotPrim value) (VarE! list))
+                                          )
+                                          (LetD
+                                            WildP
+                                            (SwitchE
+                                              (VarE weakRef)
+                                              (case
+                                                (OptP (VarP weakRef))
+                                                (BlockE
+                                                  (LetD
+                                                    (VarP deref)
+                                                    (PrimE
+                                                      (CallPrim Blob)
+                                                      (VarE weakGet)
+                                                      (PrimE
+                                                        (DotPrim ref)
+                                                        (VarE weakRef)
+                                                      )
+                                                    )
+                                                  )
+                                                  (SwitchE
+                                                    (VarE deref)
+                                                    (case
+                                                      (OptP (VarP deref))
+                                                      (PrimE TupPrim)
+                                                    )
+                                                    (case
+                                                      (LitP NullLit)
+                                                      (AssignE
+                                                        (VarLE len)
+                                                        (PrimE
+                                                          (BinPrim Nat AddOp)
+                                                          (VarE! len)
+                                                          (LitE (NatLit 1))
+                                                        )
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                          (LetD
+                                            (VarP next)
+                                            (PrimE (DotPrim next) (VarE! list))
+                                          )
+                                          (SwitchE
+                                            (VarE next)
+                                            (case
+                                              (OptP (VarP next))
+                                              (AssignE (VarLE list) (VarE next))
+                                            )
+                                            (case
+                                              (LitP NullLit)
+                                              (PrimE
+                                                (BreakPrim countLoop)
+                                                (PrimE TupPrim)
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                                (AssignE
+                                  (VarLE i)
+                                  (PrimE
+                                    (BinPrim Nat AddOp)
+                                    (VarE! i)
+                                    (LitE (NatLit 1))
+                                  )
+                                )
+                              )
+                              (PrimE (BreakPrim $done/0) (PrimE TupPrim))
+                            )
+                          )
+                        )
+                      )
+                      (VarE! len)
+                    )
+                  )
+                )
+                (LetD
+                  (VarP getDeadBlobFromListNode)
+                  (FuncE
+                    getDeadBlobFromListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?Blob
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP myList))
+                        (BlockE
+                          (LetD
+                            (VarP weakRef)
+                            (PrimE (DotPrim value) (VarE myList))
+                          )
+                          (SwitchE
+                            (VarE weakRef)
+                            (case
+                              (OptP (VarP weakRef))
+                              (BlockE
+                                (LetD
+                                  (VarP deref)
+                                  (PrimE
+                                    (CallPrim Blob)
+                                    (VarE weakGet)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                                (SwitchE
+                                  (VarE deref)
+                                  (case
+                                    (OptP (VarP deref))
+                                    (PrimE RetPrim (LitE NullLit))
+                                  )
+                                  (case
+                                    (LitP NullLit)
+                                    (PrimE
+                                      RetPrim
+                                      (PrimE
+                                        OptPrim
+                                        (PrimE
+                                          (DotPrim originalBlob)
+                                          (VarE myList)
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                            (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                          )
+                        )
+                      )
+                      (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP advanceListNode)
+                  (FuncE
+                    advanceListNode
+                    Local
+                    Returns
+                    (params list)
+                    ?__List
+                    (SwitchE
+                      (VarE list)
+                      (case
+                        (OptP (VarP list))
+                        (PrimE (DotPrim next) (VarE list))
+                      )
+                      (case (LitP NullLit) (LitE NullLit))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP nextDeadBlob)
+                  (FuncE
+                    nextDeadBlob
+                    Local
+                    Returns
+                    Blob
+                    (BlockE
+                      (LetD
+                        WildP
+                        (LoopE
+                          (BlockE
+                            (LetD
+                              (VarP blob)
+                              (PrimE
+                                (CallPrim)
+                                (VarE getDeadBlobFromListNode)
+                                (VarE! currentList)
+                              )
+                            )
+                            (SwitchE
+                              (VarE blob)
+                              (case
+                                (OptP (VarP blob))
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (PrimE RetPrim (VarE blob))
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (BlockE
+                                  (LetD
+                                    WildP
+                                    (AssignE
+                                      (VarLE currentList)
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (VarE! currentList)
+                                      )
+                                    )
+                                  )
+                                  (SwitchE
+                                    (VarE! currentList)
+                                    (case (OptP WildP) (PrimE TupPrim))
+                                    (case
+                                      (LitP NullLit)
+                                      (BlockE
+                                        (LetD
+                                          WildP
+                                          (AssignE
+                                            (VarLE currentIndex)
+                                            (PrimE
+                                              (BinPrim Nat AddOp)
+                                              (VarE! currentIndex)
+                                              (LitE (NatLit 1))
+                                            )
+                                          )
+                                        )
+                                        (LetD
+                                          WildP
+                                          (IfE
+                                            (PrimE
+                                              (RelPrim Nat GeOp)
+                                              (VarE! currentIndex)
+                                              (VarE HASH_ARRAY_SIZE)
+                                            )
+                                            (PrimE RetPrim (LitE (BlobLit "")))
+                                            (PrimE TupPrim)
+                                          )
+                                        )
+                                        (AssignE
+                                          (VarLE currentList)
+                                          (PrimE
+                                            OptPrim
+                                            (PrimE
+                                              IdxPrim
+                                              (VarE hashArray)
+                                              (VarE! currentIndex)
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LitE (BlobLit ""))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP computeIndex)
+                  (FuncE
+                    computeIndex
+                    Local
+                    Returns
+                    (params b)
+                    Nat
+                    (BlockE
+                      (LetD
+                        (VarP magicBytes)
+                        (PrimE
+                          (ArrayPrim Const Nat8)
+                          (LitE (Nat8Lit 33))
+                          (LitE (Nat8Lit 99))
+                          (LitE (Nat8Lit 97))
+                          (LitE (Nat8Lit 102))
+                          (LitE (Nat8Lit 33))
+                        )
+                      )
+                      (LetD
+                        (VarP originalBlob)
+                        (PrimE (CallPrim) (VarE blobToArray) (VarE b))
+                      )
+                      (LetD
+                        (VarP concat)
+                        (PrimE
+                          (CallPrim Nat8)
+                          (VarE Array_tabulate)
+                          (PrimE
+                            TupPrim
+                            (PrimE
+                              (BinPrim Nat AddOp)
+                              (PrimE array_len (VarE magicBytes))
+                              (PrimE array_len (VarE originalBlob))
+                            )
+                            (FuncE
+                              @anon-func-240.74
+                              Local
+                              Returns
+                              (params i)
+                              Nat8
+                              (IfE
+                                (PrimE
+                                  (RelPrim Nat LtOp)
+                                  (VarE i)
+                                  (PrimE array_len (VarE magicBytes))
+                                )
+                                (PrimE IdxPrim (VarE magicBytes) (VarE i))
+                                (PrimE
+                                  IdxPrim
+                                  (VarE originalBlob)
+                                  (PrimE
+                                    (BinPrim Nat SubOp)
+                                    (VarE i)
+                                    (PrimE array_len (VarE magicBytes))
+                                  )
+                                )
+                              )
+                            )
+                          )
+                        )
+                      )
+                      (LetD
+                        (VarP bWithMagic)
+                        (PrimE (CallPrim) (VarE arrayToBlob) (VarE concat))
+                      )
+                      (LetD
+                        (VarP hashValue)
+                        (PrimE (CallPrim) (VarE hashBlob) (VarE bWithMagic))
+                      )
+                      (PrimE
+                        (BinPrim Nat ModOp)
+                        (PrimE (CallPrim) (VarE nat32ToNat) (VarE hashValue))
+                        (VarE HASH_ARRAY_SIZE)
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP isBlobLive)
+                  (FuncE
+                    isBlobLive
+                    Local
+                    Returns
+                    (params b)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP index)
+                        (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                      )
+                      (VarD
+                        list
+                        {index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                        (PrimE IdxPrim (VarE hashArray) (VarE index))
+                      )
+                      (LoopE
+                        (IfE
+                          (PrimE
+                            (RelPrim Int8 EqOp)
+                            (PrimE
+                              (CallPrim)
+                              (VarE blobCompare)
+                              (PrimE
+                                TupPrim
+                                (PrimE (DotPrim originalBlob) (VarE! list))
+                                (VarE b)
+                              )
+                            )
+                            (LitE (Int8Lit 0))
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP weakRef)
+                              (PrimE (DotPrim value) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE weakRef)
+                              (case
+                                (OptP (VarP weakRef))
+                                (PrimE
+                                  RetPrim
+                                  (PrimE
+                                    (CallPrim)
+                                    (VarE isLive)
+                                    (PrimE (DotPrim ref) (VarE weakRef))
+                                  )
+                                )
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                          (BlockE
+                            (LetD
+                              (VarP next)
+                              (PrimE (DotPrim next) (VarE! list))
+                            )
+                            (SwitchE
+                              (VarE next)
+                              (case
+                                (OptP (VarP next))
+                                (AssignE (VarLE list) (VarE next))
+                              )
+                              (case
+                                (LitP NullLit)
+                                (PrimE RetPrim (LitE (BoolLit false)))
+                              )
+                            )
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneFirstElement)
+                  (FuncE
+                    pruneFirstElement
+                    Local
+                    Returns
+                    (params list b index)
+                    Bool
+                    (BlockE
+                      (LetD
+                        (VarP deadBlob)
+                        (PrimE
+                          (CallPrim)
+                          (VarE getDeadBlobFromListNode)
+                          (PrimE OptPrim (VarE list))
+                        )
+                      )
+                      (LetD
+                        WildP
+                        (SwitchE
+                          (VarE deadBlob)
+                          (case
+                            (OptP (VarP deadBlob))
+                            (IfE
+                              (PrimE
+                                (RelPrim Int8 EqOp)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE blobCompare)
+                                  (PrimE TupPrim (VarE deadBlob) (VarE b))
+                                )
+                                (LitE (Int8Lit 0))
+                              )
+                              (BlockE
+                                (LetD
+                                  (VarP nextElem)
+                                  (PrimE (DotPrim next) (VarE list))
+                                )
+                                (SwitchE
+                                  (VarE nextElem)
+                                  (case
+                                    (OptP (VarP next))
+                                    (BlockE
+                                      (LetD
+                                        WildP
+                                        (AssignE
+                                          (IdxLE (VarE hashArray) (VarE index))
+                                          (VarE next)
+                                        )
+                                      )
+                                      (PrimE RetPrim (LitE (BoolLit true)))
+                                    )
+                                  )
+                                  (case (LitP NullLit) (PrimE TupPrim))
+                                )
+                              )
+                              (PrimE TupPrim)
+                            )
+                          )
+                          (case (LitP NullLit) (PrimE TupPrim))
+                        )
+                      )
+                      (LitE (BoolLit false))
+                    )
+                  )
+                )
+                (LetD
+                  (VarP pruneDeadBlobs)
+                  (FuncE
+                    pruneDeadBlobs
+                    Local
+                    Returns
+                    (params confirmedDeadBlobs)
+                    ()
+                    (BlockE
+                      (VarD i Nat (LitE (NatLit 0)))
+                      (LabelE
+                        $done/1
+                        ()
+                        (LoopE
+                          (IfE
+                            (PrimE
+                              (RelPrim Nat LtOp)
+                              (VarE! i)
+                              (PrimE array_len (VarE confirmedDeadBlobs))
+                            )
+                            (BlockE
+                              (LetD
+                                (VarP b)
+                                (PrimE
+                                  IdxPrim
+                                  (VarE confirmedDeadBlobs)
+                                  (VarE! i)
+                                )
+                              )
+                              (LetD
+                                (VarP index)
+                                (PrimE (CallPrim) (VarE computeIndex) (VarE b))
+                              )
+                              (LetD
+                                (VarP list)
+                                (PrimE IdxPrim (VarE hashArray) (VarE index))
+                              )
+                              (LetD
+                                (VarP pruned)
+                                (PrimE
+                                  (CallPrim)
+                                  (VarE pruneFirstElement)
+                                  (PrimE
+                                    TupPrim
+                                    (VarE list)
+                                    (VarE b)
+                                    (VarE index)
+                                  )
+                                )
+                              )
+                              (LetD
+                                WildP
+                                (IfE
+                                  (PrimE
+                                    (RelPrim Bool EqOp)
+                                    (VarE pruned)
+                                    (LitE (BoolLit false))
+                                  )
+                                  (BlockE
+                                    (VarD
+                                      prev
+                                      ?{index : Nat; var next : ?__List; originalBlob : Blob; value : ?__WeakRef}
+                                      (PrimE OptPrim (VarE list))
+                                    )
+                                    (VarD
+                                      crntNode
+                                      ?__List
+                                      (PrimE
+                                        (CallPrim)
+                                        (VarE advanceListNode)
+                                        (PrimE OptPrim (VarE list))
+                                      )
+                                    )
+                                    (LabelE
+                                      findLoop
+                                      ()
+                                      (LoopE
+                                        (LabelE
+                                          continue findLoop
+                                          ()
+                                          (BlockE
+                                            (LetD
+                                              (VarP crntBlob)
+                                              (PrimE
+                                                (CallPrim)
+                                                (VarE getDeadBlobFromListNode)
+                                                (VarE! crntNode)
+                                              )
+                                            )
+                                            (LetD
+                                              WildP
+                                              (SwitchE
+                                                (VarE crntBlob)
+                                                (case
+                                                  (OptP (VarP crntBlob))
+                                                  (IfE
+                                                    (PrimE
+                                                      (RelPrim Int8 EqOp)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE blobCompare)
+                                                        (PrimE
+                                                          TupPrim
+                                                          (VarE crntBlob)
+                                                          (VarE b)
+                                                        )
+                                                      )
+                                                      (LitE (Int8Lit 0))
+                                                    )
+                                                    (SwitchE
+                                                      (PrimE
+                                                        TupPrim
+                                                        (VarE! prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                      (case
+                                                        (TupP
+                                                          (OptP (VarP prev))
+                                                          (OptP (VarP crntNode))
+                                                        )
+                                                        (BlockE
+                                                          (LetD
+                                                            WildP
+                                                            (AssignE
+                                                              (DotLE
+                                                                (VarE prev)
+                                                                next
+                                                              )
+                                                              (PrimE
+                                                                (DotPrim next)
+                                                                (VarE crntNode)
+                                                              )
+                                                            )
+                                                          )
+                                                          (PrimE
+                                                            (BreakPrim findLoop)
+                                                            (PrimE TupPrim)
+                                                          )
+                                                        )
+                                                      )
+                                                      (case
+                                                        WildP
+                                                        (PrimE TupPrim)
+                                                      )
+                                                    )
+                                                    (PrimE TupPrim)
+                                                  )
+                                                )
+                                                (case
+                                                  (LitP NullLit)
+                                                  (BlockE
+                                                    (LetD
+                                                      WildP
+                                                      (AssignE
+                                                        (VarLE prev)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                    (AssignE
+                                                      (VarLE crntNode)
+                                                      (PrimE
+                                                        (CallPrim)
+                                                        (VarE advanceListNode)
+                                                        (VarE! crntNode)
+                                                      )
+                                                    )
+                                                  )
+                                                )
+                                              )
+                                            )
+                                            (SwitchE
+                                              (VarE! crntNode)
+                                              (case
+                                                (OptP (VarP crntNode))
+                                                (PrimE TupPrim)
+                                              )
+                                              (case
+                                                (LitP NullLit)
+                                                (PrimE
+                                                  (BreakPrim findLoop)
+                                                  (PrimE TupPrim)
+                                                )
+                                              )
+                                            )
+                                          )
+                                        )
+                                      )
+                                    )
+                                  )
+                                  (PrimE TupPrim)
+                                )
+                              )
+                              (AssignE
+                                (VarLE i)
+                                (PrimE
+                                  (BinPrim Nat AddOp)
+                                  (VarE! i)
+                                  (LitE (NatLit 1))
+                                )
+                              )
+                            )
+                            (PrimE (BreakPrim $done/1) (PrimE TupPrim))
+                          )
+                        )
+                      )
+                    )
+                  )
+                )
+                (NewObjE
+                  Object
+                  (size size)
+                  (pruneDeadBlobs pruneDeadBlobs)
+                  (nextDeadBlob nextDeadBlob)
+                  (isBlobLive isBlobLive)
+                  {isBlobLive : Blob -> Bool; nextDeadBlob : () -> Blob; pruneDeadBlobs : [Blob] -> (); size : () -> Nat}
+                )
+              )
+            )
+            (VarE @anon-object-138.41)
+          )
+        )
+      )
+      (LetD
+        (VarP getDeadBlobs)
+        (FuncE
+          getDeadBlobs
+          Local
+          Returns
+          ?[Blob]
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (LetD
+                    (VarP numDeadBlobs)
+                    (PrimE
+                      (CallPrim)
+                      (PrimE (DotPrim size) (VarE dedupTableIter))
+                      (PrimE TupPrim)
+                    )
+                  )
+                  (LetD
+                    (VarP deadBlobs)
+                    (PrimE
+                      (CallPrim Blob)
+                      (VarE Array_tabulate)
+                      (PrimE
+                        TupPrim
+                        (VarE numDeadBlobs)
+                        (FuncE
+                          @anon-func-355.58
+                          Local
+                          Returns
+                          (params i)
+                          Blob
+                          (PrimE
+                            (CallPrim)
+                            (PrimE (DotPrim nextDeadBlob) (VarE dedupTableIter))
+                            (PrimE TupPrim)
+                          )
+                        )
+                      )
+                    )
+                  )
+                  (PrimE RetPrim (PrimE OptPrim (VarE deadBlobs)))
+                )
+              )
+              (case (LitP NullLit) (PrimE RetPrim (LitE NullLit)))
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP pruneConfirmedDeadBlobs)
+        (FuncE
+          pruneConfirmedDeadBlobs
+          Local
+          Returns
+          (params confirmedDeadBlobs)
+          ()
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP dedupTableIter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim pruneDeadBlobs) (VarE dedupTableIter))
+                    (VarE confirmedDeadBlobs)
+                  )
+                )
+              )
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP isStorageBlobLive)
+        (FuncE
+          isStorageBlobLive
+          Local
+          Returns
+          (params b)
+          Bool
+          (BlockE
+            (LetD
+              (VarP dedupTableOption)
+              (PrimE (CallPrim) (VarE __getDedupTable) (PrimE TupPrim))
+            )
+            (SwitchE
+              (VarE dedupTableOption)
+              (case
+                (OptP (VarP dedupTable))
+                (BlockE
+                  (LetD
+                    (VarP iter)
+                    (PrimE (CallPrim) (VarE BlobIterator) (VarE dedupTable))
+                  )
+                  (PrimE
+                    (CallPrim)
+                    (PrimE (DotPrim isBlobLive) (VarE iter))
+                    (VarE b)
+                  )
+                )
+              )
+              (case (LitP NullLit) (LitE (BoolLit false)))
+            )
+          )
+        )
+      )
+      (LetD (VarP int64ToInt) (VarE @int64ToInt))
+      (LetD (VarP int32ToInt) (VarE @int32ToInt))
+      (LetD (VarP int16ToInt) (VarE @int16ToInt))
+      (LetD (VarP int8ToInt) (VarE @int8ToInt))
+      (LetD (VarP nat64ToNat) (VarE @nat64ToNat))
+      (LetD (VarP nat32ToNat) (VarE @nat32ToNat))
+      (LetD (VarP nat16ToNat) (VarE @nat16ToNat))
+      (LetD (VarP nat8ToNat) (VarE @nat8ToNat))
+      (LetD
+        (VarP intToInt64)
+        (FuncE
+          intToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32)
+        (FuncE
+          intToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16)
+        (FuncE
+          intToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8)
+        (FuncE
+          intToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat64)
+        (FuncE
+          natToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat32)
+        (FuncE
+          natToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat16)
+        (FuncE
+          natToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP natToNat8)
+        (FuncE
+          natToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt64Wrap)
+        (FuncE
+          intToInt64Wrap
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Int Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt32Wrap)
+        (FuncE
+          intToInt32Wrap
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Int Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt16Wrap)
+        (FuncE
+          intToInt16Wrap
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Int Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToInt8Wrap)
+        (FuncE
+          intToInt8Wrap
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Int Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat64Wrap)
+        (FuncE
+          intToNat64Wrap
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat32Wrap)
+        (FuncE
+          intToNat32Wrap
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat16Wrap)
+        (FuncE
+          intToNat16Wrap
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP intToNat8Wrap)
+        (FuncE
+          intToNat8Wrap
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToNat64)
+        (FuncE
+          int64ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvWrapPrim Int64 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToInt64)
+        (FuncE
+          nat64ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvWrapPrim Nat64 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToNat32)
+        (FuncE
+          int32ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvWrapPrim Int32 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToInt32)
+        (FuncE
+          nat32ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvWrapPrim Nat32 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToNat16)
+        (FuncE
+          int16ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvWrapPrim Int16 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToInt16)
+        (FuncE
+          nat16ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvWrapPrim Nat16 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToNat8)
+        (FuncE
+          int8ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvWrapPrim Int8 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToInt8)
+        (FuncE
+          nat8ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvWrapPrim Nat8 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat8ToNat16)
+        (FuncE
+          nat8ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat8 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat32)
+        (FuncE
+          nat16ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat16 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat64)
+        (FuncE
+          nat32ToNat64
+          Local
+          Returns
+          (params n)
+          Nat64
+          (PrimE (NumConvTrapPrim Nat32 Nat64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat64ToNat32)
+        (FuncE
+          nat64ToNat32
+          Local
+          Returns
+          (params n)
+          Nat32
+          (PrimE (NumConvTrapPrim Nat64 Nat32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat32ToNat16)
+        (FuncE
+          nat32ToNat16
+          Local
+          Returns
+          (params n)
+          Nat16
+          (PrimE (NumConvTrapPrim Nat32 Nat16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP nat16ToNat8)
+        (FuncE
+          nat16ToNat8
+          Local
+          Returns
+          (params n)
+          Nat8
+          (PrimE (NumConvTrapPrim Nat16 Nat8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int8ToInt16)
+        (FuncE
+          int8ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int8 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt32)
+        (FuncE
+          int16ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int16 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt64)
+        (FuncE
+          int32ToInt64
+          Local
+          Returns
+          (params n)
+          Int64
+          (PrimE (NumConvTrapPrim Int32 Int64) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int64ToInt32)
+        (FuncE
+          int64ToInt32
+          Local
+          Returns
+          (params n)
+          Int32
+          (PrimE (NumConvTrapPrim Int64 Int32) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int32ToInt16)
+        (FuncE
+          int32ToInt16
+          Local
+          Returns
+          (params n)
+          Int16
+          (PrimE (NumConvTrapPrim Int32 Int16) (VarE n))
+        )
+      )
+      (LetD
+        (VarP int16ToInt8)
+        (FuncE
+          int16ToInt8
+          Local
+          Returns
+          (params n)
+          Int8
+          (PrimE (NumConvTrapPrim Int16 Int8) (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat16)
+        (FuncE
+          explodeNat16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Nat16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt16)
+        (FuncE
+          explodeInt16
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8)
+          (PrimE explode_Int16 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat32)
+        (FuncE
+          explodeNat32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt32)
+        (FuncE
+          explodeInt32
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int32 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeNat64)
+        (FuncE
+          explodeNat64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Nat64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP explodeInt64)
+        (FuncE
+          explodeInt64
+          Local
+          Returns
+          (params n)
+          (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8)
+          (PrimE explode_Int64 (VarE n))
+        )
+      )
+      (LetD
+        (VarP charToNat32)
+        (FuncE
+          charToNat32
+          Local
+          Returns
+          (params c)
+          Nat32
+          (PrimE (NumConvWrapPrim Char Nat32) (VarE c))
+        )
+      )
+      (LetD
+        (VarP nat32ToChar)
+        (FuncE
+          nat32ToChar
+          Local
+          Returns
+          (params w)
+          Char
+          (PrimE (NumConvTrapPrim Nat32 Char) (VarE w))
+        )
+      )
+      (LetD
+        (VarP charToText)
+        (FuncE
+          charToText
+          Local
+          Returns
+          (params c)
+          Text
+          (PrimE conv_Char_Text (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToUpper)
+        (FuncE
+          charToUpper
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_upper (VarE c))
+        )
+      )
+      (LetD
+        (VarP charToLower)
+        (FuncE
+          charToLower
+          Local
+          Returns
+          (params c)
+          Char
+          (PrimE char_to_lower (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsWhitespace)
+        (FuncE
+          charIsWhitespace
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_whitespace (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsLowercase)
+        (FuncE
+          charIsLowercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_lowercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsUppercase)
+        (FuncE
+          charIsUppercase
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_uppercase (VarE c))
+        )
+      )
+      (LetD
+        (VarP charIsAlphabetic)
+        (FuncE
+          charIsAlphabetic
+          Local
+          Returns
+          (params c)
+          Bool
+          (PrimE char_is_alphabetic (VarE c))
+        )
+      )
+      (LetD
+        (VarP blobCompare)
+        (FuncE
+          blobCompare
+          Local
+          Returns
+          (params b1 b2)
+          Int8
+          (PrimE blob_compare (VarE b1) (VarE b2))
+        )
+      )
+      (LetD
+        (VarP hashBlob)
+        (FuncE
+          hashBlob
+          Local
+          Returns
+          (params b)
+          Nat32
+          (PrimE crc32Hash (VarE b))
+        )
+      )
+      (LetD
+        (VarP decodeUtf8)
+        (FuncE
+          decodeUtf8
+          Local
+          Returns
+          (params b)
+          ?Text
+          (PrimE DecodeUtf8 (VarE b))
+        )
+      )
+      (LetD
+        (VarP encodeUtf8)
+        (FuncE
+          encodeUtf8
+          Local
+          Returns
+          (params t)
+          Blob
+          (PrimE EncodeUtf8 (VarE t))
+        )
+      )
+      (LetD
+        (VarP textCompare)
+        (FuncE
+          textCompare
+          Local
+          Returns
+          (params t1 t2)
+          Int8
+          (PrimE text_compare (VarE t1) (VarE t2))
+        )
+      )
+      (LetD
+        (VarP textLowercase)
+        (FuncE
+          textLowercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_lowercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP textUppercase)
+        (FuncE
+          textUppercase
+          Local
+          Returns
+          (params t)
+          Text
+          (PrimE text_uppercase (VarE t))
+        )
+      )
+      (LetD
+        (VarP popcntNat8)
+        (FuncE
+          popcntNat8
+          Local
+          Returns
+          (params w)
+          Nat8
+          (PrimE popcnt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat8)
+        (FuncE clzNat8 Local Returns (params w) Nat8 (PrimE clz8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat8)
+        (FuncE ctzNat8 Local Returns (params w) Nat8 (PrimE ctz8 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat8)
+        (FuncE
+          btstNat8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat8 EqOp)
+              (PrimE btst8 (VarE w) (VarE amount))
+              (LitE (Nat8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat16)
+        (FuncE
+          popcntNat16
+          Local
+          Returns
+          (params w)
+          Nat16
+          (PrimE popcnt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat16)
+        (FuncE clzNat16 Local Returns (params w) Nat16 (PrimE clz16 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat16)
+        (FuncE ctzNat16 Local Returns (params w) Nat16 (PrimE ctz16 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat16)
+        (FuncE
+          btstNat16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat16 EqOp)
+              (PrimE btst16 (VarE w) (VarE amount))
+              (LitE (Nat16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat32)
+        (FuncE
+          popcntNat32
+          Local
+          Returns
+          (params w)
+          Nat32
+          (PrimE popcnt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat32)
+        (FuncE clzNat32 Local Returns (params w) Nat32 (PrimE clz32 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat32)
+        (FuncE ctzNat32 Local Returns (params w) Nat32 (PrimE ctz32 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat32)
+        (FuncE
+          btstNat32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat32 EqOp)
+              (PrimE btst32 (VarE w) (VarE amount))
+              (LitE (Nat32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntNat64)
+        (FuncE
+          popcntNat64
+          Local
+          Returns
+          (params w)
+          Nat64
+          (PrimE popcnt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzNat64)
+        (FuncE clzNat64 Local Returns (params w) Nat64 (PrimE clz64 (VarE w)))
+      )
+      (LetD
+        (VarP ctzNat64)
+        (FuncE ctzNat64 Local Returns (params w) Nat64 (PrimE ctz64 (VarE w)))
+      )
+      (LetD
+        (VarP btstNat64)
+        (FuncE
+          btstNat64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Nat64 EqOp)
+              (PrimE btst64 (VarE w) (VarE amount))
+              (LitE (Nat64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt8)
+        (FuncE
+          popcntInt8
+          Local
+          Returns
+          (params w)
+          Int8
+          (PrimE popcntInt8 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt8)
+        (FuncE clzInt8 Local Returns (params w) Int8 (PrimE clzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP ctzInt8)
+        (FuncE ctzInt8 Local Returns (params w) Int8 (PrimE ctzInt8 (VarE w)))
+      )
+      (LetD
+        (VarP btstInt8)
+        (FuncE
+          btstInt8
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int8 EqOp)
+              (PrimE btstInt8 (VarE w) (VarE amount))
+              (LitE (Int8Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt16)
+        (FuncE
+          popcntInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE popcntInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt16)
+        (FuncE
+          clzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE clzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt16)
+        (FuncE
+          ctzInt16
+          Local
+          Returns
+          (params w)
+          Int16
+          (PrimE ctzInt16 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt16)
+        (FuncE
+          btstInt16
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int16 EqOp)
+              (PrimE btstInt16 (VarE w) (VarE amount))
+              (LitE (Int16Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt32)
+        (FuncE
+          popcntInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE popcntInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt32)
+        (FuncE
+          clzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE clzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt32)
+        (FuncE
+          ctzInt32
+          Local
+          Returns
+          (params w)
+          Int32
+          (PrimE ctzInt32 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt32)
+        (FuncE
+          btstInt32
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int32 EqOp)
+              (PrimE btstInt32 (VarE w) (VarE amount))
+              (LitE (Int32Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP popcntInt64)
+        (FuncE
+          popcntInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE popcntInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP clzInt64)
+        (FuncE
+          clzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE clzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP ctzInt64)
+        (FuncE
+          ctzInt64
+          Local
+          Returns
+          (params w)
+          Int64
+          (PrimE ctzInt64 (VarE w))
+        )
+      )
+      (LetD
+        (VarP btstInt64)
+        (FuncE
+          btstInt64
+          Local
+          Returns
+          (params w amount)
+          Bool
+          (PrimE
+            (RelPrim Bool EqOp)
+            (PrimE
+              (RelPrim Int64 EqOp)
+              (PrimE btstInt64 (VarE w) (VarE amount))
+              (LitE (Int64Lit 0))
+            )
+            (LitE (BoolLit false))
+          )
+        )
+      )
+      (LetD
+        (VarP floatAbs)
+        (FuncE floatAbs Local Returns (params f) Float (PrimE fabs (VarE f)))
+      )
+      (LetD
+        (VarP floatSqrt)
+        (FuncE floatSqrt Local Returns (params f) Float (PrimE fsqrt (VarE f)))
+      )
+      (LetD
+        (VarP floatCeil)
+        (FuncE floatCeil Local Returns (params f) Float (PrimE fceil (VarE f)))
+      )
+      (LetD
+        (VarP floatFloor)
+        (FuncE
+          floatFloor
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ffloor (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatTrunc)
+        (FuncE
+          floatTrunc
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE ftrunc (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatNearest)
+        (FuncE
+          floatNearest
+          Local
+          Returns
+          (params f)
+          Float
+          (PrimE fnearest (VarE f))
+        )
+      )
+      (LetD
+        (VarP floatMin)
+        (FuncE
+          floatMin
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmin (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatMax)
+        (FuncE
+          floatMax
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fmax (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatCopySign)
+        (FuncE
+          floatCopySign
+          Local
+          Returns
+          (params f g)
+          Float
+          (PrimE fcopysign (VarE f) (VarE g))
+        )
+      )
+      (LetD
+        (VarP floatToInt)
+        (FuncE
+          floatToInt
+          Local
+          Returns
+          (params f)
+          Int
+          (PrimE (NumConvTrapPrim Float Int) (VarE f))
+        )
+      )
+      (LetD
+        (VarP intToFloat)
+        (FuncE
+          intToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int Float) (VarE n))
+        )
+      )
+      (LetD
+        (VarP floatToInt64)
+        (FuncE
+          floatToInt64
+          Local
+          Returns
+          (params f)
+          Int64
+          (PrimE (NumConvTrapPrim Float Int64) (VarE f))
+        )
+      )
+      (LetD
+        (VarP int64ToFloat)
+        (FuncE
+          int64ToFloat
+          Local
+          Returns
+          (params n)
+          Float
+          (PrimE (NumConvTrapPrim Int64 Float) (VarE n))
+        )
+      )
+      (LetD (VarP floatToText) (VarE @text_of_Float))
+      (LetD
+        (VarP floatToFormattedText)
+        (FuncE
+          floatToFormattedText
+          Local
+          Returns
+          (params f prec mode)
+          Text
+          (PrimE fmtFloat->Text (VarE f) (VarE prec) (VarE mode))
+        )
+      )
+      (LetD
+        (VarP sin)
+        (FuncE sin Local Returns (params f) Float (PrimE fsin (VarE f)))
+      )
+      (LetD
+        (VarP cos)
+        (FuncE cos Local Returns (params f) Float (PrimE fcos (VarE f)))
+      )
+      (LetD
+        (VarP tan)
+        (FuncE tan Local Returns (params f) Float (PrimE ftan (VarE f)))
+      )
+      (LetD
+        (VarP arcsin)
+        (FuncE arcsin Local Returns (params f) Float (PrimE fasin (VarE f)))
+      )
+      (LetD
+        (VarP arccos)
+        (FuncE arccos Local Returns (params f) Float (PrimE facos (VarE f)))
+      )
+      (LetD
+        (VarP arctan)
+        (FuncE arctan Local Returns (params f) Float (PrimE fatan (VarE f)))
+      )
+      (LetD
+        (VarP arctan2)
+        (FuncE
+          arctan2
+          Local
+          Returns
+          (params y x)
+          Float
+          (PrimE fatan2 (VarE y) (VarE x))
+        )
+      )
+      (LetD
+        (VarP exp)
+        (FuncE exp Local Returns (params f) Float (PrimE fexp (VarE f)))
+      )
+      (LetD
+        (VarP log)
+        (FuncE log Local Returns (params f) Float (PrimE flog (VarE f)))
+      )
+      (LetD
+        (VarP Array_init)
+        (FuncE
+          Array_init
+          Local
+          Returns
+          (T Any)
+          (params len x)
+          [var T]
+          (PrimE Array.init (VarE len) (VarE x))
+        )
+      )
+      (LetD
+        (VarP Array_tabulate)
+        (FuncE
+          Array_tabulate
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [T]
+          (PrimE Array.tabulate (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP Array_tabulateVar)
+        (FuncE
+          Array_tabulateVar
+          Local
+          Returns
+          (T Any)
+          (params len gen)
+          [var T]
+          (PrimE Array.tabulateVar (VarE len) (VarE gen))
+        )
+      )
+      (LetD
+        (VarP blobToArray)
+        (FuncE
+          blobToArray
+          Local
+          Returns
+          (params b)
+          [Nat8]
+          (PrimE blobToArray (VarE b))
+        )
+      )
+      (LetD
+        (VarP blobToArrayMut)
+        (FuncE
+          blobToArrayMut
+          Local
+          Returns
+          (params b)
+          [var Nat8]
+          (PrimE blobToArrayMut (VarE b))
+        )
+      )
+      (LetD
+        (VarP arrayToBlob)
+        (FuncE
+          arrayToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP arrayMutToBlob)
+        (FuncE
+          arrayMutToBlob
+          Local
+          Returns
+          (params a)
+          Blob
+          (PrimE arrayMutToBlob (VarE a))
+        )
+      )
+      (LetD
+        (VarP error)
+        (FuncE
+          error
+          Local
+          Returns
+          (params message)
+          Error
+          (BlockE
+            (LetD
+              (VarP e)
+              (PrimE
+                TupPrim
+                (PrimE (TagE canister_reject) (PrimE TupPrim))
+                (VarE message)
+              )
+            )
+            (PrimE (CastPrim (ErrorCode, Text) Error) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorCode)
+        (FuncE
+          errorCode
+          Local
+          Returns
+          (params e)
+          ErrorCode
+          (PrimE
+            (ProjPrim 0)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP errorMessage)
+        (FuncE
+          errorMessage
+          Local
+          Returns
+          (params e)
+          Text
+          (PrimE
+            (ProjPrim 1)
+            (PrimE (CastPrim Error (ErrorCode, Text)) (VarE e))
+          )
+        )
+      )
+      (LetD
+        (VarP replyDeadline)
+        (FuncE replyDeadline Local Returns Nat64 (PrimE ICReplyDeadlinePrim))
+      )
+      (LetD (VarP time) (FuncE time Local Returns Nat64 (PrimE SystemTimePrim)))
+      (LetD
+        (VarP blobOfPrincipal)
+        (FuncE
+          blobOfPrincipal
+          Local
+          Returns
+          (params id)
+          Blob
+          (PrimE blobOfPrincipal (VarE id))
+        )
+      )
+      (LetD
+        (VarP principalOfBlob)
+        (FuncE
+          principalOfBlob
+          Local
+          Returns
+          (params act)
+          Principal
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE
+                  (RelPrim Nat GtOp)
+                  (PrimE blob_size (VarE act))
+                  (LitE (NatLit 29))
+                )
+                (PrimE
+                  (CallPrim)
+                  (VarE trap)
+                  (LitE (TextLit blob too long for principal))
+                )
+                (PrimE TupPrim)
+              )
+            )
+            (PrimE principalOfBlob (VarE act))
+          )
+        )
+      )
+      (LetD
+        (VarP principalOfActor)
+        (FuncE
+          principalOfActor
+          Local
+          Returns
+          (params act)
+          Principal
+          (PrimE principalOfActor (VarE act))
+        )
+      )
+      (LetD
+        (VarP isController)
+        (FuncE
+          isController
+          Local
+          Returns
+          (params p)
+          Bool
+          (PrimE is_controller (VarE p))
+        )
+      )
+      (LetD
+        (VarP isReplicatedExecution)
+        (FuncE
+          isReplicatedExecution
+          Local
+          Returns
+          Bool
+          (PrimE replicated_execution)
+        )
+      )
+      (LetD
+        (VarP canisterVersion)
+        (FuncE canisterVersion Local Returns Nat64 (PrimE canister_version))
+      )
+      (LetD
+        (VarP canisterSubnet)
+        (FuncE canisterSubnet Local Returns Principal (PrimE canister_subnet))
+      )
+      (LetD (VarP rootKey) (FuncE rootKey Local Returns Blob (PrimE root_key)))
+      (LetD
+        (VarP getSelfPrincipal)
+        (FuncE
+          getSelfPrincipal
+          Local
+          Returns
+          ($ Any)
+          Principal
+          (PrimE canister_self)
+        )
+      )
+      (LetD (VarP createActor) (VarE @create_actor_helper))
+      (LetD
+        (VarP cyclesBalance)
+        (FuncE cyclesBalance Local Returns Nat (PrimE SystemCyclesBalancePrim))
+      )
+      (LetD
+        (VarP cyclesAvailable)
+        (FuncE
+          cyclesAvailable
+          Local
+          Returns
+          Nat
+          (PrimE SystemCyclesAvailablePrim)
+        )
+      )
+      (LetD
+        (VarP cyclesRefunded)
+        (FuncE cyclesRefunded Local Returns Nat (VarE! @refund))
+      )
+      (LetD
+        (VarP cyclesAccept)
+        (FuncE
+          cyclesAccept
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesAcceptPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP cyclesAdd)
+        (FuncE
+          cyclesAdd
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          ()
+          (BlockE
+            (LetD
+              WildP
+              (IfE
+                (PrimE (RelPrim Nat EqOp) (VarE amount) (LitE (NatLit 0)))
+                (PrimE RetPrim (PrimE TupPrim))
+                (PrimE TupPrim)
+              )
+            )
+            (LetD
+              WildP
+              (AssignE
+                (VarLE @cycles)
+                (PrimE (BinPrim Nat AddOp) (VarE! @cycles) (VarE amount))
+              )
+            )
+            (IfE
+              (PrimE
+                (RelPrim Nat GtOp)
+                (VarE! @cycles)
+                (LitE
+                  (NatLit 340_282_366_920_938_463_463_374_607_431_768_211_455)
+                )
+              )
+              (PrimE
+                (CallPrim)
+                (VarE trap)
+                (LitE (TextLit cannot add more than 2^128 cycles))
+              )
+              (PrimE TupPrim)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP cyclesBurn)
+        (FuncE
+          cyclesBurn
+          Local
+          Returns
+          ($ Any)
+          (params amount)
+          Nat
+          (PrimE SystemCyclesBurnPrim (VarE amount))
+        )
+      )
+      (LetD
+        (VarP costCall)
+        (FuncE
+          costCall
+          Local
+          Returns
+          (params methodNameSize payloadSize)
+          Nat
+          (PrimE costCall (VarE methodNameSize) (VarE payloadSize))
+        )
+      )
+      (LetD
+        (VarP costCreateCanister)
+        (FuncE costCreateCanister Local Returns Nat (PrimE costCreateCanister))
+      )
+      (LetD
+        (VarP costHttpRequest)
+        (FuncE
+          costHttpRequest
+          Local
+          Returns
+          (params requestSize maxResBytes)
+          Nat
+          (PrimE costHttpRequest (VarE requestSize) (VarE maxResBytes))
+        )
+      )
+      (LetD
+        (VarP costSignWithEcdsa)
+        (FuncE
+          costSignWithEcdsa
+          Local
+          Returns
+          (params keyName curveEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithEcdsa (VarE keyName) (VarE curveEncoding))
+        )
+      )
+      (LetD
+        (VarP costSignWithSchnorr)
+        (FuncE
+          costSignWithSchnorr
+          Local
+          Returns
+          (params keyName algorithmEncoding)
+          (Nat32, Nat)
+          (PrimE costSignWithSchnorr (VarE keyName) (VarE algorithmEncoding))
+        )
+      )
+      (LetD
+        (VarP setCertifiedData)
+        (FuncE
+          setCertifiedData
+          Local
+          Returns
+          (params data)
+          ()
+          (PrimE SetCertifiedData (VarE data))
+        )
+      )
+      (LetD
+        (VarP getCertificate)
+        (FuncE getCertificate Local Returns ?Blob (PrimE GetCertificate))
+      )
+      (LetD
+        (VarP stableMemorySize)
+        (FuncE stableMemorySize Local Returns Nat64 (PrimE stableMemorySize))
+      )
+      (LetD
+        (VarP stableMemoryGrow)
+        (FuncE
+          stableMemoryGrow
+          Local
+          Returns
+          (params pages)
+          Nat64
+          (PrimE stableMemoryGrow (VarE pages))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat32)
+        (FuncE
+          stableMemoryLoadNat32
+          Local
+          Returns
+          (params offset)
+          Nat32
+          (PrimE stableMemoryLoadNat32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat32)
+        (FuncE
+          stableMemoryStoreNat32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat8)
+        (FuncE
+          stableMemoryLoadNat8
+          Local
+          Returns
+          (params offset)
+          Nat8
+          (PrimE stableMemoryLoadNat8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat8)
+        (FuncE
+          stableMemoryStoreNat8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat16)
+        (FuncE
+          stableMemoryLoadNat16
+          Local
+          Returns
+          (params offset)
+          Nat16
+          (PrimE stableMemoryLoadNat16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat16)
+        (FuncE
+          stableMemoryStoreNat16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadNat64)
+        (FuncE
+          stableMemoryLoadNat64
+          Local
+          Returns
+          (params offset)
+          Nat64
+          (PrimE stableMemoryLoadNat64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreNat64)
+        (FuncE
+          stableMemoryStoreNat64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreNat64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt32)
+        (FuncE
+          stableMemoryLoadInt32
+          Local
+          Returns
+          (params offset)
+          Int32
+          (PrimE stableMemoryLoadInt32 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt32)
+        (FuncE
+          stableMemoryStoreInt32
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt32 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt8)
+        (FuncE
+          stableMemoryLoadInt8
+          Local
+          Returns
+          (params offset)
+          Int8
+          (PrimE stableMemoryLoadInt8 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt8)
+        (FuncE
+          stableMemoryStoreInt8
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt8 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt16)
+        (FuncE
+          stableMemoryLoadInt16
+          Local
+          Returns
+          (params offset)
+          Int16
+          (PrimE stableMemoryLoadInt16 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt16)
+        (FuncE
+          stableMemoryStoreInt16
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt16 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadInt64)
+        (FuncE
+          stableMemoryLoadInt64
+          Local
+          Returns
+          (params offset)
+          Int64
+          (PrimE stableMemoryLoadInt64 (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreInt64)
+        (FuncE
+          stableMemoryStoreInt64
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreInt64 (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadFloat)
+        (FuncE
+          stableMemoryLoadFloat
+          Local
+          Returns
+          (params offset)
+          Float
+          (PrimE stableMemoryLoadFloat (VarE offset))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreFloat)
+        (FuncE
+          stableMemoryStoreFloat
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreFloat (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableMemoryLoadBlob)
+        (FuncE
+          stableMemoryLoadBlob
+          Local
+          Returns
+          (params offset size)
+          Blob
+          (PrimE stableMemoryLoadBlob (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP stableMemoryStoreBlob)
+        (FuncE
+          stableMemoryStoreBlob
+          Local
+          Returns
+          (params offset val)
+          ()
+          (PrimE stableMemoryStoreBlob (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP stableVarQuery)
+        (FuncE
+          stableVarQuery
+          Local
+          Returns
+          shared query <system>() -> replies {size : Nat64}
+          (PrimE stableVarQuery)
+        )
+      )
+      (LetD
+        (VarP regionNew)
+        (FuncE regionNew Local Returns Region (PrimE regionNew))
+      )
+      (LetD
+        (VarP regionId)
+        (FuncE regionId Local Returns (params r) Nat (PrimE regionId (VarE r)))
+      )
+      (LetD
+        (VarP regionSize)
+        (FuncE
+          regionSize
+          Local
+          Returns
+          (params r)
+          Nat64
+          (PrimE regionSize (VarE r))
+        )
+      )
+      (LetD
+        (VarP regionGrow)
+        (FuncE
+          regionGrow
+          Local
+          Returns
+          (params r pages)
+          Nat64
+          (PrimE regionGrow (VarE r) (VarE pages))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat32)
+        (FuncE
+          regionLoadNat32
+          Local
+          Returns
+          (params r offset)
+          Nat32
+          (PrimE regionLoadNat32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat32)
+        (FuncE
+          regionStoreNat32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat8)
+        (FuncE
+          regionLoadNat8
+          Local
+          Returns
+          (params r offset)
+          Nat8
+          (PrimE regionLoadNat8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat8)
+        (FuncE
+          regionStoreNat8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat16)
+        (FuncE
+          regionLoadNat16
+          Local
+          Returns
+          (params r offset)
+          Nat16
+          (PrimE regionLoadNat16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat16)
+        (FuncE
+          regionStoreNat16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadNat64)
+        (FuncE
+          regionLoadNat64
+          Local
+          Returns
+          (params r offset)
+          Nat64
+          (PrimE regionLoadNat64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreNat64)
+        (FuncE
+          regionStoreNat64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreNat64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt32)
+        (FuncE
+          regionLoadInt32
+          Local
+          Returns
+          (params r offset)
+          Int32
+          (PrimE regionLoadInt32 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt32)
+        (FuncE
+          regionStoreInt32
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt32 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt8)
+        (FuncE
+          regionLoadInt8
+          Local
+          Returns
+          (params r offset)
+          Int8
+          (PrimE regionLoadInt8 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt8)
+        (FuncE
+          regionStoreInt8
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt8 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt16)
+        (FuncE
+          regionLoadInt16
+          Local
+          Returns
+          (params r offset)
+          Int16
+          (PrimE regionLoadInt16 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt16)
+        (FuncE
+          regionStoreInt16
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt16 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadInt64)
+        (FuncE
+          regionLoadInt64
+          Local
+          Returns
+          (params r offset)
+          Int64
+          (PrimE regionLoadInt64 (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreInt64)
+        (FuncE
+          regionStoreInt64
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreInt64 (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadFloat)
+        (FuncE
+          regionLoadFloat
+          Local
+          Returns
+          (params r offset)
+          Float
+          (PrimE regionLoadFloat (VarE r) (VarE offset))
+        )
+      )
+      (LetD
+        (VarP regionStoreFloat)
+        (FuncE
+          regionStoreFloat
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreFloat (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD
+        (VarP regionLoadBlob)
+        (FuncE
+          regionLoadBlob
+          Local
+          Returns
+          (params r offset size)
+          Blob
+          (PrimE regionLoadBlob (VarE r) (VarE offset) (VarE size))
+        )
+      )
+      (LetD
+        (VarP regionStoreBlob)
+        (FuncE
+          regionStoreBlob
+          Local
+          Returns
+          (params r offset val)
+          ()
+          (PrimE regionStoreBlob (VarE r) (VarE offset) (VarE val))
+        )
+      )
+      (LetD (VarP call_raw) (VarE @call_raw))
+      (LetD
+        (VarP performanceCounter)
+        (FuncE
+          performanceCounter
+          Local
+          Returns
+          (params counter)
+          Nat64
+          (PrimE performanceCounter (VarE counter))
+        )
+      )
+      (LetD
+        (VarP setCandidLimits)
+        (FuncE
+          setCandidLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/0)
+          ()
+          (BlockE
+            (LetD
+              (ObjP
+                (numerator (VarP numerator))
+                (denominator (VarP denominator))
+                (bias (VarP bias))
+              )
+              (VarE $param/0)
+            )
+            (PrimE
+              setCandidLimits
+              (VarE numerator)
+              (VarE denominator)
+              (VarE bias)
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidLimits)
+        (FuncE
+          getCandidLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; denominator : Nat32; numerator : Nat32}
+          (BlockE
+            (LetD
+              (TupP (VarP numerator) (VarP denominator) (VarP bias))
+              (PrimE getCandidLimits)
+            )
+            (NewObjE
+              Object
+              (bias bias)
+              (denominator denominator)
+              (numerator numerator)
+              {bias : Nat32; denominator : Nat32; numerator : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP setCandidTypeLimits)
+        (FuncE
+          setCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          (params $param/1)
+          ()
+          (BlockE
+            (LetD
+              (ObjP (scalar (VarP scalar)) (bias (VarP bias)))
+              (VarE $param/1)
+            )
+            (PrimE setCandidTypeLimits (VarE scalar) (VarE bias))
+          )
+        )
+      )
+      (LetD
+        (VarP getCandidTypeLimits)
+        (FuncE
+          getCandidTypeLimits
+          Local
+          Returns
+          ($ Any)
+          {bias : Nat32; scalar : Nat32}
+          (BlockE
+            (LetD (TupP (VarP scalar) (VarP bias)) (PrimE getCandidTypeLimits))
+            (NewObjE
+              Object
+              (bias bias)
+              (scalar scalar)
+              {bias : Nat32; scalar : Nat32}
+            )
+          )
+        )
+      )
+      (LetD
+        (VarP forall)
+        (FuncE
+          forall
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE forall (VarE f))
+        )
+      )
+      (LetD
+        (VarP exists)
+        (FuncE
+          exists
+          Local
+          Returns
+          (T Any)
+          (params f)
+          Bool
+          (PrimE exists (VarE f))
+        )
+      )
+      (LetD (VarP setTimer) (VarE @setTimer))
+      (LetD (VarP cancelTimer) (VarE @cancelTimer))
+      (NewObjE
+        Module
+        (weakGet weakGet)
+        (trap trap)
+        (time time)
+        (textUppercase textUppercase)
+        (textLowercase textLowercase)
+        (textCompare textCompare)
+        (tan tan)
+        (stableVarQuery stableVarQuery)
+        (stableMemoryStoreNat8 stableMemoryStoreNat8)
+        (stableMemoryStoreNat64 stableMemoryStoreNat64)
+        (stableMemoryStoreNat32 stableMemoryStoreNat32)
+        (stableMemoryStoreNat16 stableMemoryStoreNat16)
+        (stableMemoryStoreInt8 stableMemoryStoreInt8)
+        (stableMemoryStoreInt64 stableMemoryStoreInt64)
+        (stableMemoryStoreInt32 stableMemoryStoreInt32)
+        (stableMemoryStoreInt16 stableMemoryStoreInt16)
+        (stableMemoryStoreFloat stableMemoryStoreFloat)
+        (stableMemoryStoreBlob stableMemoryStoreBlob)
+        (stableMemorySize stableMemorySize)
+        (stableMemoryLoadNat8 stableMemoryLoadNat8)
+        (stableMemoryLoadNat64 stableMemoryLoadNat64)
+        (stableMemoryLoadNat32 stableMemoryLoadNat32)
+        (stableMemoryLoadNat16 stableMemoryLoadNat16)
+        (stableMemoryLoadInt8 stableMemoryLoadInt8)
+        (stableMemoryLoadInt64 stableMemoryLoadInt64)
+        (stableMemoryLoadInt32 stableMemoryLoadInt32)
+        (stableMemoryLoadInt16 stableMemoryLoadInt16)
+        (stableMemoryLoadFloat stableMemoryLoadFloat)
+        (stableMemoryLoadBlob stableMemoryLoadBlob)
+        (stableMemoryGrow stableMemoryGrow)
+        (sin sin)
+        (shiftRight shiftRight)
+        (shiftLeft shiftLeft)
+        (setTimer setTimer)
+        (setCertifiedData setCertifiedData)
+        (setCandidTypeLimits setCandidTypeLimits)
+        (setCandidLimits setCandidLimits)
+        (rts_version rts_version)
+        (rts_upgrade_instructions rts_upgrade_instructions)
+        (rts_total_allocation rts_total_allocation)
+        (rts_stable_memory_size rts_stable_memory_size)
+        (rts_reclaimed rts_reclaimed)
+        (rts_mutator_instructions rts_mutator_instructions)
+        (rts_memory_size rts_memory_size)
+        (rts_max_stack_size rts_max_stack_size)
+        (rts_max_live_size rts_max_live_size)
+        (rts_logical_stable_memory_size rts_logical_stable_memory_size)
+        (rts_lifetime_instructions rts_lifetime_instructions)
+        (rts_heap_size rts_heap_size)
+        (rts_collector_instructions rts_collector_instructions)
+        (rts_callback_table_size rts_callback_table_size)
+        (rts_callback_table_count rts_callback_table_count)
+        (rootKey rootKey)
+        (replyDeadline replyDeadline)
+        (regionStoreNat8 regionStoreNat8)
+        (regionStoreNat64 regionStoreNat64)
+        (regionStoreNat32 regionStoreNat32)
+        (regionStoreNat16 regionStoreNat16)
+        (regionStoreInt8 regionStoreInt8)
+        (regionStoreInt64 regionStoreInt64)
+        (regionStoreInt32 regionStoreInt32)
+        (regionStoreInt16 regionStoreInt16)
+        (regionStoreFloat regionStoreFloat)
+        (regionStoreBlob regionStoreBlob)
+        (regionSize regionSize)
+        (regionNew regionNew)
+        (regionLoadNat8 regionLoadNat8)
+        (regionLoadNat64 regionLoadNat64)
+        (regionLoadNat32 regionLoadNat32)
+        (regionLoadNat16 regionLoadNat16)
+        (regionLoadInt8 regionLoadInt8)
+        (regionLoadInt64 regionLoadInt64)
+        (regionLoadInt32 regionLoadInt32)
+        (regionLoadInt16 regionLoadInt16)
+        (regionLoadFloat regionLoadFloat)
+        (regionLoadBlob regionLoadBlob)
+        (regionId regionId)
+        (regionGrow regionGrow)
+        (pruneConfirmedDeadBlobs pruneConfirmedDeadBlobs)
+        (principalOfBlob principalOfBlob)
+        (principalOfActor principalOfActor)
+        (popcntNat8 popcntNat8)
+        (popcntNat64 popcntNat64)
+        (popcntNat32 popcntNat32)
+        (popcntNat16 popcntNat16)
+        (popcntInt8 popcntInt8)
+        (popcntInt64 popcntInt64)
+        (popcntInt32 popcntInt32)
+        (popcntInt16 popcntInt16)
+        (performanceCounter performanceCounter)
+        (natToNat8 natToNat8)
+        (natToNat64 natToNat64)
+        (natToNat32 natToNat32)
+        (natToNat16 natToNat16)
+        (nat8ToNat16 nat8ToNat16)
+        (nat8ToNat nat8ToNat)
+        (nat8ToInt8 nat8ToInt8)
+        (nat64ToNat32 nat64ToNat32)
+        (nat64ToNat nat64ToNat)
+        (nat64ToInt64 nat64ToInt64)
+        (nat32ToNat64 nat32ToNat64)
+        (nat32ToNat16 nat32ToNat16)
+        (nat32ToNat nat32ToNat)
+        (nat32ToInt32 nat32ToInt32)
+        (nat32ToChar nat32ToChar)
+        (nat16ToNat8 nat16ToNat8)
+        (nat16ToNat32 nat16ToNat32)
+        (nat16ToNat nat16ToNat)
+        (nat16ToInt16 nat16ToInt16)
+        (log log)
+        (isStorageBlobLive isStorageBlobLive)
+        (isReplicatedExecution isReplicatedExecution)
+        (isLive isLive)
+        (isController isController)
+        (intToNat8Wrap intToNat8Wrap)
+        (intToNat64Wrap intToNat64Wrap)
+        (intToNat32Wrap intToNat32Wrap)
+        (intToNat16Wrap intToNat16Wrap)
+        (intToInt8Wrap intToInt8Wrap)
+        (intToInt8 intToInt8)
+        (intToInt64Wrap intToInt64Wrap)
+        (intToInt64 intToInt64)
+        (intToInt32Wrap intToInt32Wrap)
+        (intToInt32 intToInt32)
+        (intToInt16Wrap intToInt16Wrap)
+        (intToInt16 intToInt16)
+        (intToFloat intToFloat)
+        (int8ToNat8 int8ToNat8)
+        (int8ToInt16 int8ToInt16)
+        (int8ToInt int8ToInt)
+        (int64ToNat64 int64ToNat64)
+        (int64ToInt32 int64ToInt32)
+        (int64ToInt int64ToInt)
+        (int64ToFloat int64ToFloat)
+        (int32ToNat32 int32ToNat32)
+        (int32ToInt64 int32ToInt64)
+        (int32ToInt16 int32ToInt16)
+        (int32ToInt int32ToInt)
+        (int16ToNat16 int16ToNat16)
+        (int16ToInt8 int16ToInt8)
+        (int16ToInt32 int16ToInt32)
+        (int16ToInt int16ToInt)
+        (idlHash idlHash)
+        (hashBlob hashBlob)
+        (getSelfPrincipal getSelfPrincipal)
+        (getDeadBlobs getDeadBlobs)
+        (getCertificate getCertificate)
+        (getCandidTypeLimits getCandidTypeLimits)
+        (getCandidLimits getCandidLimits)
+        (forall forall)
+        (floatTrunc floatTrunc)
+        (floatToText floatToText)
+        (floatToInt64 floatToInt64)
+        (floatToInt floatToInt)
+        (floatToFormattedText floatToFormattedText)
+        (floatSqrt floatSqrt)
+        (floatNearest floatNearest)
+        (floatMin floatMin)
+        (floatMax floatMax)
+        (floatFloor floatFloor)
+        (floatCopySign floatCopySign)
+        (floatCeil floatCeil)
+        (floatAbs floatAbs)
+        (explodeNat64 explodeNat64)
+        (explodeNat32 explodeNat32)
+        (explodeNat16 explodeNat16)
+        (explodeInt64 explodeInt64)
+        (explodeInt32 explodeInt32)
+        (explodeInt16 explodeInt16)
+        (exp exp)
+        (exists exists)
+        (errorMessage errorMessage)
+        (errorCode errorCode)
+        (error error)
+        (envVarNames envVarNames)
+        (envVar envVar)
+        (encodeUtf8 encodeUtf8)
+        (decodeUtf8 decodeUtf8)
+        (debugPrintNat debugPrintNat)
+        (debugPrintInt debugPrintInt)
+        (debugPrintChar debugPrintChar)
+        (debugPrint debugPrint)
+        (cyclesRefunded cyclesRefunded)
+        (cyclesBurn cyclesBurn)
+        (cyclesBalance cyclesBalance)
+        (cyclesAvailable cyclesAvailable)
+        (cyclesAdd cyclesAdd)
+        (cyclesAccept cyclesAccept)
+        (ctzNat8 ctzNat8)
+        (ctzNat64 ctzNat64)
+        (ctzNat32 ctzNat32)
+        (ctzNat16 ctzNat16)
+        (ctzInt8 ctzInt8)
+        (ctzInt64 ctzInt64)
+        (ctzInt32 ctzInt32)
+        (ctzInt16 ctzInt16)
+        (createActor createActor)
+        (costSignWithSchnorr costSignWithSchnorr)
+        (costSignWithEcdsa costSignWithEcdsa)
+        (costHttpRequest costHttpRequest)
+        (costCreateCanister costCreateCanister)
+        (costCall costCall)
+        (cos cos)
+        (clzNat8 clzNat8)
+        (clzNat64 clzNat64)
+        (clzNat32 clzNat32)
+        (clzNat16 clzNat16)
+        (clzInt8 clzInt8)
+        (clzInt64 clzInt64)
+        (clzInt32 clzInt32)
+        (clzInt16 clzInt16)
+        (charToUpper charToUpper)
+        (charToText charToText)
+        (charToNat32 charToNat32)
+        (charToLower charToLower)
+        (charIsWhitespace charIsWhitespace)
+        (charIsUppercase charIsUppercase)
+        (charIsLowercase charIsLowercase)
+        (charIsAlphabetic charIsAlphabetic)
+        (canisterVersion canisterVersion)
+        (canisterSubnet canisterSubnet)
+        (cancelTimer cancelTimer)
+        (call_raw call_raw)
+        (btstNat8 btstNat8)
+        (btstNat64 btstNat64)
+        (btstNat32 btstNat32)
+        (btstNat16 btstNat16)
+        (btstInt8 btstInt8)
+        (btstInt64 btstInt64)
+        (btstInt32 btstInt32)
+        (btstInt16 btstInt16)
+        (blobToArrayMut blobToArrayMut)
+        (blobToArray blobToArray)
+        (blobOfPrincipal blobOfPrincipal)
+        (blobCompare blobCompare)
+        (arrayToBlob arrayToBlob)
+        (arrayMutToBlob arrayMutToBlob)
+        (arctan2 arctan2)
+        (arctan arctan)
+        (arcsin arcsin)
+        (arccos arccos)
+        (allocWeakRef allocWeakRef)
+        (abs abs)
+        (__getDedupTable __getDedupTable)
+        (Types Types)
+        (BlobIterator BlobIterator)
+        (Array_tabulateVar Array_tabulateVar)
+        (Array_tabulate Array_tabulate)
+        (Array_init Array_init)
+        module {Array_init : <T>(Nat, T) -> [var T]; Array_tabulate : <T>(Nat, Nat -> T) -> [T]; Array_tabulateVar : <T>(Nat, Nat -> T) -> [var T]; BlobIterator : [var __List] -> BlobIterator; Types : module {}; __getDedupTable : () -> ?[var __List]; abs : Int -> Nat; allocWeakRef : <T>T -> weak T; arccos : Float -> Float; arcsin : Float -> Float; arctan : Float -> Float; arctan2 : (Float, Float) -> Float; arrayMutToBlob : [var Nat8] -> Blob; arrayToBlob : [Nat8] -> Blob; blobCompare : (Blob, Blob) -> Int8; blobOfPrincipal : Principal -> Blob; blobToArray : Blob -> [Nat8]; blobToArrayMut : Blob -> [var Nat8]; btstInt16 : (Int16, Int16) -> Bool; btstInt32 : (Int32, Int32) -> Bool; btstInt64 : (Int64, Int64) -> Bool; btstInt8 : (Int8, Int8) -> Bool; btstNat16 : (Nat16, Nat16) -> Bool; btstNat32 : (Nat32, Nat32) -> Bool; btstNat64 : (Nat64, Nat64) -> Bool; btstNat8 : (Nat8, Nat8) -> Bool; call_raw : <system>(Principal, Text, Blob) -> (Blob -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; cancelTimer : Nat -> (); canisterSubnet : () -> Principal; canisterVersion : () -> Nat64; charIsAlphabetic : Char -> Bool; charIsLowercase : Char -> Bool; charIsUppercase : Char -> Bool; charIsWhitespace : Char -> Bool; charToLower : Char -> Char; charToNat32 : Char -> Nat32; charToText : Char -> Text; charToUpper : Char -> Char; clzInt16 : Int16 -> Int16; clzInt32 : Int32 -> Int32; clzInt64 : Int64 -> Int64; clzInt8 : Int8 -> Int8; clzNat16 : Nat16 -> Nat16; clzNat32 : Nat32 -> Nat32; clzNat64 : Nat64 -> Nat64; clzNat8 : Nat8 -> Nat8; cos : Float -> Float; costCall : (Nat64, Nat64) -> Nat; costCreateCanister : () -> Nat; costHttpRequest : (Nat64, Nat64) -> Nat; costSignWithEcdsa : (Text, Nat32) -> (Nat32, Nat); costSignWithSchnorr : (Text, Nat32) -> (Nat32, Nat); createActor : <system>(Blob, Blob) -> (Principal -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}; ctzInt16 : Int16 -> Int16; ctzInt32 : Int32 -> Int32; ctzInt64 : Int64 -> Int64; ctzInt8 : Int8 -> Int8; ctzNat16 : Nat16 -> Nat16; ctzNat32 : Nat32 -> Nat32; ctzNat64 : Nat64 -> Nat64; ctzNat8 : Nat8 -> Nat8; cyclesAccept : <system>Nat -> Nat; cyclesAdd : <system>Nat -> (); cyclesAvailable : () -> Nat; cyclesBalance : () -> Nat; cyclesBurn : <system>Nat -> Nat; cyclesRefunded : () -> Nat; debugPrint : Text -> (); debugPrintChar : Char -> (); debugPrintInt : Int -> (); debugPrintNat : Nat -> (); decodeUtf8 : Blob -> ?Text; encodeUtf8 : Text -> Blob; envVar : <system>Text -> ?Text; envVarNames : <system>() -> [Text]; error : Text -> Error; errorCode : Error -> ErrorCode; errorMessage : Error -> Text; exists : <T>(T -> Bool) -> Bool; exp : Float -> Float; explodeInt16 : Int16 -> (Nat8, Nat8); explodeInt32 : Int32 -> (Nat8, Nat8, Nat8, Nat8); explodeInt64 : Int64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); explodeNat16 : Nat16 -> (Nat8, Nat8); explodeNat32 : Nat32 -> (Nat8, Nat8, Nat8, Nat8); explodeNat64 : Nat64 -> (Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8, Nat8); floatAbs : Float -> Float; floatCeil : Float -> Float; floatCopySign : (Float, Float) -> Float; floatFloor : Float -> Float; floatMax : (Float, Float) -> Float; floatMin : (Float, Float) -> Float; floatNearest : Float -> Float; floatSqrt : Float -> Float; floatToFormattedText : (Float, Nat8, Nat8) -> Text; floatToInt : Float -> Int; floatToInt64 : Float -> Int64; floatToText : Float -> Text; floatTrunc : Float -> Float; forall : <T>(T -> Bool) -> Bool; getCandidLimits : <system>() -> {bias : Nat32; denominator : Nat32; numerator : Nat32}; getCandidTypeLimits : <system>() -> {bias : Nat32; scalar : Nat32}; getCertificate : () -> ?Blob; getDeadBlobs : () -> ?[Blob]; getSelfPrincipal : <system>() -> Principal; hashBlob : Blob -> Nat32; idlHash : Text -> Nat32; int16ToInt : Int16 -> Int; int16ToInt32 : Int16 -> Int32; int16ToInt8 : Int16 -> Int8; int16ToNat16 : Int16 -> Nat16; int32ToInt : Int32 -> Int; int32ToInt16 : Int32 -> Int16; int32ToInt64 : Int32 -> Int64; int32ToNat32 : Int32 -> Nat32; int64ToFloat : Int64 -> Float; int64ToInt : Int64 -> Int; int64ToInt32 : Int64 -> Int32; int64ToNat64 : Int64 -> Nat64; int8ToInt : Int8 -> Int; int8ToInt16 : Int8 -> Int16; int8ToNat8 : Int8 -> Nat8; intToFloat : Int -> Float; intToInt16 : Int -> Int16; intToInt16Wrap : Int -> Int16; intToInt32 : Int -> Int32; intToInt32Wrap : Int -> Int32; intToInt64 : Int -> Int64; intToInt64Wrap : Int -> Int64; intToInt8 : Int -> Int8; intToInt8Wrap : Int -> Int8; intToNat16Wrap : Int -> Nat16; intToNat32Wrap : Int -> Nat32; intToNat64Wrap : Int -> Nat64; intToNat8Wrap : Int -> Nat8; isController : Principal -> Bool; isLive : weak Any -> Bool; isReplicatedExecution : () -> Bool; isStorageBlobLive : Blob -> Bool; log : Float -> Float; nat16ToInt16 : Nat16 -> Int16; nat16ToNat : Nat16 -> Nat; nat16ToNat32 : Nat16 -> Nat32; nat16ToNat8 : Nat16 -> Nat8; nat32ToChar : Nat32 -> Char; nat32ToInt32 : Nat32 -> Int32; nat32ToNat : Nat32 -> Nat; nat32ToNat16 : Nat32 -> Nat16; nat32ToNat64 : Nat32 -> Nat64; nat64ToInt64 : Nat64 -> Int64; nat64ToNat : Nat64 -> Nat; nat64ToNat32 : Nat64 -> Nat32; nat8ToInt8 : Nat8 -> Int8; nat8ToNat : Nat8 -> Nat; nat8ToNat16 : Nat8 -> Nat16; natToNat16 : Nat -> Nat16; natToNat32 : Nat -> Nat32; natToNat64 : Nat -> Nat64; natToNat8 : Nat -> Nat8; performanceCounter : Nat32 -> Nat64; popcntInt16 : Int16 -> Int16; popcntInt32 : Int32 -> Int32; popcntInt64 : Int64 -> Int64; popcntInt8 : Int8 -> Int8; popcntNat16 : Nat16 -> Nat16; popcntNat32 : Nat32 -> Nat32; popcntNat64 : Nat64 -> Nat64; popcntNat8 : Nat8 -> Nat8; principalOfActor : (actor {}) -> Principal; principalOfBlob : Blob -> Principal; pruneConfirmedDeadBlobs : [Blob] -> (); regionGrow : (Region, Nat64) -> Nat64; regionId : Region -> Nat; regionLoadBlob : (Region, Nat64, Nat) -> Blob; regionLoadFloat : (Region, Nat64) -> Float; regionLoadInt16 : (Region, Nat64) -> Int16; regionLoadInt32 : (Region, Nat64) -> Int32; regionLoadInt64 : (Region, Nat64) -> Int64; regionLoadInt8 : (Region, Nat64) -> Int8; regionLoadNat16 : (Region, Nat64) -> Nat16; regionLoadNat32 : (Region, Nat64) -> Nat32; regionLoadNat64 : (Region, Nat64) -> Nat64; regionLoadNat8 : (Region, Nat64) -> Nat8; regionNew : () -> Region; regionSize : Region -> Nat64; regionStoreBlob : (Region, Nat64, Blob) -> (); regionStoreFloat : (Region, Nat64, Float) -> (); regionStoreInt16 : (Region, Nat64, Int16) -> (); regionStoreInt32 : (Region, Nat64, Int32) -> (); regionStoreInt64 : (Region, Nat64, Int64) -> (); regionStoreInt8 : (Region, Nat64, Int8) -> (); regionStoreNat16 : (Region, Nat64, Nat16) -> (); regionStoreNat32 : (Region, Nat64, Nat32) -> (); regionStoreNat64 : (Region, Nat64, Nat64) -> (); regionStoreNat8 : (Region, Nat64, Nat8) -> (); replyDeadline : () -> Nat64; rootKey : () -> Blob; rts_callback_table_count : () -> Nat; rts_callback_table_size : () -> Nat; rts_collector_instructions : () -> Nat; rts_heap_size : () -> Nat; rts_lifetime_instructions : () -> Nat; rts_logical_stable_memory_size : () -> Nat; rts_max_live_size : () -> Nat; rts_max_stack_size : () -> Nat; rts_memory_size : () -> Nat; rts_mutator_instructions : () -> Nat; rts_reclaimed : () -> Nat; rts_stable_memory_size : () -> Nat; rts_total_allocation : () -> Nat; rts_upgrade_instructions : () -> Nat; rts_version : () -> Text; setCandidLimits : <system>{bias : Nat32; denominator : Nat32; numerator : Nat32} -> (); setCandidTypeLimits : <system>{bias : Nat32; scalar : Nat32} -> (); setCertifiedData : Blob -> (); setTimer : <system>(Nat64, Bool, <system_1>() -> (() -> (), Error -> (), () -> ()) -> {#schedule : () -> (); #suspend}) -> Nat; shiftLeft : (Nat, Nat32) -> Nat; shiftRight : (Nat, Nat32) -> Nat; sin : Float -> Float; stableMemoryGrow : Nat64 -> Nat64; stableMemoryLoadBlob : (Nat64, Nat) -> Blob; stableMemoryLoadFloat : Nat64 -> Float; stableMemoryLoadInt16 : Nat64 -> Int16; stableMemoryLoadInt32 : Nat64 -> Int32; stableMemoryLoadInt64 : Nat64 -> Int64; stableMemoryLoadInt8 : Nat64 -> Int8; stableMemoryLoadNat16 : Nat64 -> Nat16; stableMemoryLoadNat32 : Nat64 -> Nat32; stableMemoryLoadNat64 : Nat64 -> Nat64; stableMemoryLoadNat8 : Nat64 -> Nat8; stableMemorySize : () -> Nat64; stableMemoryStoreBlob : (Nat64, Blob) -> (); stableMemoryStoreFloat : (Nat64, Float) -> (); stableMemoryStoreInt16 : (Nat64, Int16) -> (); stableMemoryStoreInt32 : (Nat64, Int32) -> (); stableMemoryStoreInt64 : (Nat64, Int64) -> (); stableMemoryStoreInt8 : (Nat64, Int8) -> (); stableMemoryStoreNat16 : (Nat64, Nat16) -> (); stableMemoryStoreNat32 : (Nat64, Nat32) -> (); stableMemoryStoreNat64 : (Nat64, Nat64) -> (); stableMemoryStoreNat8 : (Nat64, Nat8) -> (); stableVarQuery : () -> shared query <system>() -> replies {size : Nat64}; tan : Float -> Float; textCompare : (Text, Text) -> Int8; textLowercase : Text -> Text; textUppercase : Text -> Text; time : () -> Nat64; trap : Text -> None; weakGet : <T>weak T -> ?T}
+      )
+    )
+  )
+  (LetD
+    (VarP file$issue-5767/Region.mo)
+    (BlockE
+      (LetD (VarP Prim) (VarE file$@prim))
+      (BlockE
+        (LetD (VarP new) (PrimE (DotPrim regionNew) (VarE Prim)))
+        (LetD
+          (VarP grow)
+          (FuncE
+            grow
+            Local
+            Returns
+            (params self newPages)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionGrow) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE newPages))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64)
+          (FuncE
+            loadNat64
+            Local
+            Returns
+            (params self offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE self) (VarE offset))
+            )
+          )
+        )
+        (LetD
+          (VarP loadNat64Fn)
+          (FuncE
+            loadNat64Fn
+            Local
+            Returns
+            (params r offset)
+            Nat64
+            (PrimE
+              (CallPrim)
+              (PrimE (DotPrim regionLoadNat64) (VarE Prim))
+              (PrimE TupPrim (VarE r) (VarE offset))
+            )
+          )
+        )
+        (NewObjE
+          Module
+          (new new)
+          (loadNat64Fn loadNat64Fn)
+          (loadNat64 loadNat64)
+          (grow grow)
+          module {grow : (Region, Nat64) -> Nat64; loadNat64 : (Region, Nat64) -> Nat64; loadNat64Fn : (Region, Nat64) -> Nat64; new : () -> Region}
+        )
+      )
+    )
+  )
+  (LetD (VarP Region) (VarE file$issue-5767/Region.mo))
+  (LetD
+    (VarP $__motoko_stable_var_info)
+    (FuncE
+      $__motoko_stable_var_info
+      Shared Query
+      Replies
+      (T1 Any)
+      {size : Nat64}
+      (PrimE
+        (CallPrim T1)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          (T2 Any)
+          (params $k/10 $r/6 $b/4)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/10)
+            (BlockE
+              (LetD (VarP $$caller/0/0) (PrimE ICCallerPrim))
+              (LetD
+                WildP
+                (PrimE
+                  AssertPrim
+                  (IfE
+                    (PrimE
+                      (RelPrim Principal EqOp)
+                      (VarE $$caller/0/0)
+                      (PrimE (SelfRef Principal))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE is_controller (VarE $$caller/0/0))
+                  )
+                )
+              )
+              (LetD
+                (VarP $$size/0/0)
+                (PrimE (ICStableSize memory {}) (NewObjE Memory memory {}))
+              )
+              (NewObjE Object (size $$size/0/0) {size : Nat64})
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $v/46)
+            ()
+            (PrimE (ICReplyPrim {size : Nat64}) (VarE $v/46))
+          )
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $e/6)
+            ()
+            (PrimE
+              ICRejectPrim
+              (PrimE
+                (ProjPrim 1)
+                (PrimE
+                  (CastPrim
+                    Error
+                    ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                  )
+                  (VarE $e/6)
+                )
+              )
+            )
+          )
+          (VarE @cleanup)
+        )
+      )
+    )
+  )
+  (LetD
+    (VarP $__motoko_runtime_information)
+    (FuncE
+      $__motoko_runtime_information
+      Shared Query
+      Replies
+      (T1 Any)
+      {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+      (PrimE
+        (CallPrim T1)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          (T2 Any)
+          (params $k/11 $r/7 $b/5)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/11)
+            (BlockE
+              (LetD (VarP $$caller/1/0) (PrimE ICCallerPrim))
+              (LetD
+                WildP
+                (IfE
+                  (IfE
+                    (PrimE
+                      (RelPrim Principal EqOp)
+                      (VarE $$caller/1/0)
+                      (PrimE (SelfRef Principal))
+                    )
+                    (LitE (BoolLit true))
+                    (PrimE is_controller (VarE $$caller/1/0))
+                  )
+                  (PrimE TupPrim)
+                  (PrimE
+                    trap
+                    (LitE
+                      (TextLit
+                        Unauthorized call of __motoko_runtime_information
+                      )
+                    )
+                  )
+                )
+              )
+              (LetD
+                (VarP $$compilerVersion/0/0)
+                (LitE (TextLit 1.0.0-77-g4d85e5c86-dirty))
+              )
+              (LetD
+                (VarP $$garbageCollector/0/0)
+                (LitE (TextLit default force))
+              )
+              (LetD (VarP $$rtsVersion/0/0) (PrimE rts_version))
+              (LetD (VarP $$sanityChecks/0/0) (LitE (BoolLit false)))
+              (LetD (VarP $$memorySize/0/0) (PrimE rts_memory_size))
+              (LetD (VarP $$heapSize/0/0) (PrimE rts_heap_size))
+              (LetD (VarP $$totalAllocation/0/0) (PrimE rts_total_allocation))
+              (LetD (VarP $$reclaimed/0/0) (PrimE rts_reclaimed))
+              (LetD (VarP $$maxLiveSize/0/0) (PrimE rts_max_live_size))
+              (LetD
+                (VarP $$stableMemorySize/0/0)
+                (PrimE rts_stable_memory_size)
+              )
+              (LetD
+                (VarP $$logicalStableMemorySize/0/0)
+                (PrimE rts_logical_stable_memory_size)
+              )
+              (LetD (VarP $$maxStackSize/0/0) (PrimE rts_max_stack_size))
+              (LetD
+                (VarP $$callbackTableCount/0/0)
+                (PrimE rts_callback_table_count)
+              )
+              (LetD
+                (VarP $$callbackTableSize/0/0)
+                (PrimE rts_callback_table_size)
+              )
+              (NewObjE
+                Object
+                (callbackTableSize $$callbackTableSize/0/0)
+                (callbackTableCount $$callbackTableCount/0/0)
+                (maxStackSize $$maxStackSize/0/0)
+                (logicalStableMemorySize $$logicalStableMemorySize/0/0)
+                (stableMemorySize $$stableMemorySize/0/0)
+                (maxLiveSize $$maxLiveSize/0/0)
+                (reclaimed $$reclaimed/0/0)
+                (totalAllocation $$totalAllocation/0/0)
+                (heapSize $$heapSize/0/0)
+                (memorySize $$memorySize/0/0)
+                (sanityChecks $$sanityChecks/0/0)
+                (rtsVersion $$rtsVersion/0/0)
+                (garbageCollector $$garbageCollector/0/0)
+                (compilerVersion $$compilerVersion/0/0)
+                {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+              )
+            )
+          )
+        )
+        (PrimE
+          TupPrim
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $v/47)
+            ()
+            (PrimE
+              (ICReplyPrim
+                {callbackTableCount : Nat; callbackTableSize : Nat; compilerVersion : Text; garbageCollector : Text; heapSize : Nat; logicalStableMemorySize : Nat; maxLiveSize : Nat; maxStackSize : Nat; memorySize : Nat; reclaimed : Nat; rtsVersion : Text; sanityChecks : Bool; stableMemorySize : Nat; totalAllocation : Nat}
+              )
+              (VarE $v/47)
+            )
+          )
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $e/7)
+            ()
+            (PrimE
+              ICRejectPrim
+              (PrimE
+                (ProjPrim 1)
+                (PrimE
+                  (CastPrim
+                    Error
+                    ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                  )
+                  (VarE $e/7)
+                )
+              )
+            )
+          )
+          (VarE @cleanup)
+        )
+      )
+    )
+  )
+  (LetD (VarP A) (PrimE (SelfRef actor {go : shared <system>() -> replies ()})))
+  (VarD $state/0 ?(memory {}) (PrimE OptPrim (PrimE (ICStableRead memory {}))))
+  (LetD
+    (VarP $getState/0)
+    (FuncE
+      $getState/0
+      Local
+      Returns
+      memory {}
+      (SwitchE
+        (VarE! $state/0)
+        (case (LitP NullLit) (LoopE (PrimE TupPrim)))
+        (case (OptP (VarP $v/0)) (VarE $v/0))
+      )
+    )
+  )
+  (LetD
+    (VarP r)
+    (PrimE (CallPrim) (PrimE (DotPrim new) (VarE Region)) (PrimE TupPrim))
+  )
+  (LetD
+    WildP
+    (PrimE
+      (CallPrim)
+      (PrimE (DotPrim grow) (VarE Region))
+      (PrimE TupPrim (VarE r) (LitE (Nat64Lit 1)))
+    )
+  )
+  (LetD
+    (VarP kermit)
+    (FuncE
+      kermit
+      Local
+      Returns
+      ()
+      (BlockE
+        (LetD
+          (VarP w1)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w2)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (LetD
+          (VarP w3)
+          (PrimE
+            (CallPrim)
+            (PrimE (DotPrim loadNat64Fn) (VarE Region))
+            (PrimE TupPrim (VarE r) (LitE (Nat64Lit 0)))
+          )
+        )
+        (PrimE TupPrim)
+      )
+    )
+  )
+  (LetD
+    (VarP go)
+    (FuncE
+      go
+      Shared
+      Replies
+      ($ Any)
+      ()
+      (PrimE
+        (CallPrim $)
+        (FuncE
+          $lambda
+          Local
+          Returns
+          ($go Any)
+          (params $k/12 $r/8 $b/6)
+          ()
+          (PrimE
+            (CallPrim)
+            (VarE $k/12)
+            (PrimE (CallPrim) (VarE kermit) (PrimE TupPrim))
+          )
+        )
+        (PrimE
+          TupPrim
+          (FuncE
+            $lambda
+            Local
+            Returns
+            ()
+            (BlockE
+              (LetD (VarP $v/48) (PrimE TupPrim))
+              (PrimE (ICReplyPrim) (VarE $v/48))
+            )
+          )
+          (FuncE
+            $lambda
+            Local
+            Returns
+            (params $e/8)
+            ()
+            (PrimE
+              ICRejectPrim
+              (PrimE
+                (ProjPrim 1)
+                (PrimE
+                  (CastPrim
+                    Error
+                    ({#call_error : {err_code : Nat32}; #canister_error; #canister_reject; #destination_invalid; #future : Nat32; #system_fatal; #system_transient; #system_unknown}, Text)
+                  )
+                  (VarE $e/8)
+                )
+              )
+            )
+          )
+          (VarE @cleanup)
+        )
+      )
+    )
+  )
+  (LetD WildP (AssignE (VarLE $state/0) (LitE NullLit)))
+  (go go)
+  (__motoko_runtime_information $__motoko_runtime_information)
+  (__motoko_stable_var_info $__motoko_stable_var_info)
+  (System
+    (Pre (PrimE (ICStableWrite memory {})))
+    (Post (PrimE TupPrim))
+    (Heartbeat (PrimE TupPrim))
+    (Timer
+      (BlockE
+        (LetD
+          (VarP $r/0)
+          (FuncE
+            $r/0
+            Local
+            Returns
+            (params $e/0)
+            ()
+            (BlockE
+              (LetD WildP (PrimE global_timer_set (LitE (Nat64Lit 1))))
+              (PrimE TupPrim)
+            )
+          )
+        )
+        (BlockE
+          (LetD
+            (VarP $u/0)
+            (PrimE (CallPrim ()) (VarE @timer_helper) (PrimE TupPrim))
+          )
+          (IfE
+            (PrimE (CallPrim) (VarE @call_succeeded) (PrimE TupPrim))
+            (BlockE
+              (LetD WildP (VarE $u/0))
+              (BlockE
+                (LetD (VarP $u/1) (PrimE TupPrim))
+                (BlockE
+                  (LetD (VarP $u/2) (PrimE TupPrim))
+                  (BlockE (LetD (VarP $u/3) (PrimE TupPrim)) (PrimE TupPrim))
+                )
+              )
+            )
+            (PrimE
+              (CallPrim)
+              (VarE $r/0)
+              (PrimE (CallPrim) (VarE @call_error) (PrimE TupPrim))
+            )
+          )
+        )
+      )
+    )
+    (Inspect (PrimE TupPrim))
+    (LowMemory (PrimE TupPrim))
+    (StableRecord (NewObjE Memory memory {}))
+    (StableType memory {} memory {})
+  )
+  actor {go : shared <system>() -> replies ()}
+)
 prim:___: execution error, Value.prim: regionNew
