non-closed actor: (ActorE
  anon-object-1.32
  (issuer issuer (CallE (class  0 -> 1) (VarE Issuer) (TupE)) Const Private)
  (reserve
    reserve
    (CallE (class  1 -> 1) (VarE Account) (VarE supply))
    Const
    Private
  )
  (getIssuer
    getIssuer
    (BlockE
      (FuncD
        (shared  1 -> 0)
        getIssuer
        (VarP $0)
        ()
        (BlockE
          (LetD (TupP) (TupE))
          (ExpD
            (CallE
              ( 1 -> 0)
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $0)
                  ()
                  (CallE
                    ( 1 -> 0)
                    (VarE $0)
                    (BlockE
                      (ExpD (RetE (CallE ( 1 -> 0) (VarE $0) (VarE issuer))))
                      Issuer
                    )
                  )
                )
                (Issuer -> ()) -> ()
              )
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $1)
                  ()
                  (CallE (shared  1 -> 0) (VarE $0) (VarE $1))
                )
                Issuer -> ()
              )
            )
          )
          ()
        )
      )
      shared (shared Issuer -> ()) -> ()
    )
    Const
    Public
  )
  (getReserve
    getReserve
    (BlockE
      (FuncD
        (shared  1 -> 0)
        getReserve
        (VarP $2)
        ()
        (BlockE
          (LetD (TupP) (TupE))
          (ExpD
            (CallE
              ( 1 -> 0)
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $1)
                  ()
                  (CallE
                    ( 1 -> 0)
                    (VarE $1)
                    (BlockE
                      (ExpD (RetE (CallE ( 1 -> 0) (VarE $1) (VarE reserve))))
                      Account
                    )
                  )
                )
                (Account -> ()) -> ()
              )
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $3)
                  ()
                  (CallE (shared  1 -> 0) (VarE $2) (VarE $3))
                )
                Account -> ()
              )
            )
          )
          ()
        )
      )
      shared (shared Account -> ()) -> ()
    )
    Const
    Public
  )
  Bank
)
non-closed actor: (ActorE
  self
  (balance balance (VarE initialBalance) Var Private)
  (getBalance
    getBalance
    (BlockE
      (FuncD
        (shared  1 -> 0)
        getBalance
        (VarP $6)
        ()
        (BlockE
          (LetD (TupP) (TupE))
          (ExpD
            (CallE
              ( 1 -> 0)
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $3)
                  ()
                  (CallE
                    ( 1 -> 0)
                    (VarE $3)
                    (BlockE
                      (ExpD (RetE (CallE ( 1 -> 0) (VarE $3) (VarE balance))))
                      Int
                    )
                  )
                )
                (Int -> ()) -> ()
              )
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $7)
                  ()
                  (CallE (shared  1 -> 0) (VarE $6) (VarE $7))
                )
                Int -> ()
              )
            )
          )
          ()
        )
      )
      shared (shared Int -> ()) -> ()
    )
    Const
    Public
  )
  (split
    split
    (BlockE
      (FuncD
        (shared  2 -> 0)
        split
        (TupP (VarP amount) (VarP $8))
        ()
        (BlockE
          (ExpD
            (CallE
              ( 1 -> 0)
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $4)
                  ()
                  (CallE
                    ( 1 -> 0)
                    (VarE $4)
                    (BlockE
                      (ExpD
                        (AssignE
                          (VarE balance)
                          (BinE Int (VarE balance) SubOp (VarE amount))
                        )
                      )
                      (ExpD
                        (RetE
                          (CallE
                            ( 1 -> 0)
                            (VarE $4)
                            (CallE (class  1 -> 1) (VarE Account) (VarE amount))
                          )
                        )
                      )
                      Account
                    )
                  )
                )
                (Account -> ()) -> ()
              )
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $9)
                  ()
                  (CallE (shared  1 -> 0) (VarE $8) (VarE $9))
                )
                Account -> ()
              )
            )
          )
          ()
        )
      )
      shared (Int, shared Account -> ()) -> ()
    )
    Const
    Public
  )
  (join
    join
    (BlockE
      (FuncD
        (shared  1 -> 0)
        join
        (VarP account)
        ()
        (BlockE
          (ExpD (AssertE (IsE (VarE account) (VarE Account))))
          (LetD (VarP amount) (VarE balance))
          (ExpD (AssignE (VarE balance) (LitE (IntLit 0))))
          (ExpD
            (CallE
              (shared  2 -> 0)
              (ActorDotE (VarE account) credit)
              (TupE (VarE amount) (VarE Account))
            )
          )
          ()
        )
      )
      shared (like Account) -> ()
    )
    Const
    Public
  )
  (credit
    credit
    (BlockE
      (FuncD
        (shared  2 -> 0)
        credit
        (TupP (VarP amount) (VarP caller))
        ()
        (BlockE
          (ExpD (AssertE (IsE (VarE self) (VarE caller))))
          (ExpD
            (AssignE
              (VarE balance)
              (BinE Int (VarE balance) AddOp (VarE amount))
            )
          )
          ()
        )
      )
      shared (Int, Class) -> ()
    )
    Const
    Public
  )
  (isCompatible
    isCompatible
    (BlockE
      (FuncD
        (shared  2 -> 0)
        isCompatible
        (TupP (VarP account) (VarP $10))
        ()
        (BlockE
          (ExpD
            (CallE
              ( 1 -> 0)
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $5)
                  ()
                  (CallE
                    ( 1 -> 0)
                    (VarE $5)
                    (BlockE
                      (ExpD
                        (RetE
                          (CallE
                            ( 1 -> 0)
                            (VarE $5)
                            (IsE (VarE account) (VarE Account))
                          )
                        )
                      )
                      Bool
                    )
                  )
                )
                (Bool -> ()) -> ()
              )
              (BlockE
                (FuncD
                  ( 1 -> 0)
                  $lambda
                  (VarP $11)
                  ()
                  (CallE (shared  1 -> 0) (VarE $10) (VarE $11))
                )
                Bool -> ()
              )
            )
          )
          ()
        )
      )
      shared (like Account, shared Bool -> ()) -> ()
    )
    Const
    Public
  )
  Account
)
